(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{41012:function(e,t,n){"use strict";n.d(t,{WF:function(){return CustomUIMenu},$b:function(){return CustomUIMenuOverlay},qo:function(){return PopoverContextProvider},ZP:function(){return inputFooter_ChatMessageCustomUIButton}});var o=n(85893),r=n(94370),a=n(67172),l=n(67294),s=n(22120),i=n(49460),u=n(38401),c=n(13239),d=n.n(c),aspectRatio_AspectRatioControl=e=>{let{value:t,defaultValue:n,aspectRatios:r,onValueChange:a}=e,s=l.useMemo(()=>r.sort((e,t)=>t.width/t.height-e.width/e.height),[r]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:d().container,children:(0,o.jsxs)(u.UG,{value:t,defaultValue:n,onValueChange:a,type:"radio",className:d().toggleGroup,children:[s.map((e,t)=>(0,o.jsxs)(u.GB,{value:e.value||"".concat(e.width,":").concat(e.height),className:d().toggleGroupButton,children:[(0,o.jsx)(AspectRatioPreview,{width:e.width,height:e.height}),e.width,":",e.height]},t)),s.length%3!=0&&(0,o.jsx)("div",{className:d().toggleGroupSpacer})]})})})};let AspectRatioPreview=e=>{let{width:t,height:n}=e,r=l.useMemo(()=>({width:t>=n?"100%":"".concat(t/n*100,"%"),height:t>=n?"".concat(n/t*100,"%"):"100%"}),[t,n]);return(0,o.jsx)("div",{className:d().aspectRatioPreviewContainer,children:(0,o.jsx)("div",{className:d().aspectRatioPreview,style:r})})};var m=n(67265),p=n(21054),h=n(78410),C=n(12251),_=n(61936),f=n(97554),g=n.n(f),x=n(65858),v=n.n(x);let AttachmentBubble=e=>{let{file:t,index:n,onDismiss:r}=e,a=(0,l.useCallback)(()=>{r(n)},[r,n]);return(0,o.jsx)(m.Z,{className:v().attachment,onDismiss:a,children:(0,o.jsx)(p.ZP,{file:t})})};var filePicker_FilePickerControl=e=>{let{attachedFiles:t,allowMultipleFiles:n,addFile:a,removeFile:u}=e,{t:c}=(0,s.$G)(),d=t.length>0,m=(0,i.ac)(g()["compact-only"]),p=!d||n,f=(0,l.useCallback)(e=>{var t;if(e.preventDefault(),!p)return;let n=null===(t=e.dataTransfer)||void 0===t?void 0:t.files;if(n&&n.length>0){let e=n[0];a(e)}},[a,p]),x=(0,l.useRef)(null),{isDropTargetDraggingOver:b,isDocumentDraggingOver:j}=(0,_.Y)(x,f),I=(0,l.useCallback)(e=>{let t=e.target.files;if(t&&t.length>0){let n=t[0];e.target.value="",a(n)}},[a]),y=(0,l.useRef)(null),w=(0,l.useCallback)(()=>{var e;null==y||null===(e=y.current)||void 0===e||e.click()},[]),k=p&&j,N=p&&b,S=d&&n,U=!d||k,R=c(j||d?"Drop a file here":m?"Add a file":"Add or drop a file");return(0,o.jsxs)("div",{ref:x,className:(0,C.$)(v().dropZone,d?v().dropZoneWithFiles:v().dropZoneEmpty),"data-visible":k,"data-active":N,onClick:d?void 0:w,role:"button",tabIndex:0,children:[(0,o.jsx)("input",{className:v().fileInput,ref:y,type:"file",onChange:I}),d?(0,o.jsxs)("div",{className:v().attachmentsBar,children:[t.map((e,t)=>(0,o.jsx)(AttachmentBubble,{index:t,file:e,onDismiss:u},t)),S&&!j?(0,o.jsx)(h.Z,{as:"button",size:"md",theme:"secondary",showIconOnly:"always",iconLeft:(0,o.jsx)(r.SC,{}),onClick:w,"data-button-file-input":!0}):null]}):null,(0,o.jsxs)("div",{"data-visible":U,className:d?v().instructionBar:v().instructionBarEmpty,children:[(0,o.jsx)(r.SC,{size:"sm"}),R]})]})},b=n(92087),j=n(53919),I=n(19897),y=n(79132),w=n(21186),k=n(17371),N=n(46272),S=n(21900),U=n(1261),R=n(84684),D=n(75241),F=n(30204),P=n(94257),T=n.n(P);let defaultValueForControl=(e,t)=>{"condition"==e.control?e.controls.forEach(e=>{defaultValueForControl(e,t)}):"text_field"==e.control?t[e.parameter_name]=e.default_value||"":"text_area"==e.control?t[e.parameter_name]=e.default_value||"":"number_field"==e.control?t[e.parameter_name]="number"==typeof e.default_value?e.default_value.toString():"":"drop_down"==e.control?t[e.parameter_name]=e.default_value||"":"slider"==e.control?t[e.parameter_name]="number"==typeof e.default_value?e.default_value:e.min_value:"toggle_switch"==e.control?t[e.parameter_name]=!!e.default_value:"aspect_ratio"==e.control?t[e.parameter_name]=e.default_value||"":"file_picker"==e.control&&(t[e.parameter_name]=0)},defaultValuesForTab=(e,t)=>{e.controls.forEach(e=>{defaultValueForControl(e,t)})},defaultValuesForSection=(e,t)=>{let n=e.controls||[],o=e.tabs||[];n.forEach(e=>{defaultValueForControl(e,t)}),o.forEach(e=>{defaultValuesForTab(e,t)})},defaultValuesForDefinition=e=>{let t={};return e.sections.forEach(e=>{defaultValuesForSection(e,t)}),t};let IdCounter=class IdCounter{count(){return this.counter++,this.counter.toString()}constructor(){this.counter=-1}};let assignIdentifiersToBaseControl=(e,t)=>({...e,id:t.count()}),assignIdentifiersToControl=(e,t)=>{if("condition"!=e.control)return assignIdentifiersToBaseControl(e,t);{let n=[];return e.controls.forEach(e=>{n.push(assignIdentifiersToBaseControl(e,t))}),{...e,controls:n}}},assignIdentifiersToTab=(e,t)=>{let n=[];return e.controls.forEach(e=>{n.push(assignIdentifiersToControl(e,t))}),{...e,controls:n}},assignIdentifiersToSection=(e,t)=>{if(e.controls){let n=[];return e.controls.forEach(e=>{n.push(assignIdentifiersToControl(e,t))}),{...e,controls:n}}{let n=[];return e.tabs.forEach(e=>{n.push(assignIdentifiersToTab(e,t))}),{...e,tabs:n}}},assignIdentifiersToDefinition=e=>{let t=new IdCounter,n=[];return e.sections.forEach(e=>{n.push(assignIdentifiersToSection(e,t))}),{...e,sections:n}},CustomUITextField=e=>{let{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:a}=e,s=t.parameter_name,i=n[s],u=t.placeholder||"",c=t.description?t.description:void 0,d=(0,l.useCallback)(e=>{r(s,e.target.value,t.id)},[r,s,t.id]);return(0,o.jsxs)("div",{className:(0,C.$)(T().component,a?T().conditionallyRendered:null),children:[(0,o.jsx)(w.Z,{className:T().componentLabel,description:c,children:t.label}),(0,o.jsx)(D.Z,{value:i&&"string"==typeof i?i:"",onChange:d,placeholder:u})]})},CustomUINumberField=e=>{let{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:a}=e,s=t.parameter_name,i=n[s],u=t.placeholder||"",c=t.description?t.description:void 0,d=(0,l.useCallback)(e=>{r(s,e.target.value,t.id)},[r,s,t.id]);return(0,o.jsxs)("div",{className:(0,C.$)(T().component,a?T().conditionallyRendered:null),children:[(0,o.jsx)(w.Z,{className:T().componentLabel,description:c,children:t.label}),(0,o.jsx)(D.Z,{value:i&&"string"==typeof i?i:"",onChange:d,placeholder:u})]})},CustomUITextArea=e=>{let{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:a}=e,s=t.parameter_name,i=n[s],u=t.placeholder||"",c=t.description?t.description:void 0,d=(0,l.useCallback)(e=>{r(s,e.target.value,t.id)},[r,s,t.id]);return(0,o.jsxs)("div",{className:(0,C.$)(T().component,a?T().conditionallyRendered:null),children:[(0,o.jsx)(w.Z,{className:T().componentLabel,description:c,children:t.label}),(0,o.jsx)(R.Z,{value:i&&"string"==typeof i?i:"",onChange:d,placeholder:u})]})},CustomUIDropDown=e=>{let{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:a}=e,{t:i}=(0,s.$G)(),u=t.parameter_name,c=n[u],d=t.default_value,m=(0,l.useCallback)(e=>{r(u,e.target.value,t.id)},[r,u,t.id]),p=t.description?t.description:void 0;return(0,o.jsxs)("div",{className:(0,C.$)(T().component,a?T().conditionallyRendered:null),children:[(0,o.jsx)(w.Z,{className:T().componentLabel,description:p,children:t.label}),(0,o.jsx)(y.Z,{value:c&&"string"==typeof c?c:"",onChange:m,placeholder:d?void 0:i("None"),children:t.options.map(e=>(0,o.jsx)("option",{value:e.value,children:e.name},e.value))})]})},CustomUIToggleSwitch=e=>{let{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:a}=e,s=t.parameter_name,i=n[s],u=t.description?t.description:void 0,c=(0,l.useCallback)(e=>{r(s,e.target.checked,t.id)},[r,s,t.id]);return(0,o.jsxs)("div",{className:(0,C.$)(T().toggleSwitch,a?T().conditionallyRendered:null),children:[(0,o.jsx)(w.Z,{className:T().componentLabel,description:u,children:t.label}),(0,o.jsx)(S.Z,{isChecked:!!i&&"boolean"==typeof i&&i,onChange:c})]})},CustomUISlider=e=>{let{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:a}=e,s=t.parameter_name,i=n[s],u="number"==typeof i?i:t.min_value,c=t.description?t.description:void 0,d=(0,l.useMemo)(()=>[u],[u]),m=(0,l.useCallback)(e=>{r(s,e[0],t.id)},[r,s,t.id]);return(0,o.jsxs)("div",{className:(0,C.$)(T().component,a?T().conditionallyRendered:null),children:[(0,o.jsx)(w.Z,{className:T().componentLabel,description:c,children:t.label}),(0,o.jsx)(N.i,{value:d,min:t.min_value,max:t.max_value,step:t.step,output:"thumb",onValueChange:m})]})},CustomUIAspectRatio=e=>{let{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:a}=e,s=t.parameter_name,i=n[s],u=t.description?t.description:void 0,c=(0,l.useCallback)(e=>{r(s,e,t.id)},[r,s,t.id]);return(0,o.jsxs)("div",{className:(0,C.$)(T().component,a?T().conditionallyRendered:null),children:[(0,o.jsx)(w.Z,{className:T().componentLabel,description:u,children:t.label}),(0,o.jsx)(aspectRatio_AspectRatioControl,{aspectRatios:t.options,value:i&&"string"==typeof i?i:"",onValueChange:c})]})},CustomUIFilePicker=e=>{let{control:t,formState:n,messageContext:r,updateParameterValue:a,isConditionallyRendered:s}=e,i=t.parameter_name,u=n[i],c=u&&"number"==typeof u?u:0,d=t.description?t.description:void 0,m=r.attachments[i]||[],p=(0,l.useCallback)(e=>{r.addAttachments(i,[e]),a(i,c+1,t.id)},[r,a,i,c,t.id]),h=(0,l.useCallback)(e=>{r.removeAttachment(i,e),a(i,c-1,t.id)},[r,i,c,a,t.id]);return(0,o.jsxs)("div",{className:(0,C.$)(T().component,s?T().conditionallyRendered:null),children:[(0,o.jsx)(w.Z,{className:T().componentLabel,description:d,children:t.label}),(0,o.jsx)(filePicker_FilePickerControl,{attachedFiles:m,allowMultipleFiles:t.allow_multiple_files,addFile:p,removeFile:h})]})},evaluateValueLookup=(e,t)=>"literal"in e?e.literal:"parameter_name"in e?t[e.parameter_name]:void 0,removeNullAndUndefined=e=>void 0===e?0:null===e?0:e,evaluateCondition=(e,t)=>{let n=removeNullAndUndefined(evaluateValueLookup(e.left,t)),o=removeNullAndUndefined(evaluateValueLookup(e.right,t));switch(e.comparator){case"equals":case"eq":return n===o;case"ne":return n!==o;case"gt":return n>o;case"ge":return n>=o;case"lt":return n<o;case"le":return n<=o}},CustomConditionallyRenderedControls=e=>{let{control:t,formState:n,messageContext:r,updateParameterValue:a}=e,s=(0,l.useMemo)(()=>evaluateCondition(t.condition,n),[t,n]),i=l.useRef(s);return(l.useEffect(()=>{i.current=s},[s]),s)?(0,o.jsx)(o.Fragment,{children:t.controls.map((e,t)=>(0,o.jsx)(CustomUIControl,{control:e,formState:n,messageContext:r,updateParameterValue:a,isConditionallyRendered:s&&!1===i.current},t))}):null},CustomUIControl=e=>{let{control:t,formState:n,messageContext:r,updateParameterValue:a,isConditionallyRendered:l}=e;switch(t.control){case"divider":return(0,o.jsx)(j.Z,{});case"text_field":return(0,o.jsx)(CustomUITextField,{control:t,formState:n,updateParameterValue:a,isConditionallyRendered:l});case"text_area":return(0,o.jsx)(CustomUITextArea,{control:t,formState:n,updateParameterValue:a,isConditionallyRendered:l});case"number_field":return(0,o.jsx)(CustomUINumberField,{control:t,formState:n,updateParameterValue:a,isConditionallyRendered:l});case"drop_down":return(0,o.jsx)(CustomUIDropDown,{control:t,formState:n,updateParameterValue:a,isConditionallyRendered:l});case"toggle_switch":return(0,o.jsx)(CustomUIToggleSwitch,{control:t,formState:n,updateParameterValue:a,isConditionallyRendered:l});case"slider":return(0,o.jsx)(CustomUISlider,{control:t,formState:n,updateParameterValue:a,isConditionallyRendered:l});case"condition":return(0,o.jsx)(CustomConditionallyRenderedControls,{control:t,formState:n,messageContext:r,updateParameterValue:a});case"aspect_ratio":return(0,o.jsx)(CustomUIAspectRatio,{control:t,formState:n,updateParameterValue:a,isConditionallyRendered:l});case"file_picker":return r.featureFlags.attachments?(0,o.jsx)(CustomUIFilePicker,{control:t,formState:n,messageContext:r,updateParameterValue:a,isConditionallyRendered:l}):null;default:return null}},CustomUITab=e=>{let{tab:t,formState:n,messageContext:r,updateParameterValue:a}=e;return(0,o.jsx)("div",{className:T().controlsContainer,children:t.controls.map((e,t)=>(0,o.jsx)(CustomUIControl,{control:e,formState:n,messageContext:r,updateParameterValue:a,isConditionallyRendered:!1},t))})},CustomUISectionWithControls=e=>{let{section:t,formState:n,messageContext:r,updateParameterValue:a}=e;return(0,o.jsx)(o.Fragment,{children:t.controls.map((e,t)=>(0,o.jsx)(CustomUIControl,{control:e,formState:n,messageContext:r,updateParameterValue:a,isConditionallyRendered:!1},t))})},CustomUITabButton=e=>{let{isActive:t,tabIndex:n,name:r,updateCurrentTab:a}=e,s=(0,l.useCallback)(()=>{a(n)},[a,n]);return(0,o.jsx)(U.O,{isActive:t,onClick:s,children:r})},CustomUISectionWithTabs=e=>{let{section:t,formState:n,messageContext:r,updateParameterValue:a}=e,[s,i]=(0,l.useState)(0),u=(0,l.useCallback)(e=>{i(e)},[i]),c=t.tabs[s];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(U.m,{className:T().tabsHeader,children:t.tabs.map((e,t)=>(0,o.jsx)(CustomUITabButton,{name:e.name,isActive:t==s,tabIndex:t,updateCurrentTab:u},t))}),(0,o.jsx)(CustomUITab,{tab:c,formState:n,messageContext:r,updateParameterValue:a})]})},CustomUISection=e=>{let{section:t,formState:n,messageContext:r,updateParameterValue:a}=e,l=!t.collapsed_by_default;return(0,o.jsxs)(b.MV,{className:(0,C.$)("max-w-md",l?null:T().collapsibleCard),defaultOpen:l,open:!!l||void 0,scrollIntoView:!0,children:[(0,o.jsxs)(b.yM,{className:l?T().headerNotInteractive:void 0,children:[(0,o.jsx)(F.Ac,{fontWeight:"bold",children:t.name}),l?null:(0,o.jsx)(b.e2,{})]}),(0,o.jsx)(b.et,{children:(0,o.jsx)("div",{className:T().controlsContainer,children:t.controls?(0,o.jsx)(CustomUISectionWithControls,{section:t,formState:n,messageContext:r,updateParameterValue:a}):(0,o.jsx)(CustomUISectionWithTabs,{section:t,formState:n,messageContext:r,updateParameterValue:a})})})]})},CustomUITopLevel=e=>{let{customUI:t,formState:n,messageContext:a,updateParameterValue:l,clearMenuState:u}=e,{t:c}=(0,s.$G)(),d=(0,i.ac)("(min-width: 769px)"),m=d&&t.sections.length>1;return(0,o.jsxs)("div",{className:T().customUITopLevelContainer,children:[m?(0,o.jsxs)("div",{className:T().columnsContainer,children:[(0,o.jsx)("div",{className:T().topLevelContainerColumnLeft,children:t.sections.filter((e,t)=>t%2==0).map((e,t)=>(0,o.jsx)(CustomUISection,{section:e,formState:n,messageContext:a,updateParameterValue:l},2*t))}),(0,o.jsx)("div",{className:T().topLevelContainerColumnRight,children:t.sections.filter((e,t)=>t%2==1).map((e,t)=>(0,o.jsx)(CustomUISection,{section:e,formState:n,messageContext:a,updateParameterValue:l},2*t+1))})]}):t.sections.map((e,t)=>(0,o.jsx)(CustomUISection,{section:e,formState:n,messageContext:a,updateParameterValue:l},t)),(0,o.jsx)(h.Z,{className:T().resetButton,as:"button",theme:"ghost",size:"sm",onClick:u,iconLeft:(0,o.jsx)(r.tr,{}),children:c("Reset all")})]})},allVisibleControls=(e,t,n)=>{"condition"==n.control?evaluateCondition(n.condition,e)&&n.controls.forEach(n=>{allVisibleControls(e,t,n)}):"parameter_name"in n&&(t[n.id]=!0)},allVisibleControlsForTab=(e,t,n)=>{n.controls.forEach(n=>{allVisibleControls(e,t,n)})},allVisibleControlsForSection=(e,t,n)=>{let o=n.controls||[],r=n.tabs||[];o.forEach(n=>{allVisibleControls(e,t,n)}),r.forEach(n=>{allVisibleControlsForTab(e,t,n)})},allVisibleControlsForDefinition=(e,t)=>{let n={};return e.sections.forEach(e=>{allVisibleControlsForSection(t,n,e)}),n},filterNonVisibleBoundControlsFromState=(e,t,n,o)=>{let r=Object.keys(t);r.forEach(r=>{if(!n[r]){let n=t[r];delete e[n],delete t[r],o(n)}})},removeMenuStateForHiddenControls=(e,t,n,o,r)=>{let a,l;do{a=Object.keys(t);let s={...o,...e},i=allVisibleControlsForDefinition(n,s);filterNonVisibleBoundControlsFromState(e,t,i,r),l=Object.keys(t)}while(l.length<a.length)},CustomUIMenu=e=>{let{customUIDefinition:t,customUIMenuState:n,messageContext:r,updateCustomUIMenuState:a}=e,s=(0,l.useMemo)(()=>JSON.parse(t),[t]),i=(0,l.useMemo)(()=>defaultValuesForDefinition(s),[s]),u=(0,l.useMemo)(()=>assignIdentifiersToDefinition(s),[s]),c=n.parameters,d=n.bindings,m=(0,l.useMemo)(()=>({...i,...c}),[i,c]),p=(0,l.useCallback)((e,t,n)=>{let o={...c},l={...d};void 0===t?(delete o[e],delete l[n]):t===i[e]?(delete o[e],delete l[n]):(o[e]=t,l[n]=e),removeMenuStateForHiddenControls(o,l,u,i,r.removeParamAttachments),a({parameters:o,bindings:l})},[u,i,c,a,d,r.removeParamAttachments]),h=(0,l.useCallback)(()=>{a({parameters:{},bindings:{}}),r.clearAttachments()},[r,a]),C=(0,l.useCallback)(e=>{e.stopPropagation()},[]);return(0,o.jsx)("div",{onClick:C,children:(0,o.jsx)(CustomUITopLevel,{customUI:u,formState:m,messageContext:r,updateParameterValue:p,clearMenuState:h})})},CustomUIMenuOverlay=e=>{let{children:t,customUIDefinition:n,customUIMenuState:r,messageContext:a,updateCustomUIMenuState:s,logOpen:u,overlaySize:c="reference"}=e,d=(0,i.ac)("(min-width: 769px)"),[m,p]=l.useState(!1),h=l.useContext(A),C=(0,l.useCallback)(e=>{p(e),e&&u()},[p,u]),_=null==h?void 0:h.anchorRef,f=null==h?void 0:h.dismissAction;return(l.useEffect(()=>{f&&m&&(f.current=()=>p(!1))},[f,p,m]),d)?(0,o.jsxs)(k.Pg,{open:m,onOpenChange:C,anchorRef:_,modal:!1,distance:2,children:[(0,o.jsx)(k.xo,{children:t}),(0,o.jsx)(k.jl,{size:c,arrow:!1,children:(0,o.jsx)(k.yk,{inset:"sm",children:(0,o.jsx)(k.b,{children:(0,o.jsx)(CustomUIMenu,{customUIDefinition:n,customUIMenuState:r,messageContext:a,updateCustomUIMenuState:s})})})})]}):(0,o.jsxs)(I.jz,{open:m,onOpenChange:p,children:[(0,o.jsx)(I.Qz,{children:t}),(0,o.jsxs)(I.P1,{children:[(0,o.jsx)(I.sc,{children:(0,o.jsx)(I.Ng,{children:(0,o.jsx)(CustomUIMenu,{customUIDefinition:n,customUIMenuState:r,messageContext:a,updateCustomUIMenuState:s})})}),(0,o.jsx)(I.uh,{})]})]})},A=l.createContext(null),PopoverContextProvider=e=>{let{children:t,anchorRef:n,dismissAction:r}=e,a=(0,l.useMemo)(()=>({dismissAction:r,anchorRef:n}),[n,r]);return(0,o.jsx)(A.Provider,{value:a,children:t})};var inputFooter_ChatMessageCustomUIButton=e=>{let{customUIDefinition:t,customUIMenuState:n,messageContext:i,updateCustomUIMenuState:u,logOpen:c,displayLabel:d,popoverOverlaySize:m}=e,[p,C]=(0,l.useState)(null),{t:_}=(0,s.$G)(),f=_("Additional input"),g=0===Object.keys(n.parameters).length;return t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(CustomUIMenuOverlay,{customUIDefinition:t,customUIMenuState:n,messageContext:i,updateCustomUIMenuState:u,logOpen:c,overlaySize:m,children:(0,o.jsx)(h.Z,{as:"button",ref:C,className:T().button,size:"sm",theme:d?"outline":"ghost",showIconOnly:d?void 0:"always",iconLeft:(0,o.jsx)(r.OP,{}),"aria-label":f,"data-button-custom-ui":!0,"data-custom-menu-state-empty":g,children:d&&_("Parameters")})}),(0,o.jsx)(a.u,{anchorRef:p,label:f,placement:"top"})]}):null}},67265:function(e,t,n){"use strict";var o=n(85893),r=n(67294),a=n(39620),l=n(12251),s=n(99460),i=n.n(s);t.Z=e=>{let{children:t,onDismiss:n,className:s}=e,u=(0,r.useCallback)(e=>{e.stopPropagation(),n()},[n]);return(0,o.jsxs)("div",{className:(0,l.$)(i().dismissableContainer,s),children:[t,(0,o.jsx)("button",{className:i().dismissButton,onClick:u,children:(0,o.jsx)(a.Z,{className:i().icon})})]})}},21900:function(e,t,n){"use strict";var o=n(85893),r=n(67294),a=n(12251),l=n(38719),s=n.n(l);let i=r.forwardRef((e,t)=>{let{className:n,isChecked:r,isDisabled:l,children:i,...u}=e,c=(0,a.$)(s().root,n,l&&s().isDisabled);return(0,o.jsxs)("label",{className:c,children:[(0,o.jsx)("div",{className:s().text,children:i}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"checkbox",className:s().input,disabled:l,checked:r,ref:t,...u}),(0,o.jsx)("span",{className:s().uiElement})]})]})});i.displayName="Switch",t.Z=i},1261:function(e,t,n){"use strict";n.d(t,{O:function(){return Tab},m:function(){return Tabs}});var o=n(85893),r=n(67294),a=n(12251),l=n(42764),s=n.n(l);let Tab=e=>{let{className:t,children:n,isActive:r=!1,...l}=e,i=(0,a.$)(s().tab,r&&s().isActive,t);return(0,o.jsx)("button",{className:i,type:"button",role:"tab",...l,children:(0,o.jsx)("span",{className:s().inner,children:n})})},Tabs=e=>{let{className:t,children:n,...l}=e,i=(0,a.$)(s().tabs,t);return(0,o.jsx)("ol",{className:i,role:"tablist",...l,children:r.Children.map(n,e=>(0,o.jsx)("li",{className:s().tabsItem,children:e}))})}},84684:function(e,t,n){"use strict";var o=n(85893),r=n(67294),a=n(12251),l=n(53213),s=n.n(l);let i=(0,r.forwardRef)((e,t)=>{let{className:n,value:r,hasError:l=!1,isDisabled:i=!1,...u}=e,c=(0,a.$)(s().root,l&&s().hasError,i&&s().isDisabled,n);return(0,o.jsx)("textarea",{ref:t,className:c,value:r,disabled:i,...u})});i.displayName="TextArea",t.Z=i},75241:function(e,t,n){"use strict";var o=n(85893),r=n(67294),a=n(12251),l=n(81516),s=n.n(l);let i=(0,r.forwardRef)((e,t)=>{let{className:n,hasError:r=!1,isDisabled:l=!1,action:i,...u}=e,c=(0,a.$)(s().root,r&&s().hasError,l&&s().isDisabled,!!i&&s().withAction,n);return(0,o.jsxs)("div",{className:c,children:[(0,o.jsx)("input",{className:s().input,disabled:l,ref:t,...u}),(0,o.jsx)("div",{className:s().actionWrapper,children:i}),(0,o.jsx)("div",{className:s().wrapper})]})});i.displayName="TextInput",t.Z=i},38401:function(e,t,n){"use strict";n.d(t,{iA:function(){return c},GB:function(){return p},Wt:function(){return _},GX:function(){return s},UG:function(){return ToggleGroupRoot}});var o=n(85893),r=n(88426),a=n(67294);let useRovingIndex=e=>{let{selector:t="button"}=e,n=a.useRef([]),o=a.useRef(null),r=a.useRef(0),l=a.useCallback(e=>{let t=r.current;if("Home"===e.key)t=0;else if("End"===e.key)t=n.current.length-1;else if("ArrowLeft"===e.key)t=r.current-1;else if("ArrowUp"===e.key)t=r.current-1;else if("ArrowDown"===e.key)t=r.current+1;else{if("ArrowRight"!==e.key)return;t=r.current+1}t=t<0?n.current.length-1:t>n.current.length-1?0:t,r.current=t;let o=n.current[t];null==o||o.focus()},[]),s=a.useCallback(e=>{r.current=n.current.findIndex(t=>t===e.target)},[]);return a.useEffect(()=>{var e,a;n.current=Array.from(null!==(a=null===(e=o.current)||void 0===e?void 0:e.querySelectorAll(t))&&void 0!==a?a:[]),r.current=n.current.findIndex(e=>"on"===e.dataset.state)},[t]),a.useEffect(()=>{let e=o.current;return null==e||e.addEventListener("keydown",l),null==e||e.addEventListener("pointerdown",s,!0),()=>{null==e||e.removeEventListener("keydown",l),null==e||e.removeEventListener("pointerdown",s,!0)}},[o,l,s]),o},l=a.createContext({value:"",onToggleSelected:()=>{},type:"checkbox"});function ToggleGroupRoot(e){let{type:t="radio",required:n=!1,value:r,defaultValue:s,onValueChange:i,children:u,...c}=e;n&&void 0===s&&void 0===r&&console.warn("ToggleGroupRoot: When required is true, defaultValue or value is required");let[d,m]=(0,a.useState)(s),p=void 0!==r,h=p?r:d,C=useRovingIndex({selector:"[data-pdl-toggle-group-item]"}),_=a.useCallback(e=>{(!n||void 0!==e&&0!==e.length)&&(p||m(e),i&&i(e))},[n,i,m,p,t]),f=a.useCallback(e=>{if("radio"===t){let t=h===e?void 0:e;_(t)}else if("checkbox"===t){let t=null!=h?h:[],n=t.includes(e),o=n?t.filter(t=>t!==e):[...t,e];_(o)}},[h,t,_]),g=a.useMemo(()=>({value:h,onToggleSelected:f,type:t}),[f,t,h]);return(0,o.jsx)(l.Provider,{value:g,children:(0,o.jsx)("div",{ref:C,role:"group","data-pdl-toggle-group":"",...c,children:u})})}let s=a.forwardRef((e,t)=>{let{value:n,children:s,onClick:i,...u}=e,{value:c,onToggleSelected:d,type:m}=a.useContext(l),p="radio"===m?c===n:Array.isArray(c)&&c.includes(n),h=a.useCallback(e=>{i&&i(e),d(n)},[i,d,n]),C="radio"===m?{role:"radio","aria-checked":p}:{"aria-pressed":p};return(0,o.jsx)(r.g7,{...u,...C,ref:t,role:"button","data-pdl-toggle-group-item":"","data-value":n,"data-state":p?"on":"off",tabIndex:p?0:-1,onClick:h,children:s})});s.displayName="ToggleGroupItem";var i=n(51052),u=n.n(i);let c=a.forwardRef((e,t)=>{let{avatar:n,children:r,...a}=e;return(0,o.jsx)(s,{...a,ref:t,children:(0,o.jsxs)("button",{className:u().toggle_group_bot_selector,children:[n,r]})})});c.displayName="ToggleGroupBotSelector";var d=n(92850),m=n.n(d);let p=a.forwardRef((e,t)=>{let{children:n,...r}=e;return(0,o.jsx)(s,{...r,ref:t,children:(0,o.jsx)("button",{className:m().toggle_group_button,children:n})})});p.displayName="ToggleGroupButton";var h=n(45020),C=n.n(h);let _=a.forwardRef((e,t)=>{let{children:n,...r}=e;return(0,o.jsx)(s,{...r,ref:t,children:(0,o.jsx)("button",{className:C().toggle_group_filter_chip,children:n})})});_.displayName="ToggleGroupFilterChip"},61936:function(e,t,n){"use strict";n.d(t,{Y:function(){return useDragAndDrop},w:function(){return getDirectoriesFromDragEvent}});var o=n(67294);let dragContainsNonFileData=e=>{var t;let n=(null===(t=e.dataTransfer)||void 0===t?void 0:t.types)||[];return n.some(e=>"Files"!==e)},useDragEventListener=(e,t,n)=>{(0,o.useEffect)(()=>{let o=e.current;return o&&n?(o.addEventListener(t,n),()=>{o.removeEventListener(t,n)}):()=>{}},[e,t,n])},onDropTargetDragOver=e=>{e.preventDefault()},useDragState=e=>{let[t,n]=(0,o.useState)(!1),r=(0,o.useRef)(0),a=(0,o.useCallback)(()=>{n(!1),r.current=0},[]),l=(0,o.useCallback)(e=>{e.preventDefault(),r.current++,dragContainsNonFileData(e)||n(!0)},[]),s=(0,o.useCallback)(e=>{e.preventDefault(),r.current--,r.current<=0&&n(!1)},[]);return useDragEventListener(e,"dragenter",l),useDragEventListener(e,"dragleave",s),useDragEventListener(e,"dragover",onDropTargetDragOver),{isDraggingOver:t,clearState:a}};function getDirectoriesFromDragEvent(e){var t;let n=Array.from((null===(t=e.dataTransfer)||void 0===t?void 0:t.items)||[]);return n.filter(e=>{var t,n;let o;return!(o=(null==e?void 0:null===(t=e.webkitGetAsEntry)||void 0===t?void 0:t.call(e))||null)&&"getAsEntry"in e&&"function"==typeof e.getAsEntry&&(o=(null===(n=e.getAsEntry)||void 0===n?void 0:n.call(e))||null),null==o?void 0:o.isDirectory})}let useDragAndDrop=(e,t)=>{let n=(0,o.useRef)(document),{isDraggingOver:r,clearState:a}=useDragState(n),{isDraggingOver:l,clearState:s}=useDragState(e),i=(0,o.useCallback)(()=>{a(),s()},[a,s]),u=(0,o.useCallback)(e=>{e.preventDefault(),i(),dragContainsNonFileData(e)||t(e)},[i,t]);return useDragEventListener(n,"drop",i),useDragEventListener(e,"drop",u),{isDropTargetDraggingOver:l,isDocumentDraggingOver:r}}},13239:function(e){e.exports={container:"AspectRatioControl_container__TN0Oe",aspectRatioPreview:"AspectRatioControl_aspectRatioPreview__rDHik",aspectRatioPreviewContainer:"AspectRatioControl_aspectRatioPreviewContainer__HsQSt",toggleGroup:"AspectRatioControl_toggleGroup___D1gz",toggleGroupButton:"AspectRatioControl_toggleGroupButton__V0Flu",toggleGroupSpacer:"AspectRatioControl_toggleGroupSpacer__9uPBK"}},65858:function(e){e.exports={dropZone:"FilePickerControl_dropZone__jLcQ7",dropZoneWithFiles:"FilePickerControl_dropZoneWithFiles__ny0xg",dropZoneEmpty:"FilePickerControl_dropZoneEmpty__ozkBa",fileInput:"FilePickerControl_fileInput__wGGSV",attachmentsBar:"FilePickerControl_attachmentsBar__sal9r",attachment:"FilePickerControl_attachment__XglyM",instructionBarEmpty:"FilePickerControl_instructionBarEmpty__x9Rvx",instructionBar:"FilePickerControl_instructionBar__AJ8a3"}},38719:function(e){e.exports={root:"switch_root___vZBZ",isDisabled:"switch_isDisabled__5vwaF",input:"switch_input__8I5Oq",uiElement:"switch_uiElement__Yu93b",text:"switch_text__OKPsR",isChecked:"switch_isChecked__T9bSp"}},42764:function(e){e.exports={reset:"button_reset__UkH98",tabs:"tab_tabs__fbjCM",tabsItem:"tab_tabsItem__MVYvW",tab:"tab_tab__380dY button_reset__UkH98",inner:"tab_inner__lR6r6",isActive:"tab_isActive__rSDRV"}},53213:function(e){e.exports={root:"textArea_root__HPeK1",hasError:"textArea_hasError__iC4wN",isDisabled:"textArea_isDisabled__4XBQP"}},81516:function(e){e.exports={root:"textInput_root__vXWK0",input:"textInput_input__9YpqY",wrapper:"textInput_wrapper__p6IWz",hasError:"textInput_hasError__nkiMW",isDisabled:"textInput_isDisabled__F1eTN",withAction:"textInput_withAction__f9lsI",actionWrapper:"textInput_actionWrapper__NOEMH"}},51052:function(e){e.exports={toggle_group_bot_selector:"ToggleGroupBotSelector_toggle_group_bot_selector__t_yr7"}},92850:function(e){e.exports={toggle_group_button:"ToggleGroupButton_toggle_group_button__7uUzh"}},45020:function(e){e.exports={toggle_group_filter_chip:"ToggleGroupFilterChip_toggle_group_filter_chip__KAL6r"}},94257:function(e){e.exports={tabsHeader:"ChatMessageCustomUIButton_tabsHeader__YxUou",component:"ChatMessageCustomUIButton_component__Jtyyv",toggleSwitch:"ChatMessageCustomUIButton_toggleSwitch__fZdYH",controlsContainer:"ChatMessageCustomUIButton_controlsContainer__tCKl6",customUITopLevelContainer:"ChatMessageCustomUIButton_customUITopLevelContainer__BFywP",columnsContainer:"ChatMessageCustomUIButton_columnsContainer__tMzsr",topLevelContainerColumnLeft:"ChatMessageCustomUIButton_topLevelContainerColumnLeft__vJajc",topLevelContainerColumnRight:"ChatMessageCustomUIButton_topLevelContainerColumnRight__z8PI7",collapsibleCard:"ChatMessageCustomUIButton_collapsibleCard__hR6KW",resetButton:"ChatMessageCustomUIButton_resetButton__uRH8A",button:"ChatMessageCustomUIButton_button__xgsBN",headerNotInteractive:"ChatMessageCustomUIButton_headerNotInteractive__CBZ2L",conditionallyRendered:"ChatMessageCustomUIButton_conditionallyRendered__S9otC",fadeIn:"ChatMessageCustomUIButton_fadeIn___Wvj8"}},97554:function(e){e.exports={expanded:"only screen and (min-width : 1400px)",large:"only screen and (min-width : 1000px)","large-only":"only screen and (min-width : 1000px) and (max-width : 1399px)","large-below":"only screen and (max-width : 1399px)",medium:"only screen and (min-width : 685px)","medium-only":"only screen and (min-width : 685px) and (max-width : 999px)","medium-below":"only screen and (max-width : 999px)","compact-only":"only screen and (max-width : 684px)","compact-below":"only screen and (max-width : 683px)"}},99460:function(e){e.exports={dismissableContainer:"Dismissable_dismissableContainer__4Q5Jv",dismissButton:"Dismissable_dismissButton__faL3Y",icon:"Dismissable_icon__nU8Xb"}}}]);