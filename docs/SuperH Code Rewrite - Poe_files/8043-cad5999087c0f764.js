(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8043],{53968:function(e,a,n){"use strict";var t,i=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}a.Z=function(e){return i.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.614 4.211a1 1 0 0 1 .175 1.403L10.607 18.691a1 1 0 0 1-1.496.093l-5.818-5.819a1 1 0 1 1 1.414-1.414l5.018 5.018L19.21 4.386a1 1 0 0 1 1.403-.175Z"})))}},57758:function(e,a,n){"use strict";var t,i=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}a.Z=function(e){return i.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=i.createElement("path",{d:"M2.5 8.38c0 .26.1.51.29.71l8.5 8.5c.39.39 1.02.39 1.41 0l8.5-8.5a.996.996 0 1 0-1.41-1.41L12 15.46 4.2 7.67a.996.996 0 0 0-1.41 0c-.19.2-.29.45-.29.71Z"})))}},46309:function(e,a,n){"use strict";var t,i=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}a.Z=function(e){return i.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=i.createElement("path",{fill:"currentColor",d:"M8.38 21.5c.26 0 .51-.1.71-.29l8.5-8.5a.996.996 0 0 0 0-1.41l-8.5-8.5a.996.996 0 1 0-1.41 1.41L15.46 12l-7.79 7.8a.996.996 0 0 0 0 1.41c.2.19.45.29.71.29Z"})))}},99240:function(e,a,n){"use strict";var t,i,s=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}a.Z=function(e){return s.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=s.createElement("path",{d:"M19.5 21h-15c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1s1 .45 1 1v2h13v-2c0-.55.45-1 1-1s1 .45 1 1v3c0 .55-.45 1-1 1Z"})),i||(i=s.createElement("path",{d:"M12 16.5c-.25 0-.48-.09-.65-.24-.01-.01-.02-.01-.02-.02l-6.05-5.5a.997.997 0 1 1 1.34-1.48L11 13.24V4c0-.55.45-1 1-1s1 .45 1 1v9.23l4.38-3.97a.997.997 0 1 1 1.34 1.48l-5.98 5.43c-.18.2-.44.33-.74.33Z"})))}},99929:function(e,a,n){"use strict";var t,i=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}a.Z=function(e){return i.createElement("svg",_extends({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M10 6.167 15.834 12 10 17.833M4.167 12H15 4.167Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",style:{fill:"none"},strokeLinejoin:"round"}),t||(t=i.createElement("path",{d:"M20 6v12",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round"})))}},19644:function(e,a,n){"use strict";var t,i=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}a.Z=function(e){return i.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=i.createElement("path",{d:"M18.72 3.87c-1.76-1.75-4.61-1.75-6.36 0L8.82 7.4a4.477 4.477 0 0 0-1.23 4.07l-2.3 2.3a4.509 4.509 0 0 0 0 6.36c.88.88 2.03 1.32 3.18 1.32 1.15 0 2.31-.44 3.18-1.32l3.54-3.54a4.471 4.471 0 0 0 1.23-4.06l2.3-2.3a4.509 4.509 0 0 0 0-6.36ZM17.3 8.82l-1.8 1.8c-.1-.13-.2-.27-.32-.39A4.434 4.434 0 0 0 12.88 9l-1.23 1.23a.485.485 0 0 0 0 .7s.01 0 .01.01c.11-.02.22-.03.34-.03.67 0 1.29.26 1.77.73s.73 1.1.73 1.77c0 .67-.26 1.29-.73 1.77l-3.54 3.54c-.97.97-2.56.97-3.54 0-.97-.97-.97-2.56 0-3.54l1.8-1.8c.1.13.2.27.32.39.64.64 1.44 1.06 2.3 1.23l1.23-1.23a.485.485 0 0 0 0-.7c-.01-.01-.03-.02-.04-.03-.75.09-1.53-.13-2.08-.68-.47-.47-.73-1.1-.73-1.77 0-.67.26-1.29.73-1.77l3.54-3.54a2.49 2.49 0 0 1 1.77-.73 2.499 2.499 0 0 1 1.77 4.27Z"})))}},97341:function(e,a,n){"use strict";var t,i=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}a.Z=function(e){return i.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1ZM12 16a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0v-4a1 1 0 0 1 1-1ZM5.293 5.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1-1.414 1.414l-2-2a1 1 0 0 1 0-1.414ZM15.293 15.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1-1.414 1.414l-2-2a1 1 0 0 1 0-1.414ZM2 12a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1ZM16 12a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1ZM8.707 15.293a1 1 0 0 1 0 1.414l-2 2a1 1 0 0 1-1.414-1.414l2-2a1 1 0 0 1 1.414 0ZM18.707 5.293a1 1 0 0 1 0 1.414l-2 2a1 1 0 1 1-1.414-1.414l2-2a1 1 0 0 1 1.414 0Z"})))}},36789:function(e,a,n){"use strict";var t,i=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}a.Z=function(e){return i.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=i.createElement("path",{d:"M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"})))}},11784:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"AppPublishedBanner_canvasTab",selections:[{kind:"InlineFragment",selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"isPrivateBot"}]}],type:"BotCanvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="f876e31d8bfd9fe0cacf7a3fc40c4949",a.default=t},43181:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"Attachments_attachment",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"},{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"}]},{kind:"FragmentSpread",name:"FileInfo_attachment"},{kind:"FragmentSpread",name:"VideoPlayer_attachment"},{kind:"FragmentSpread",name:"VideoPreview_attachment"},{kind:"FragmentSpread",name:"CustomAudioPlayer_attachment"}],type:"Attachment",abstractKey:"__isAttachment"};t.hash="c9c5ebefca1b01190f648a6b77ad0d0c",a.default=t},44593:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"BarePreviewFrame_viewer",selections:[{kind:"FragmentSpread",name:"usePreviewIframeUrl_viewer"}],type:"Viewer"};t.hash="7613ebdb02222e8d59667d75a5163485",a.default=t},64528:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"allowLink"},{defaultValue:null,kind:"LocalArgument",name:"imageSize"},{defaultValue:!1,kind:"LocalArgument",name:"showDescription"}],kind:"Fragment",name:"BotHeader_bot",selections:[{kind:"ScalarField",name:"limitedAccessType"},{kind:"ScalarField",name:"isPrivateBot"},{kind:"ScalarField",name:"shouldHideLimitedAccessTag"},{condition:"showDescription",kind:"Condition",passingValue:!0,selections:[{kind:"ScalarField",name:"description"}]},{kind:"ScalarField",name:"translatedBotTags"},{args:[{kind:"Variable",name:"size",variableName:"imageSize"}],kind:"FragmentSpread",name:"BotImage_bot"},{condition:"allowLink",kind:"Condition",passingValue:!0,selections:[{kind:"FragmentSpread",name:"BotLink_bot"}]},{kind:"FragmentSpread",name:"IdAnnotation_node"},{kind:"FragmentSpread",name:"botHelpers_useDeletion_bot"},{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};t.hash="b693e330cdfe5fa3fb4a994775a208a9",a.default=t},32260:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"BotMessageHeader_bot",selections:[{kind:"FragmentSpread",name:"BotHeader_bot"}],type:"Bot"};t.hash="5a2ffe49fcf3682c56545c15467b8ea7",a.default=t},10948:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"BudgetDropdownMenuItem_canvasTab",selections:[{kind:"ScalarField",name:"canvasCode"},{kind:"FragmentSpread",name:"useIsCanvasTabOptimistic_canvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="a58a37f4f6c6ab0357049d9fb3de7c5b",a.default=t},13272:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasHeader_viewer",selections:[{kind:"FragmentSpread",name:"InCanvasToggleMenuButton_viewer"}],type:"Viewer"};t.hash="64fd09e63c6c95402aa46bece28e0b7d",a.default=t},13323:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasLayout_viewer",selections:[{kind:"FragmentSpread",name:"CanvasHeader_viewer"}],type:"Viewer"};t.hash="554fe7fa7d173557808d9bcddd83b7b2",a.default=t},73394:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasLoadingPlaceholder_viewer",selections:[{kind:"FragmentSpread",name:"CanvasLayout_viewer"}],type:"Viewer"};t.hash="70a48be19b74541b7dff61e432995a29",a.default=t},30048:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasTabSelectorItem_canvasTab",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"state"},{kind:"ScalarField",name:"title"},{kind:"FragmentSpread",name:"IdAnnotation_node"},{kind:"FragmentSpread",name:"useSwitchToCanvasTab_canvasTab"},{kind:"FragmentSpread",name:"CanvasTab_canvasTab"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"codeblockIndex"}],type:"MessageCanvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="3385fee3b7204ba1c591044cc1819f4f",a.default=t},47653:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasTabSelectorItem_canvasTabToOpen",selections:[{kind:"ScalarField",name:"id"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"codeblockIndex"}],type:"MessageCanvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="0f6c2911e020c2eec4f680414facbcbb",a.default=t},58501:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"CanvasTabSelectorItem_chat",selections:[t={kind:"ScalarField",name:"id"},{kind:"FragmentSpread",name:"useSwitchToCanvasTab_chat"},{kind:"FragmentSpread",name:"useCloseCanvasTab_chat"},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[t]}],type:"Chat"};i.hash="4abe73fa542e2c8d5580442b3dbd955d",a.default=i},23822:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g,p;n.r(a);let h=(t=[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],i=[{kind:"Variable",name:"id",variableName:"id"}],s={kind:"ScalarField",name:"__typename"},l=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],o={kind:"ScalarField",name:"state"},m={kind:"ScalarField",name:"messageId"},p={kind:"InlineFragment",selections:[u={kind:"ScalarField",name:"botId"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[u,r={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"deletionState"},{kind:"ScalarField",name:"isPromptPublic"},{kind:"ScalarField",name:"isCanvasOnlyBot"},{kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[c={kind:"ScalarField",name:"content"},d={kind:"ScalarField",name:"contentType"}]}]},g={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"BotCanvasTab"},{fragment:{argumentDefinitions:t,kind:"Fragment",name:"CanvasTabSelectorPaginationQuery",selections:[{args:i,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"CanvasTabSelector_chat_canvasTabsConnection"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"CanvasTabSelectorPaginationQuery",selections:[{args:i,kind:"LinkedField",name:"node",plural:!1,selections:[s,r,{kind:"InlineFragment",selections:[{args:l,concreteType:"CanvasTabConnection",kind:"LinkedField",name:"canvasTabsConnection",plural:!1,selections:[{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[s,r,o,{kind:"TypeDiscriminator",abstractKey:"__isCanvasTabInterface"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"globalId"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[d,{kind:"ScalarField",name:"language"},c]},{kind:"ScalarField",name:"clientNonce"},{kind:"ScalarField",name:"canvasCode"},{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"InlineFragment",selections:[m,{kind:"ScalarField",name:"codeblockIndex"},{concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[m,r,o]},{kind:"InlineFragment",selections:[p,{kind:"InlineFragment",selections:[g],type:"MessageCanvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"},g],type:"MessageCanvasTab"},p]},{kind:"ScalarField",name:"cursor"},r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},r]},{args:l,handle:"connection",key:"CanvasTabSelector_canvasTabsConnection",kind:"LinkedHandle",name:"canvasTabsConnection"}],type:"Chat"}]}]},params:{id:"b0ad5b99345a3c81a704de3b2a086163129d5a81e7fa1070bdd36f8480a014dc",metadata:{},name:"CanvasTabSelectorPaginationQuery",operationKind:"query",text:null}});h.hash="65a14dae03df8323c2e1b0033306c9cd",a.default=h},68801:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g,p;n.r(a);let h=(t=[{defaultValue:null,kind:"LocalArgument",name:"id"}],i=[{kind:"Variable",name:"id",variableName:"id"}],s={kind:"ScalarField",name:"__typename"},l=[{kind:"Literal",name:"first",value:10}],o={kind:"ScalarField",name:"state"},m={kind:"ScalarField",name:"messageId"},p={kind:"InlineFragment",selections:[u={kind:"ScalarField",name:"botId"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[u,r={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"deletionState"},{kind:"ScalarField",name:"isPromptPublic"},{kind:"ScalarField",name:"isCanvasOnlyBot"},{kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[c={kind:"ScalarField",name:"content"},d={kind:"ScalarField",name:"contentType"}]}]},g={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"BotCanvasTab"},{fragment:{argumentDefinitions:t,kind:"Fragment",name:"CanvasTabSelectorQuery",selections:[{alias:"chat",args:i,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"FragmentSpread",name:"CanvasTabSelector_chat_canvasTabsConnection"},{kind:"FragmentSpread",name:"CanvasTabSelectorItem_chat"},{kind:"FragmentSpread",name:"useIsMultiUserChat_chat"}],type:"Chat"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"CanvasTabSelectorQuery",selections:[{alias:"chat",args:i,kind:"LinkedField",name:"node",plural:!1,selections:[s,r,{kind:"InlineFragment",selections:[{args:l,concreteType:"CanvasTabConnection",kind:"LinkedField",name:"canvasTabsConnection",plural:!1,selections:[{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[s,r,o,{kind:"TypeDiscriminator",abstractKey:"__isCanvasTabInterface"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"globalId"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[d,{kind:"ScalarField",name:"language"},c]},{kind:"ScalarField",name:"clientNonce"},{kind:"ScalarField",name:"canvasCode"},{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"InlineFragment",selections:[m,{kind:"ScalarField",name:"codeblockIndex"},{concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[m,r,o]},{kind:"InlineFragment",selections:[p,{kind:"InlineFragment",selections:[g],type:"MessageCanvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"},g],type:"MessageCanvasTab"},p]},{kind:"ScalarField",name:"cursor"},r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},r],storageKey:"canvasTabsConnection(first:10)"},{args:l,handle:"connection",key:"CanvasTabSelector_canvasTabsConnection",kind:"LinkedHandle",name:"canvasTabsConnection"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[s,r]}],type:"Chat"}]}]},params:{id:"41af84f7898cb5de10a91911f7eddfe8f7f13b24950f6a2e2a1f54606a32e559",metadata:{},name:"CanvasTabSelectorQuery",operationKind:"query",text:null}});h.hash="f17cf796e5386f689b9b0ff4fc7fd29c",a.default=h},8081:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasTabSelector_chat",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"canvasTabsCount"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="78c9ed533d332806d486320b7475980c",a.default=t},90684:function(e,a,n){"use strict";var t,i;n.r(a);let s=(i={kind:"ScalarField",name:"id"},{argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:t=["canvasTabsConnection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:t},fragmentPathInResult:["node"],operation:n(23822),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"CanvasTabSelector_chat_canvasTabsConnection",selections:[{alias:"canvasTabsConnection",concreteType:"CanvasTabConnection",kind:"LinkedField",name:"__CanvasTabSelector_canvasTabsConnection_connection",plural:!1,selections:[{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[i,{kind:"ScalarField",name:"state"},{kind:"FragmentSpread",name:"CanvasTabSelectorItem_canvasTab"},{kind:"FragmentSpread",name:"CanvasTabSelectorItem_canvasTabToOpen"},{kind:"ScalarField",name:"__typename"}]},{kind:"ScalarField",name:"cursor"}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}]},i],type:"Chat"});s.hash="65a14dae03df8323c2e1b0033306c9cd",a.default=s},89766:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasTabShareButton_canvasTab",selections:[{kind:"ScalarField",name:"canvasCode"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"codeblockIndex"},{kind:"ScalarField",name:"messageId"},{concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[{kind:"ScalarField",name:"state"}]}],type:"MessageCanvasTab"},{kind:"InlineFragment",selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"botId"}]}],type:"BotCanvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="908017d1e720bb306b354ee955626d30",a.default=t},8793:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasTabShareButton_viewer",selections:[{kind:"FragmentSpread",name:"ChatInviteSection_viewer"},{alias:"poeEnableMultiUserInvite",args:[{kind:"Literal",name:"gateName",value:"poe_enable_multi_user_invite"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_multi_user_invite")'}],type:"Viewer"};t.hash="35d2c77d62e840d3c498a3e0f25e957a",a.default=t},24979:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasTabShareOrPublishButton_canvasTab",selections:[{kind:"ScalarField",name:"id"},{kind:"FragmentSpread",name:"CanvasTabShareButton_canvasTab"},{kind:"FragmentSpread",name:"PublishButton_canvasTab"},{kind:"FragmentSpread",name:"useIsCanvasBotTab_canvasTab"},{kind:"FragmentSpread",name:"useUpdateCanvasBotConfirmationModal_canvasTab"},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageCanvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="92aacf46044c1816fa711aabab174b40",a.default=t},84765:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasTabShareOrPublishButton_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[{kind:"FragmentSpread",name:"useUpdateCanvasBotConfirmationModal_bot"}]},{kind:"FragmentSpread",name:"useUpdateCanvasBotConfirmationModal_chat"},{kind:"FragmentSpread",name:"useIsEditingCanvasBotWithBuilder_chat"}],type:"Chat"};t.hash="c002f3c9d28c1897b31565b42e0dbbd1",a.default=t},20154:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasTabShareOrPublishButton_viewer",selections:[{kind:"FragmentSpread",name:"CanvasTabShareButton_viewer"}],type:"Viewer"};t.hash="518a27c79aa95dd9b42dce2d9fa8f0fe",a.default=t},9532:function(e,a,n){"use strict";var t,i;n.r(a);let s={argumentDefinitions:[],kind:"Fragment",name:"CanvasTab_canvasTab",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"globalId"},{kind:"FragmentSpread",name:"useCanvasTabContentSource_canvasTab"},{kind:"FragmentSpread",name:"IdAnnotation_node"},{kind:"InlineDataFragmentSpread",name:"CanvasTab_getSourceMetadata_canvasTab",selections:[{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"clientNonce"},t={kind:"ScalarField",name:"botId"},i={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[i],type:"MessageCanvasTab"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"useCanvasInteractionLogger_canvasTab"},{kind:"FragmentSpread",name:"PublishButton_canvasTab"},{kind:"FragmentSpread",name:"PublishAsNewDropdownMenuItem_canvasTab"},{kind:"FragmentSpread",name:"useIsCanvasBotTab_canvasTab"},{kind:"FragmentSpread",name:"useProcessCanvasActions_canvasTab"},{kind:"FragmentSpread",name:"useCanvasActionsSubscription_canvasTab"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[{kind:"ScalarField",name:"content"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"language"}]},{kind:"InlineFragment",selections:[t,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"deletionState"},{kind:"ScalarField",name:"isPromptPublic"},{kind:"FragmentSpread",name:"DeleteBotModal_bot"}]},i],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"codeblockIndex"},{kind:"FragmentSpread",name:"PublishButtonGroup_canvasTab"},i],type:"MessageCanvasTab"},{kind:"FragmentSpread",name:"useHideCanvasTab_canvasTab"},{kind:"FragmentSpread",name:"CanvasTabShareOrPublishButton_canvasTab"},{kind:"FragmentSpread",name:"ViewBotDetailsButton_canvasTab"},{kind:"FragmentSpread",name:"EditBotButton_canvasTab"},{kind:"FragmentSpread",name:"EditButtonInHeader_canvasTab"},{kind:"FragmentSpread",name:"ShareDropdownMenuItem_canvasTab"},{kind:"FragmentSpread",name:"BudgetDropdownMenuItem_canvasTab"},{kind:"FragmentSpread",name:"AppPublishedBanner_canvasTab"},{kind:"FragmentSpread",name:"useOnSendUserMessageFromCanvas_canvasTab"},{kind:"FragmentSpread",name:"RemixButton_canvasTab"},{kind:"FragmentSpread",name:"RemixDropdownMenuItem_canvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};s.hash="7c33b098601b4a6b6b28ebc68d13f880",a.default=s},48056:function(e,a,n){"use strict";var t,i,s,r,l,o,d;n.r(a);let c=(i={kind:"ScalarField",name:"chatId"},s={kind:"ScalarField",name:"handle"},r=[t={kind:"ScalarField",name:"id"}],{argumentDefinitions:[],kind:"Fragment",name:"CanvasTab_chat",selections:[t,i,{kind:"FragmentSpread",name:"CanvasTabSelector_chat"},{kind:"FragmentSpread",name:"CanvasTabShareOrPublishButton_chat"},{kind:"FragmentSpread",name:"PublishButtonGroup_chat"},{kind:"FragmentSpread",name:"useHideCanvasTab_chat"},{kind:"InlineDataFragmentSpread",name:"useSendMessageFromPreview_chat",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[t,i,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,s]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:r,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[t,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"hasMarkdownRendering"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},l={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},l],argumentDefinitions:[]},{kind:"FragmentSpread",name:"useProcessCanvasActions_chat"},{kind:"FragmentSpread",name:"useCanvasInteractionLogger_chat"},{kind:"FragmentSpread",name:"useIsEditingCanvasBotWithBuilder_chat"},{kind:"FragmentSpread",name:"useOnSendUserMessageFromCanvas_chat"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useSendMessageFromPreview_bot",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_bot",selections:r,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"useSendMessageFromPreviewOptimisticChat_bot",selections:[{kind:"InlineDataFragmentSpread",name:"optimisticChat_createOptimisticChat_bot",selections:[t,o={kind:"ScalarField",name:"botId"},s,{kind:"ScalarField",name:"introduction"},d={kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[{kind:"ScalarField",name:"content"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"language"}]},{kind:"InlineDataFragmentSpread",name:"optimisticMessage_createOptimisticBotMessage_bot",selections:[d,{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_bot",selections:[t,{kind:"FragmentSpread",name:"ChatMessage_bot"},{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"},{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}]},{concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[o,{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{kind:"ScalarField",name:"viewerIsUser"}]}]},l],type:"Chat"});c.hash="a6bf2c7fda7ce417498f1dacd627cb46",a.default=c},81299:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"CanvasTab_getSourceMetadata_canvasTab"};t.hash="dfd6b8760cbd3e453205d836f5147eb6",a.default=t},10043:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CanvasTab_viewer",selections:[{kind:"FragmentSpread",name:"CanvasLayout_viewer"},{concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[{kind:"ScalarField",name:"id"}]},{alias:"useInFrameCanvasServerRelay",args:[{kind:"Literal",name:"gateName",value:"poe_web_canvas_use_in_frame_canvas_server_relay"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_canvas_use_in_frame_canvas_server_relay")'},{alias:"enableCanvasAppDebugMode",args:[{kind:"Literal",name:"gateName",value:"poe_canvas_enable_debug_mode"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_canvas_enable_debug_mode")'},{alias:"persistenceAndSyncEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_canvas_data_store"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_canvas_data_store")'},{alias:"codeEditorCanvasBotId",args:[{kind:"Literal",name:"gateName",value:"poe_web_code_editor_canvas_bot_id"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_web_code_editor_canvas_bot_id")'},{kind:"FragmentSpread",name:"useProcessCanvasActions_viewer"},{kind:"InlineDataFragmentSpread",name:"useSendMessageFromPreview_viewer",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_viewer",selections:[{alias:"shouldUseFinishUploadEndpoint",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_finish_upload_endpoint"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_finish_upload_endpoint")'},{alias:"shouldUsePresignedUrl",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_presigned_url"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_presigned_url")'},{alias:"useMessageSendingIcon",args:[{kind:"Literal",name:"gateName",value:"poe_use_message_sending_icon"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_message_sending_icon")'}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"useOnSendUserMessageFromCanvas_viewer"},{kind:"FragmentSpread",name:"usePreviewIframeUrl_viewer"},{kind:"FragmentSpread",name:"useOnMiniAppRequest_viewer"},{kind:"FragmentSpread",name:"useCanvasActionsSubscription_viewer"},{kind:"FragmentSpread",name:"CanvasTabShareOrPublishButton_viewer"},{kind:"FragmentSpread",name:"ShareDropdownMenuItem_viewer"}],type:"Viewer"};t.hash="e5af303853760901e1da776423a4410e",a.default=t},56216:function(e,a,n){"use strict";var t,i;n.r(a);let s={argumentDefinitions:[],kind:"Fragment",name:"Canvas_chat",selections:[t={kind:"ScalarField",name:"id"},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[t,{kind:"ScalarField",name:"state"},{kind:"FragmentSpread",name:"CanvasTab_canvasTab"},{kind:"ScalarField",name:"clientNonce"},{kind:"InlineFragment",selections:i=[{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"idWhenWasOptimistic"}]}],type:"MessageCanvasTab"},{kind:"InlineFragment",selections:i,type:"BotCanvasTab"}]},{kind:"FragmentSpread",name:"CanvasTab_chat"},{kind:"FragmentSpread",name:"useEnsureLeftMenuCollapsedForOptimisticCanvasChats_chat"}],type:"Chat"};s.hash="6ceff4a9713356a240f3eccca0f7d2af",a.default=s},75427:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"Canvas_viewer",selections:[{kind:"FragmentSpread",name:"CanvasLayout_viewer"},{kind:"FragmentSpread",name:"CanvasTab_viewer"},{kind:"FragmentSpread",name:"CanvasLoadingPlaceholder_viewer"}],type:"Viewer"};t.hash="9baa586715055bfe69d9853c88dff60b",a.default=t},6582:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatBreakButton_bot",selections:[{kind:"ScalarField",name:"allowsClearContext"},t={kind:"InlineDataFragmentSpread",name:"paywallContext_openPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"logHelpers_getBotLogData_bot",selections:[{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"displayName"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"PaywallOpener_bot"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_useMaybeBlockOnPaywall_bot",selections:[t],argumentDefinitions:[]}],type:"Bot"};i.hash="fb334e5bd6389b06f6c32a4e78ea4475",a.default=i},4664:function(e,a,n){"use strict";var t,i,s;n.r(a);let r={argumentDefinitions:[],kind:"Fragment",name:"ChatBreakButton_chat",selections:[{kind:"InlineDataFragmentSpread",name:"sendChatBreak_chat",selections:[t={kind:"ScalarField",name:"id"},i={kind:"ScalarField",name:"chatId"},{kind:"InlineDataFragmentSpread",name:"sendChatBreak_onChatBreakSend_chat",selections:[t,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendChatBreak_createOptimisticIntroMessage_bot",selections:[{kind:"ScalarField",name:"introduction"},{kind:"ScalarField",name:"hasMarkdownRendering"},{kind:"InlineDataFragmentSpread",name:"optimisticMessage_createOptimisticBotMessage_bot",selections:[{kind:"ScalarField",name:"nickname"},{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_bot",selections:[t,{kind:"FragmentSpread",name:"ChatMessage_bot"},{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"},{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}]}],argumentDefinitions:[]},s={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"useViewerCanCancelJobs_chat"},{kind:"InlineDataFragmentSpread",name:"cancelViewerActiveJobs_chat",selections:[t,i],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"checkLastMessageAndRefetch_chat",selections:[i,t,{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[t]},s],argumentDefinitions:[]},s],type:"Chat"};r.hash="05c399f0d04c442764ceae00289839f1",a.default=r},82611:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatBreakButton_lastMessage",selections:[{kind:"ScalarField",name:"id"},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]}],type:"Message"};t.hash="90eeed362c2c9650f377655e78614968",a.default=t},58993:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatBreakButton_viewer",selections:[{alias:"poeWebChatNewScrollBehavior",args:[{kind:"Literal",name:"gateName",value:"poe_web_chat_new_scroll_behavior"}],kind:"ScalarField",name:"stringGate",storageKey:'stringGate(gateName:"poe_web_chat_new_scroll_behavior")'}],type:"Viewer"};t.hash="0961defd78cee2ba76030737aee2e523",a.default=t},18548:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatFooterHoveringButtonSection_chat",selections:[{kind:"FragmentSpread",name:"ChatStopMessageButton_chat"},{kind:"FragmentSpread",name:"ShowCanvasFAB_chat"}],type:"Chat"};t.hash="6fb83360e38d4ad7b6bac0b6c18e5b08",a.default=t},56025:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatHeaderTitleAndSettingSubscriber_chat",selections:[{kind:"ScalarField",name:"chatId"}],type:"Chat"};t.hash="c868f3c62d2dc6d634d9cf6cdfab9351",a.default=t},65282:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatHeader_bot",selections:[{kind:"ScalarField",name:"canUserAccessBot"},{kind:"FragmentSpread",name:"PrivateMessageIcon_bot"},{kind:"FragmentSpread",name:"ChatMembersDisplayText_bot"},{kind:"FragmentSpread",name:"ChatMembersDisplayImage_bot"}],type:"Bot"};t.hash="c2adf26a634f26e09b2ba56570a78a90",a.default=t},73553:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatHeader_chat",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"hasMultipleUsers"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHeader_bot"}]},{kind:"FragmentSpread",name:"ChatHeaderTitleAndSettingSubscriber_chat"},{kind:"FragmentSpread",name:"IdAnnotation_node"},{kind:"FragmentSpread",name:"ChatPrivacyIndicatorIcon_chat"},{kind:"FragmentSpread",name:"ChatMembersDisplayText_chat"},{kind:"FragmentSpread",name:"ChatMembersDisplayImage_chat"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="98421160e180ee6f2d3dc200ceee5023",a.default=t},77611:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatHeader_viewer",selections:[{kind:"FragmentSpread",name:"ChatMembersDisplayText_viewer"},{kind:"FragmentSpread",name:"ChatMembersDisplayImage_viewer"},{alias:"enablePrivacyShieldUpdates",args:[{kind:"Literal",name:"gateName",value:"poe_web_privacy_shield_updates"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_privacy_shield_updates")'}],type:"Viewer"};t.hash="76b2faea48e6054c385af939f649e997",a.default=t},25902:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatInviteSection_viewer",selections:[{alias:"poeEnableMultiUserInvite",args:[{kind:"Literal",name:"gateName",value:"poe_enable_multi_user_invite"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_multi_user_invite")'}],type:"Viewer"};t.hash="69bfcc8b365249c5bd421645173097f2",a.default=t},71650:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g,p,h,k,f,_,b,F,v,C,S,y,M,w,I,x,T,B,L,D,j,P,A,N,R,O,E,U,Z,H,V,G;n.r(a);let K=(t={defaultValue:null,kind:"LocalArgument",name:"chatNodeId"},i={defaultValue:null,kind:"LocalArgument",name:"messageNodeId"},s=[{kind:"Variable",name:"id",variableName:"messageNodeId"}],r=[{kind:"Variable",name:"id",variableName:"chatNodeId"}],o={kind:"ScalarField",name:"id"},d={kind:"ScalarField",name:"botId"},c={kind:"ScalarField",name:"nickname"},m={kind:"ScalarField",name:"displayName"},u={kind:"ScalarField",name:"handle"},g={kind:"ScalarField",name:"limitedAccessType"},p={kind:"ScalarField",name:"isPrivateBot"},h={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},k={kind:"ScalarField",name:"translatedBotTags"},f={kind:"ScalarField",name:"deletionState"},b={kind:"LinkedField",name:"picture",plural:!1,selections:[l={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[_={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},F={kind:"TypeDiscriminator",abstractKey:"__isNode"},v={kind:"ScalarField",name:"messageId"},S=[C={kind:"ScalarField",name:"uid"},o],y=[v,o],M={kind:"ScalarField",name:"text"},w={kind:"ScalarField",name:"isDeleted"},I={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[g,p,h,k,f,m,b,u,o,F]},x={concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[o,C,u,{kind:"ScalarField",name:"fullName"},{kind:"ScalarField",name:"viewerIsFollowing"},w,{alias:"smallProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},F]},D={concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[T={kind:"ScalarField",name:"name"},_,L={concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[B={kind:"ScalarField",name:"mimeType"},o]}],type:"Attachment",abstractKey:"__isAttachment"},o]},j={kind:"InlineFragment",selections:[o],type:"Node",abstractKey:"__isNode"},P={alias:"titleText",kind:"ScalarField",name:"title"},A={alias:"bodyText",kind:"ScalarField",name:"body"},N={kind:"ScalarField",name:"attachmentId"},R={kind:"ScalarField",name:"size"},U={kind:"InlineFragment",selections:[E={kind:"ClientExtension",selections:[O={kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageAttachment"},Z={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]},V={kind:"LinkedField",name:"primaryImageSources",plural:!0,selections:H=[l,{kind:"TypeDiscriminator",abstractKey:"__isMessageFollowupActionImageSource"},{kind:"InlineFragment",selections:[o,T,_,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[B,{kind:"ScalarField",name:"thumbnailUrl"},o]}],type:"MessageAttachment"},{kind:"InlineFragment",selections:[o,u,f,m,b],type:"Bot"},j]},{fragment:{argumentDefinitions:[t,i],kind:"Fragment",name:"ChatLastMessageAreaQuery",selections:[{alias:"messageNode",args:s,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatLastMessageArea_lastMessage"},{kind:"FragmentSpread",name:"ChatLastMessageArea_messageFollowupActions"}]},{alias:"chatNode",args:r,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatLastMessageArea_lastMessage_chat"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:[i,t],kind:"Operation",name:"ChatLastMessageAreaQuery",selections:[{alias:"messageNode",args:s,kind:"LinkedField",name:"node",plural:!1,selections:[l,o,{kind:"InlineFragment",selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"introduction"},d,c,m,o,{kind:"ScalarField",name:"messageTimeoutSecs"},{kind:"ScalarField",name:"allowsImageAttachments"},u,{kind:"ScalarField",name:"isApiBot"},g,p,h,k,f,b,{kind:"ScalarField",name:"supportsRemix"},{kind:"ScalarField",name:"isServerBot"},{kind:"ScalarField",name:"supportsFileUpload"},{kind:"ScalarField",name:"customUIDefinition"},F]},{kind:"ScalarField",name:"author"},{kind:"ScalarField",name:"isChatAnnouncement"},{kind:"ScalarField",name:"state"},v,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:S},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:S},o,{kind:"LinkedField",name:"trigger",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:y}],type:"MessageSendJobTrigger"}]}]},{kind:"ScalarField",name:"clientNonce"},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[l,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[v,o,M,w,I,x,D],type:"Message"},{kind:"InlineFragment",selections:y,type:"DeletedMessage"},j]},{kind:"LinkedField",name:"followupActions",plural:!0,selections:[l,{kind:"TypeDiscriminator",abstractKey:"__isMessageFollowupActionBase"},{kind:"InlineFragment",selections:[P,A,{alias:"bodyTextJson",kind:"ScalarField",name:"bodyWhenUsingJsonParams"},{kind:"ScalarField",name:"sendText"},{kind:"ScalarField",name:"sendTextWhenUsingJsonParams"},{kind:"ScalarField",name:"sendParameters"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"sendAttachments",plural:!0,selections:[N,o,{kind:"InlineFragment",selections:[{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[B,o,R]},T,_,U,Z],type:"Attachment",abstractKey:"__isAttachment"}]},V,G={kind:"LinkedField",name:"secondaryImageSources",plural:!0,selections:H},{concreteType:"MessageFollowUpTargetBotInfo",kind:"LinkedField",name:"targetBotInfo",plural:!1,selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[u,o,d,c,m]}]},{concreteType:"Message",kind:"LinkedField",name:"referencedMessage",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[v,l,M,w,I,x,D],type:"Message"},{kind:"InlineFragment",selections:[v,l],type:"DeletedMessage"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"}]},{concreteType:"SendMessageFollowupActionMessageSource",kind:"LinkedField",name:"messageSource",plural:!1,selections:[{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"metadata"}]}],type:"SendMessageFollowupAction"},{kind:"InlineFragment",selections:[P,A,{kind:"ScalarField",name:"prefillText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"prefillAttachments",plural:!0,selections:[N,o,_,T,L,{kind:"InlineFragment",selections:[{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[R]},U,Z],type:"Attachment",abstractKey:"__isAttachment"}]},V,G],type:"PrefillMessageFollowupAction"},{kind:"InlineFragment",selections:[P,A,V,{kind:"ScalarField",name:"commandType"},{concreteType:"MessageFollowUpTargetBotInfo",kind:"LinkedField",name:"targetBotInfo",plural:!1,selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[d,u,o,c,m]}]}],type:"CommandMessageFollowupAction"}]},{kind:"ClientExtension",selections:[O,{kind:"ScalarField",name:"createStatus"}]}],type:"Message"}]},{alias:"chatNode",args:r,kind:"LinkedField",name:"node",plural:!1,selections:[l,o,{kind:"InlineFragment",selections:[{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[o,{kind:"ScalarField",name:"jobId"}]},{kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[o,u,{kind:"ScalarField",name:"hasMarkdownRendering"}]},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"hasMultipleUsers"},E],type:"Chat"}]}]},params:{id:"1c5590a88333b149013982f8bb1adc87c1a857a69f01a1bf4524957e676f3708",metadata:{},name:"ChatLastMessageAreaQuery",operationKind:"query",text:null}});K.hash="d895340561732e32a142dd98b626a40a",a.default=K},29741:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatLastMessageArea_bot",selections:[{kind:"ScalarField",name:"introduction"},{kind:"FragmentSpread",name:"ChatMessageActionBar_bot"}],type:"Bot"};t.hash="1f10e8d05fb5ebe14b73bf5d80d03c1f",a.default=t},25986:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatLastMessageArea_chat",selections:[{kind:"ScalarField",name:"id"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="2b707c6aa902bf5e89931a34555d04b3",a.default=t},50102:function(e,a,n){"use strict";var t,i;n.r(a);let s={argumentDefinitions:[],kind:"Fragment",name:"ChatLastMessageArea_lastMessage",selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"}]},i={kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:t=[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isBotMessage",selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:t,argumentDefinitions:[]},i,{kind:"InlineDataFragmentSpread",name:"messageHelpers_isCommandMessage",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatAnnouncement",selections:[{kind:"ScalarField",name:"isChatAnnouncement"}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"ChatMessageActionBar_message"}],type:"Message"};s.hash="abf30a3f64033d0c759977936f8b1790",a.default=s},23917:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatLastMessageArea_lastMessage_chat",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_chat"},{kind:"FragmentSpread",name:"ChatMessageFollowupActions_chat"},{kind:"FragmentSpread",name:"useIsMultiUserChat_chat"},{kind:"FragmentSpread",name:"useChatHasActiveJobs_chat"}],type:"Chat"};t.hash="7fc10d8f74e69cba3714c437af6600a8",a.default=t},17203:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatLastMessageArea_message",selections:[{kind:"ScalarField",name:"id"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Message"};t.hash="8b1572394bf0dbaa4a34805fc040a134",a.default=t},21506:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatLastMessageArea_messageFollowupActions",selections:[{kind:"FragmentSpread",name:"ChatMessageFollowupActions_message"}],type:"Message"};t.hash="15883f62fdd5ed3020607b2280246f3c",a.default=t},83451:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatLastMessageArea_pairedUserMessage",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_pairedUserMessage"}],type:"Message"};t.hash="6350c9ff3d02b9ae6583ec63b1ac05bd",a.default=t},62259:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatLastMessageArea_viewer",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_viewer"},{kind:"FragmentSpread",name:"ChatMessageFollowupActions_viewer"}],type:"Viewer"};t.hash="66d4aa55b7b064410db08fbee69d35fe",a.default=t},25295:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g,p,h,k,f,_,b,F,v,C,S,y,M,w,I,x,T,B,L,D,j;n.r(a);let P=(t=[{defaultValue:12,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],i=[{kind:"Variable",name:"id",variableName:"id"}],r={kind:"ScalarField",name:"id"},l=[{kind:"Variable",name:"before",variableName:"cursor"},{kind:"Variable",name:"last",variableName:"count"}],o={kind:"ScalarField",name:"uid"},d={kind:"ScalarField",name:"fullName"},c={kind:"ScalarField",name:"handle"},m={kind:"ScalarField",name:"viewerIsFollowing"},u={kind:"ScalarField",name:"isDeleted"},g={alias:"smallProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},p={kind:"TypeDiscriminator",abstractKey:"__isNode"},h={kind:"ScalarField",name:"limitedAccessType"},k={kind:"ScalarField",name:"isPrivateBot"},f={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},_={kind:"ScalarField",name:"translatedBotTags"},b={kind:"ScalarField",name:"deletionState"},F={kind:"ScalarField",name:"displayName"},C={kind:"LinkedField",name:"picture",plural:!1,selections:[s={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[v={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},S={kind:"ScalarField",name:"messageId"},y={kind:"ScalarField",name:"text"},M={kind:"ScalarField",name:"state"},w=[o,r],L={kind:"ScalarField",name:"reaction"},D=[{kind:"Literal",name:"first",value:5}],j={kind:"ScalarField",name:"cursor"},{fragment:{argumentDefinitions:t,kind:"Fragment",name:"ChatListPaginationQuery",selections:[{args:i,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ChatPageMain_pagination_chat"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ChatListPaginationQuery",selections:[{args:i,kind:"LinkedField",name:"node",plural:!1,selections:[s,r,{kind:"InlineFragment",selections:[{args:l,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"author"},{kind:"ScalarField",name:"isChatAnnouncement"},r,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[o,r,d,c,m,u,g,p]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"},r,{kind:"ScalarField",name:"messageTimeoutSecs"},{kind:"ScalarField",name:"allowsImageAttachments"},c,{kind:"ScalarField",name:"isApiBot"},{kind:"ScalarField",name:"nickname"},h,k,f,_,b,F,C,p]},S,{kind:"ScalarField",name:"creationTime"},y,M,{kind:"ScalarField",name:"clientNonce"},{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:w},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[r,{kind:"ScalarField",name:"attachmentId"},I={kind:"ScalarField",name:"name"},v,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[x={kind:"ScalarField",name:"mimeType"},r,{kind:"ScalarField",name:"size"}]},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},v,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"InlineFragment",selections:[B={kind:"ClientExtension",selections:[T={kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageAttachment"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"},B]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[s,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[S,y,u,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[h,k,f,_,b,F,C,c,r,p]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[r,o,c,d,m,u,g,p]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[I,v,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[x,r]}],type:"Attachment",abstractKey:"__isAttachment"},r]}],type:"Message"},{kind:"InlineFragment",selections:[r],type:"Node",abstractKey:"__isNode"}]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[M,r,{kind:"ScalarField",name:"jobId"}]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[L,{kind:"ScalarField",name:"count"},r]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:w},{kind:"ScalarField",name:"hasCitations"},{kind:"ScalarField",name:"textLengthOnCancellation"},{args:D,concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[L,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[o,d,{kind:"ScalarField",name:"viewerIsUser"},{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},r]},r,s]},j,r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}],storageKey:"reactionsConnection(first:5)"},{args:D,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},s,{kind:"ClientExtension",selections:[T,{kind:"ScalarField",name:"timeoutLevel"},{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"clientMessageStateText"}]},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[u],type:"Message"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},p]},r,j]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},r]},{args:l,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"}],type:"Chat"}]}]},params:{id:"5c894ac9b3b851de6600998326db3edc692182d8110cd59d8d0a80f5bf128a3d",metadata:{},name:"ChatListPaginationQuery",operationKind:"query",text:null}});P.hash="cba346cdc03b16d2f805b4efe51a06b9",a.default=P},77309:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMembersDisplayText_bot",selections:[{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};t.hash="f46fcaadbee2ab4647b7eb4d903c710d",a.default=t},56318:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMembersDisplayText_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatMembersDisplayText_bot"}]},{kind:"ScalarField",name:"membersCount"},{kind:"FragmentSpread",name:"useIsMultiUserChat_chat"},{args:[{kind:"Literal",name:"first",value:2}],concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"__typename"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"uid"},{kind:"ScalarField",name:"fullName"}],type:"PoeUser"}]}]}],storageKey:"userMembersConnection(first:2)"}],type:"Chat"};t.hash="b51feac37e64c8711611f2c74ddae022",a.default=t},61219:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMembersDisplayText_viewer",selections:[{kind:"ScalarField",name:"uid"}],type:"Viewer"};t.hash="fd613f1ccfbe9880b6cb120f47da0135",a.default=t},31069:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_bot",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_useActionBarItems_bot"}],type:"Bot"};t.hash="642fdb9abfa2cf663c0740db4982b8b2",a.default=t},9543:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_chat",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_useActionBarItems_chat"},{kind:"FragmentSpread",name:"useChatHasActiveJobs_chat"}],type:"Chat"};t.hash="5e43789035268440ad42c94e06a289ea",a.default=t},94853:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_message",selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"ChatMessageActionBar_useActionBarItems_message"}],type:"Message"};t.hash="448841d686a3a865a50e2cae54ecdec0",a.default=t},34882:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_pairedUserMessage",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_useActionBarItems_pairedUserMessage"}],type:"Message"};t.hash="63039fea5a982838d8e047b10911f595",a.default=t},68422:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useActionBarItems_bot",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_useRegenerateButton_bot"},{kind:"FragmentSpread",name:"ChatMessageActionBar_useResendButton_bot"}],type:"Bot"};t.hash="bc4c841e5c858ae3d63ceebe5ac67b4f",a.default=t},31184:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useActionBarItems_chat",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_useRegenerateButton_chat"},{kind:"FragmentSpread",name:"ChatMessageActionBar_useRetryButton_chat"},{kind:"FragmentSpread",name:"ChatMessageActionBar_useResendButton_chat"}],type:"Chat"};t.hash="a7504da3108ab679827ac960e4ed45ab",a.default=t},65288:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useActionBarItems_message",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_useShareButton_message"},{kind:"FragmentSpread",name:"ChatMessageActionBar_useRegenerateButton_message"},{kind:"FragmentSpread",name:"ChatMessageActionBar_useRetryButton_message"},{kind:"FragmentSpread",name:"ChatMessageActionBar_useResendButton_message"}],type:"Message"};t.hash="5a4ef3486f380b7ea25c7b233539fa4b",a.default=t},2303:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useActionBarItems_pairedUserMessage",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_useRetryButton_pairedUserMessage"}],type:"Message"};t.hash="6233cec19b1b7e01521c71c315145685",a.default=t},7987:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useActionBarItems_viewer",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_useRegenerateButton_viewer"},{kind:"FragmentSpread",name:"ChatMessageActionBar_useRetryButton_viewer"},{kind:"FragmentSpread",name:"ChatMessageActionBar_useResendButton_viewer"}],type:"Viewer"};t.hash="bad42dd11cc03e8c3dcde9a1083f0524",a.default=t},91216:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useRegenerateButton_bot",selections:[{kind:"FragmentSpread",name:"ChatMessageRegenerateActionButton_bot"}],type:"Bot"};t.hash="38c761105202ec099cbf7cb39c26339c",a.default=t},28380:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useRegenerateButton_chat",selections:[{kind:"FragmentSpread",name:"ChatMessageRegenerateActionButton_chat"}],type:"Chat"};t.hash="ddbd786d3c2a94e0f64211a552a20c1c",a.default=t},85728:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useRegenerateButton_message",selections:[{kind:"ScalarField",name:"state"},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isBotMessage",selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:t=[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isCommandMessage",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatAnnouncement",selections:[{kind:"ScalarField",name:"isChatAnnouncement"}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"ChatMessageRegenerateActionButton_message"},{kind:"FragmentSpread",name:"useIsViewerMessageCreator_message"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Message"};i.hash="5db44a8fe6c2aa62824b04048c9d3f83",a.default=i},98275:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useRegenerateButton_viewer",selections:[{kind:"FragmentSpread",name:"ChatMessageRegenerateActionButton_viewer"},{kind:"FragmentSpread",name:"useIsViewerMessageCreator_viewer"}],type:"Viewer"};t.hash="679b009b7f134bfa5117040bfcabd3ae",a.default=t},24420:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useResendButton_bot",selections:[{kind:"FragmentSpread",name:"ChatMessageResendActionButton_bot"}],type:"Bot"};t.hash="636d67518b3eaed7ee930773d8ea71f6",a.default=t},10617:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useResendButton_chat",selections:[{kind:"FragmentSpread",name:"ChatMessageResendActionButton_chat"}],type:"Chat"};t.hash="5c3df9bb6c6afefb28d6319c933b11be",a.default=t},80567:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useResendButton_message",selections:[{kind:"ScalarField",name:"state"},t={kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"ChatMessageResendActionButton_message"},{kind:"InlineDataFragmentSpread",name:"messageCreateStatus_message",selections:[{kind:"InlineDataFragmentSpread",name:"messageCreateStatus_returnsMessageCreateStatus_message",selections:[t],argumentDefinitions:[]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"createStatus"}]}],argumentDefinitions:[]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Message"};i.hash="351b393f59bf800dc8ba2f02dfcc836d",a.default=i},37736:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useResendButton_viewer",selections:[{kind:"FragmentSpread",name:"ChatMessageResendActionButton_viewer"}],type:"Viewer"};t.hash="dcfa374ef4840aa6b182a1723782c0d7",a.default=t},89659:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useRetryButton_chat",selections:[{kind:"FragmentSpread",name:"ChatMessageRetryActionButton_chat"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="6a0be7d406ada77edfffc59909e776d4",a.default=t},44651:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useRetryButton_message",selections:[{kind:"ScalarField",name:"state"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatMessageRetryActionButton_bot"}]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isBotMessage",selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:t=[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isCommandMessage",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatAnnouncement",selections:[{kind:"ScalarField",name:"isChatAnnouncement"}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"useIsViewerMessageCreator_message"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Message"};i.hash="9d73f9dccca7ea7e040e054eb8291a67",a.default=i},59099:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useRetryButton_pairedUserMessage",selections:[{kind:"FragmentSpread",name:"ChatMessageRetryActionButton_message"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Message"};t.hash="98196a02abd57c5542d69e18614cef04",a.default=t},8195:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useRetryButton_viewer",selections:[{kind:"FragmentSpread",name:"ChatMessageRetryActionButton_viewer"},{kind:"FragmentSpread",name:"useIsViewerMessageCreator_viewer"}],type:"Viewer"};t.hash="15e97b622734c3b8919277518008c81a",a.default=t},97506:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_useShareButton_message",selections:[{kind:"ScalarField",name:"state"},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isBotMessage",selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:t=[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isCommandMessage",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatAnnouncement",selections:[{kind:"ScalarField",name:"isChatAnnouncement"}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"ChatMessageShareActionButton_message"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Message"};i.hash="0fc94694471e523bd3004f4686d69e22",a.default=i},26879:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageActionBar_viewer",selections:[{kind:"FragmentSpread",name:"ChatMessageActionBar_useActionBarItems_viewer"}],type:"Viewer"};t.hash="ab0523dfb8898011a70a38ea23ee9544",a.default=t},78033:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageContextMenu_bot",selections:[{kind:"FragmentSpread",name:"ChatMessageDropdownMenu_bot"}],type:"Bot"};t.hash="f7b64cf1c26febe2a79ac6af59d5b6c1",a.default=t},41100:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageContextMenu_chat",selections:[{kind:"FragmentSpread",name:"ChatMessageDropdownMenu_chat"}],type:"Chat"};t.hash="0b7386f14778047b49f7cd5470633dff",a.default=t},68126:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageContextMenu_message",selections:[{kind:"FragmentSpread",name:"ChatMessageDropdownMenu_message"},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatAnnouncement",selections:[{kind:"ScalarField",name:"isChatAnnouncement"}],argumentDefinitions:[]}],type:"Message"};t.hash="35a3b8e61b5af2bf4b0b821069f7e625",a.default=t},82457:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageContextMenu_viewer",selections:[{kind:"FragmentSpread",name:"ChatMessageDropdownMenu_viewer"}],type:"Viewer"};t.hash="d7cf5fab9d525baa51a1442fea3d3546",a.default=t},19701:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageFollowupActionsModalContextWrapper_chat",selections:[{kind:"ScalarField",name:"chatId"}],type:"Chat"};t.hash="f678d48d1a7e22fba288172d7b561222",a.default=t},72232:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageFollowupActionsModalContextWrapper_message",selections:[{kind:"ScalarField",name:"messageId"}],type:"Message"};t.hash="f9f60dd617fbd71a5e59dc7e23a04cfc",a.default=t},9977:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageFollowupActions_chat",selections:[{kind:"FragmentSpread",name:"MessageFollowupActionMain_chat"}],type:"Chat"};t.hash="6176470ba153afda786294fa36c97116",a.default=t},12572:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageFollowupActions_message",selections:[{kind:"LinkedField",name:"followupActions",plural:!0,selections:[{kind:"FragmentSpread",name:"MessageFollowupActionMain_followupAction"}]},{kind:"FragmentSpread",name:"MessageFollowupActionMain_message"}],type:"Message"};t.hash="2fe2b1abd6178a6b376bf27f6640d2fc",a.default=t},70306:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageFollowupActions_viewer",selections:[{kind:"FragmentSpread",name:"MessageFollowupActionMain_viewer"}],type:"Viewer"};t.hash="6abff8b85914309d2da297aeaa0f600c",a.default=t},84087:function(e,a,n){"use strict";var t,i,s;n.r(a);let r={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputFooter_chat",selections:[t={kind:"ScalarField",name:"chatId"},{kind:"FragmentSpread",name:"ChatBreakButton_chat"},{kind:"FragmentSpread",name:"ChatMessageInputFooter_useSubmitMessage_chat"},{kind:"FragmentSpread",name:"ChatMessageInputContainer_chat"},{kind:"InlineDataFragmentSpread",name:"checkLastMessageAndRefetch_chat",selections:[t,i={kind:"ScalarField",name:"id"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[i]},s={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},{kind:"ScalarField",name:"shouldBotAutoRespond"},s],type:"Chat"};r.hash="b52907c1636359c139b9dd5df05bbc50",a.default=r},23813:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputFooter_defaultBot",selections:[{kind:"ScalarField",name:"noAccessMessage"},{kind:"FragmentSpread",name:"ChatBreakButton_bot"}],type:"Bot"};t.hash="0c257d7b399b65bed1a1689ef3c0804a",a.default=t},27259:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputFooter_lastMessage",selections:[{kind:"ScalarField",name:"author"},{kind:"FragmentSpread",name:"inputHelpers_useIsBotResponding_message"},{kind:"FragmentSpread",name:"ChatBreakButton_lastMessage"}],type:"Message"};t.hash="c222a74aba692608787cc0a6911b8b56",a.default=t},3178:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatMessageInputFooter_messageEdges",selections:[{kind:"FragmentSpread",name:"ChatMessageInputContainer_messageEdges"}],type:"MessageEdge"};t.hash="3702e7f49846d4e096cad6df82eafb7a",a.default=t},70139:function(e,a,n){"use strict";var t,i;n.r(a);let s={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputFooter_referencedMessage",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_referencedMessage",selections:[{kind:"InlineFragment",selections:t=[{kind:"ScalarField",name:"messageId"}],type:"Message"},{kind:"InlineFragment",selections:t,type:"DeletedMessage"},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_referencedMessage",selections:[{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_referencedMessage",selections:[{kind:"InlineFragment",selections:i=[{kind:"ScalarField",name:"id"}],type:"Message"},{kind:"InlineFragment",selections:i,type:"DeletedMessage"},{kind:"FragmentSpread",name:"ChatReferencedMessage_message"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"};s.hash="e326a05f80afe0b9122a94d332a702ef",a.default=s},55023:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"ChatMessageInputFooter_selectBot"};t.hash="67e9e0fb046d365e324f57267730f027",a.default=t},35858:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputFooter_targetedBot",selections:[{kind:"ScalarField",name:"handle"},{kind:"FragmentSpread",name:"ChatMessageInputContainer_bot"},{kind:"FragmentSpread",name:"ChatMessageInputFooter_useSubmitMessage_bot"}],type:"Bot"};t.hash="1d17c5d226c0858a4bc03c79d47810fb",a.default=t},28824:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputFooter_useSubmitMessage_bot",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_bot",selections:[{kind:"ScalarField",name:"id"}],argumentDefinitions:[]}],type:"Bot"};t.hash="d16b6d76f2c8970789af7b892c466c1d",a.default=t},41257:function(e,a,n){"use strict";var t,i;n.r(a);let s={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputFooter_useSubmitMessage_chat",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[t={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,{kind:"ScalarField",name:"handle"}]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:[t],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[t,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"hasMarkdownRendering"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},i={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},i],type:"Chat"};s.hash="b5de89645b7d1cec2abd2a373dc81cbe",a.default=s},89929:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputFooter_useSubmitMessage_viewer",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_viewer",selections:[{alias:"shouldUseFinishUploadEndpoint",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_finish_upload_endpoint"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_finish_upload_endpoint")'},{alias:"shouldUsePresignedUrl",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_presigned_url"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_presigned_url")'},{alias:"useMessageSendingIcon",args:[{kind:"Literal",name:"gateName",value:"poe_use_message_sending_icon"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_message_sending_icon")'}],argumentDefinitions:[]}],type:"Viewer"};t.hash="00150c38e0894437664c655dd756e89d",a.default=t},59948:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputFooter_viewer",selections:[{kind:"FragmentSpread",name:"ChatMessageInputContainer_viewer"},{kind:"FragmentSpread",name:"ChatMessageInputFooter_useSubmitMessage_viewer"},{kind:"InlineDataFragmentSpread",name:"messageEditing_messageEdgeEdit_viewer",selections:[{alias:"shouldUseFinishUploadEndpoint",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_finish_upload_endpoint"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_finish_upload_endpoint")'},{alias:"shouldUsePresignedUrl",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_presigned_url"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_presigned_url")'}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"ChatBreakButton_viewer"}],type:"Viewer"};t.hash="041d58c521c8e3436df50e3c9610e825",a.default=t},25243:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageOverflowButton_bot",selections:[{kind:"FragmentSpread",name:"ChatMessageDropdownMenu_bot"}],type:"Bot"};t.hash="df46ab9d9c5a0846f04175160665b253",a.default=t},79111:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageOverflowButton_chat",selections:[{kind:"FragmentSpread",name:"ChatMessageDropdownMenu_chat"}],type:"Chat"};t.hash="29b40cc8cfb1229a6f85a0f45f81359d",a.default=t},91781:function(e,a,n){"use strict";var t,i;n.r(a);let s=(i={kind:"InlineDataFragmentSpread",name:"messageHelpers_isCommandMessage",selections:t=[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},{argumentDefinitions:[],kind:"Fragment",name:"ChatMessageOverflowButton_message",selections:[{kind:"ScalarField",name:"text"},{kind:"FragmentSpread",name:"ChatMessageDropdownMenu_message"},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isBotMessage",selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:t,argumentDefinitions:[]},i,{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatAnnouncement",selections:[{kind:"ScalarField",name:"isChatAnnouncement"}],argumentDefinitions:[]}],argumentDefinitions:[]},i],type:"Message"});s.hash="67f924fd7aa9632f49ddf9b2694d3bbd",a.default=s},12506:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageOverflowButton_viewer",selections:[{kind:"FragmentSpread",name:"ChatMessageDropdownMenu_viewer"}],type:"Viewer"};t.hash="1f6169cc441b259bcc51f7e9826feacd",a.default=t},45692:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageReactionsContextWrapper_message",selections:[{kind:"ScalarField",name:"messageId"},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[{kind:"ScalarField",name:"reaction"},{kind:"ScalarField",name:"count"}]},{kind:"ScalarField",name:"viewerReaction"}],type:"Message"};t.hash="6fb7ca98c86170c11a738872850ffff6",a.default=t},4399:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageReadByMembersModalContextWrapper_chat",selections:[{kind:"FragmentSpread",name:"useIsMultiUserChat_chat"}],type:"Chat"};t.hash="fd300b1f59ca30e5dcf0380b66867c0e",a.default=t},59586:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageReadByMembersModalContextWrapper_message",selections:[{kind:"ScalarField",name:"messageId"}],type:"Message"};t.hash="cf4e41707a2ded30bdb4b7c4ce741f09",a.default=t},51689:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageRegenerateActionButton_bot",selections:[{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_useMaybeBlockOnPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"paywallContext_openPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"logHelpers_getBotLogData_bot",selections:[{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"displayName"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"PaywallOpener_bot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Bot"};t.hash="1ee983b6fb471080f4f276574c5d160f",a.default=t},88738:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageRegenerateActionButton_chat",selections:[{kind:"InlineDataFragmentSpread",name:"regenerateMessage_chat",selections:[t={kind:"ScalarField",name:"id"},{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[t,{kind:"ScalarField",name:"jobId"}]}],argumentDefinitions:[]}],type:"Chat"};i.hash="4e701a281a03dc9fd84c720c44743209",a.default=i},3102:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageRegenerateActionButton_message",selections:[{kind:"InlineDataFragmentSpread",name:"regenerateMessage_message",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"messageId"}],argumentDefinitions:[]}],type:"Message"};t.hash="b918c4006184e75c765d2342e7e5ad39",a.default=t},81908:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageRegenerateActionButton_viewer",selections:[{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_getShouldShowPaywall_viewer",selections:[{kind:"ScalarField",name:"isEligibleForWebSubscriptions"},{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{kind:"ScalarField",name:"isActive"}]}],argumentDefinitions:[]},{alias:"poeDebugRegenerateMessage",args:[{kind:"Literal",name:"gateName",value:"poe_debug_regenerate_message"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_debug_regenerate_message")'}],type:"Viewer"};t.hash="832ce0f2835ee9a8367bd8b03146404c",a.default=t},87924:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageResendActionButton_bot",selections:[{kind:"InlineDataFragmentSpread",name:"resendMessage_bot",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_bot",selections:[{kind:"ScalarField",name:"id"}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Bot"};t.hash="ad4be12cb5193fc54f99b8611dc14846",a.default=t},99697:function(e,a,n){"use strict";var t,i;n.r(a);let s={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageResendActionButton_chat",selections:[{kind:"InlineDataFragmentSpread",name:"resendMessage_chat",selections:[t={kind:"ScalarField",name:"id"},{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[t,{kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,{kind:"ScalarField",name:"handle"}]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:[t],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[t,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"hasMarkdownRendering"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},i={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},i],type:"Chat"};s.hash="5378a282f1301a9de68fa9c04a475795",a.default=s},212:function(e,a,n){"use strict";var t,i,s;n.r(a);let r=(i=[{kind:"ScalarField",name:"messageId"}],s=[t={kind:"ScalarField",name:"id"}],{argumentDefinitions:[],kind:"Fragment",name:"ChatMessageResendActionButton_message",selections:[{kind:"InlineDataFragmentSpread",name:"resendMessage_message",selections:[t,{kind:"ScalarField",name:"clientNonce"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_referencedMessage",selections:[{kind:"InlineFragment",selections:i,type:"Message"},{kind:"InlineFragment",selections:i,type:"DeletedMessage"},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_referencedMessage",selections:[{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_referencedMessage",selections:[{kind:"InlineFragment",selections:s,type:"Message"},{kind:"InlineFragment",selections:s,type:"DeletedMessage"},{kind:"FragmentSpread",name:"ChatReferencedMessage_message"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}]}],type:"Message"});r.hash="357a6060bad8771f0893f1369625e6c2",a.default=r},21879:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageResendActionButton_viewer",selections:[{kind:"InlineDataFragmentSpread",name:"resendMessage_viewer",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_viewer",selections:[{alias:"shouldUseFinishUploadEndpoint",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_finish_upload_endpoint"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_finish_upload_endpoint")'},{alias:"shouldUsePresignedUrl",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_presigned_url"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_presigned_url")'},{alias:"useMessageSendingIcon",args:[{kind:"Literal",name:"gateName",value:"poe_use_message_sending_icon"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_message_sending_icon")'}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Viewer"};t.hash="f92a7a701c4cea27d7cc9d49606cd641",a.default=t},36575:function(e,a,n){"use strict";var t,i;n.r(a);let s={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageRetryActionButton_bot",selections:[{kind:"InlineDataFragmentSpread",name:"retryMessage_bot",selections:[{kind:"InlineDataFragmentSpread",name:"retryMessage_createOptimisticMessage_bot",selections:[t={kind:"ScalarField",name:"botId"},{kind:"InlineDataFragmentSpread",name:"optimisticMessage_createOptimisticBotMessage_bot",selections:[i={kind:"ScalarField",name:"nickname"},{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_bot",selections:[{kind:"ScalarField",name:"id"},{kind:"FragmentSpread",name:"ChatMessage_bot"},{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"},{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_useMaybeBlockOnPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"paywallContext_openPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"logHelpers_getBotLogData_bot",selections:[t,i,{kind:"ScalarField",name:"displayName"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"PaywallOpener_bot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Bot"};s.hash="a2f7a067ed1e0a0d19a35fce5c92aed0",a.default=s},13585:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageRetryActionButton_chat",selections:[{kind:"InlineDataFragmentSpread",name:"retryMessage_chat",selections:[t={kind:"ScalarField",name:"id"},{kind:"InlineDataFragmentSpread",name:"retryMessage_createOptimisiticMessage_chat",selections:[t],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Chat"};i.hash="258cc577d34eacff7d05e3b141916e89",a.default=i},41110:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageRetryActionButton_message",selections:[{kind:"InlineDataFragmentSpread",name:"retryMessage_message",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"messageId"},{kind:"InlineDataFragmentSpread",name:"retryMessage_createOptimisticMessage_message",selections:[{kind:"ScalarField",name:"contentType"}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Message"};t.hash="20693a71058849f569fb4dbc6e5548e7",a.default=t},36866:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageRetryActionButton_viewer",selections:[{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_getShouldShowPaywall_viewer",selections:[{kind:"ScalarField",name:"isEligibleForWebSubscriptions"},{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{kind:"ScalarField",name:"isActive"}]}],argumentDefinitions:[]}],type:"Viewer"};t.hash="640f3939797ce523000ebee906e10175",a.default=t},82748:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageShareActionButton_message",selections:[{kind:"ScalarField",name:"messageId"}],type:"Message"};t.hash="91f8bc135ef4f7ff38dc4a50a1831c09",a.default=t},35906:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageSubline_message",selections:[{kind:"ScalarField",name:"sourceType"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Message"};t.hash="f833f4f84b4390d74c1fa79797293ce8",a.default=t},32122:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessage_ChatMessageFooter_message",selections:[{kind:"ScalarField",name:"state"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"FragmentSpread",name:"Attachments_attachment"}]},{kind:"FragmentSpread",name:"CitationFooter_message"}],type:"Message"};t.hash="30389d5b4297422a9e5865dd47a476b1",a.default=t},73147:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessage_ChatMessageFooter_viewer",selections:[{alias:"showInteractiveMedia",args:[{kind:"Literal",name:"gateName",value:"poe_enable_user_message_attachments_new_ui"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_user_message_attachments_new_ui")'}],type:"Viewer"};t.hash="b491a5b4ab8b33c9664c55b7c6d648a2",a.default=t},73511:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessage_bot",selections:[{kind:"ScalarField",name:"messageTimeoutSecs"},{kind:"ScalarField",name:"botId"},{kind:"FragmentSpread",name:"ChatMessageContextMenu_bot"},{kind:"FragmentSpread",name:"ChatMessageOverflowButton_bot"},{kind:"FragmentSpread",name:"Message_bot"},{kind:"FragmentSpread",name:"messageTimeout_useTimeoutLevel_bot"},{kind:"FragmentSpread",name:"LeftSideMessageHeader_bot"}],type:"Bot"};t.hash="6d55360c8a9881386b877010219b10f6",a.default=t},80916:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatMessage_chat",selections:[{kind:"ScalarField",name:"id"},t={kind:"ScalarField",name:"chatId"},{kind:"FragmentSpread",name:"InChatIFrame_chat"},{kind:"FragmentSpread",name:"useChatMessageSeenState_chat"},{kind:"FragmentSpread",name:"ChatMessageReadByMembersModalContextWrapper_chat"},{kind:"FragmentSpread",name:"ChatMessageFollowupActionsModalContextWrapper_chat"},{kind:"FragmentSpread",name:"messageTimeout_useTimeoutLevel_chat"},{kind:"FragmentSpread",name:"ChatLastMessageArea_chat"},{kind:"FragmentSpread",name:"ChatMessageOverflowButton_chat"},{kind:"FragmentSpread",name:"ChatMessageContextMenu_chat"},{kind:"InlineDataFragmentSpread",name:"useChatLastMessageImpressionTracker_chat",selections:[t],argumentDefinitions:[]},{kind:"FragmentSpread",name:"Message_chat"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};i.hash="ad72bc093244489cf9870ad6c67315e0",a.default=i},27268:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessage_defaultBot",selections:[{kind:"FragmentSpread",name:"ChatMessage_bot"},{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"},{kind:"FragmentSpread",name:"InChatIFrame_bot"}],type:"Bot"};t.hash="cb42d261f9a1ea0027351e207d8ae352",a.default=t},92559:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g;n.r(a);let p=(t={kind:"ScalarField",name:"messageId"},s={kind:"ScalarField",name:"state"},r=[{kind:"ScalarField",name:"uid"}],o={kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:l=[i={kind:"ScalarField",name:"author"}],argumentDefinitions:[]},m={kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatAnnouncement",selections:[{kind:"ScalarField",name:"isChatAnnouncement"}],argumentDefinitions:[]},u={kind:"InlineDataFragmentSpread",name:"messageHelpers_isBotMessage",selections:[o,d={kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:l,argumentDefinitions:[]},c={kind:"InlineDataFragmentSpread",name:"messageHelpers_isCommandMessage",selections:l,argumentDefinitions:[]},m],argumentDefinitions:[]},{argumentDefinitions:[],kind:"Fragment",name:"ChatMessage_message",selections:[{kind:"ScalarField",name:"id"},t,{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"text"},{kind:"ScalarField",name:"parameters"},i,s,{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"creationTime"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[{kind:"ScalarField",name:"fullName"},{kind:"FragmentSpread",name:"LeftSideMessageHeader_poeUser"}]},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:r},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"FragmentSpread",name:"Attachments_attachment"}]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"},{kind:"FragmentSpread",name:"ChatMessage_bot"}]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatReferencedMessage_message"}]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[s]},{kind:"FragmentSpread",name:"ChatMessageSubline_message"},{kind:"FragmentSpread",name:"InChatIFrame_message"},{kind:"FragmentSpread",name:"useChatMessageSeenState_message"},{kind:"FragmentSpread",name:"ChatMessageReadByMembersModalContextWrapper_message"},{kind:"FragmentSpread",name:"ChatMessageFollowupActionsModalContextWrapper_message"},{kind:"FragmentSpread",name:"ChatMessageReactionsContextWrapper_message"},{kind:"FragmentSpread",name:"ChatMessageContextMenu_message"},{kind:"FragmentSpread",name:"ChatMessageOverflowButton_message"},{kind:"FragmentSpread",name:"ChatMessage_ChatMessageFooter_message"},o,u,d,m,c,{kind:"InlineDataFragmentSpread",name:"messageHelpers_isSentByViewer_message",selections:[{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:r},u,{kind:"ClientExtension",selections:[g={kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"messageTimeout_useTimeoutLevel"},{kind:"FragmentSpread",name:"IdAnnotation_node"},{kind:"FragmentSpread",name:"useIsMessageCancelled_message"},{kind:"FragmentSpread",name:"ChatLastMessageArea_message"},{kind:"InlineDataFragmentSpread",name:"useChatLastMessageImpressionTracker_message",selections:[t],argumentDefinitions:[]},{kind:"FragmentSpread",name:"MessageReactionsModal_message"},{kind:"FragmentSpread",name:"useMessageRemoveReaction_message"},{kind:"ClientExtension",selections:[g,{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"clientMessageStateText"}]}],type:"Message"});p.hash="cadc8314d07b6893b9eb2c3fe5404c59",a.default=p},90199:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessage_pairedUserMessage",selections:[{kind:"ScalarField",name:"messageId"},{kind:"FragmentSpread",name:"messageTimeout_useTimeoutLevel_pairedUserMessage"},{kind:"FragmentSpread",name:"ChatLastMessageArea_pairedUserMessage"}],type:"Message"};t.hash="f2ca9b9afbf2f01f3f44250bf1f01133",a.default=t},89975:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessage_root",selections:[{kind:"FragmentSpread",name:"useSupportedPreviewContentTypes_root"},{concreteType:"ExecutableLanguageInfo",kind:"LinkedField",name:"supportedExecutableLanguages",plural:!0,selections:[{kind:"ScalarField",name:"language"}]}],type:"QueryRoot"};t.hash="c7a6461644ab818289ecde4ced2d5be7",a.default=t},5619:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatMessage_viewer",selections:[t={kind:"ScalarField",name:"uid"},{kind:"FragmentSpread",name:"Message_viewer"},{kind:"FragmentSpread",name:"messageTimeout_useTimeoutLevel_viewer"},{kind:"FragmentSpread",name:"ChatMessageContextMenu_viewer"},{kind:"FragmentSpread",name:"ChatMessageOverflowButton_viewer"},{kind:"FragmentSpread",name:"ChatLastMessageArea_viewer"},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isSentByViewer_viewer",selections:[t],argumentDefinitions:[]},{kind:"FragmentSpread",name:"InChatIFrame_viewer"},{kind:"FragmentSpread",name:"useChatMessageSeenState_viewer"},{kind:"FragmentSpread",name:"ChatMessage_ChatMessageFooter_viewer"},{concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[{kind:"ScalarField",name:"id"}]},{alias:"badgeAtBotMessageCreationEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_badge_at_bot_message_creation"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_badge_at_bot_message_creation")'},{alias:"poeHideLeftSideMessageHeaderIfSameSender",args:[{kind:"Literal",name:"gateName",value:"poe_hide_left_side_message_header_if_same_sender"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_hide_left_side_message_header_if_same_sender")'}],type:"Viewer"};i.hash="5edeef3d9490436938d38e992797a39c",a.default=i},83011:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessagesView_ChatMessagesGroupedByDate_chat",selections:[{kind:"FragmentSpread",name:"ChatMessage_chat"},{kind:"FragmentSpread",name:"useIsMultiUserChat_chat"},{kind:"ScalarField",name:"shouldBotAutoRespond"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{kind:"FragmentSpread",name:"inputHelpers_useIsBotResponding_message"}]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="2e23059616eb9fdb5a599fd354bafad2",a.default=t},61309:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessagesView_ChatMessagesGroupedByDate_defaultBot",selections:[{kind:"FragmentSpread",name:"ChatMessage_defaultBot"}],type:"Bot"};t.hash="343e023c4f31380b99027762b3edd298",a.default=t},4681:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessagesView_ChatMessagesGroupedByDate_root",selections:[{kind:"FragmentSpread",name:"ChatMessage_root"}],type:"QueryRoot"};t.hash="39891515c70991ec2858809a1e04ab17",a.default=t},53347:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessagesView_ChatMessagesGroupedByDate_viewer",selections:[{kind:"ScalarField",name:"uid"},{alias:"poeWebChatNewScrollBehavior",args:[{kind:"Literal",name:"gateName",value:"poe_web_chat_new_scroll_behavior"}],kind:"ScalarField",name:"stringGate",storageKey:'stringGate(gateName:"poe_web_chat_new_scroll_behavior")'},{alias:"poeHideLeftSideMessageHeaderIfSameSender",args:[{kind:"Literal",name:"gateName",value:"poe_hide_left_side_message_header_if_same_sender"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_hide_left_side_message_header_if_same_sender")'},{kind:"FragmentSpread",name:"ChatMessage_viewer"}],type:"Viewer"};t.hash="57dd84fa6dc05351d755a217cf2a1dc0",a.default=t},68250:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessagesView_EmptyChat_bot",selections:[{kind:"ScalarField",name:"botId"},{kind:"FragmentSpread",name:"BotInfoCard_bot"},{kind:"ScalarField",name:"isCanvasOnlyBot"}],type:"Bot"};t.hash="d659b2d8188feca616ffc2d3ed4f3d2e",a.default=t},61495:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessagesView_EmptyChat_chat",selections:[{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"shouldBotAutoRespond"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="9dde30acf59dd58131c5371933f6fce8",a.default=t},64834:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatMessagesView_EmptyChat_chatEdges",selections:[{kind:"FragmentSpread",name:"ContinueLastChat_chatEdges"}],type:"ChatEdge"};t.hash="fdcfaad6aa41702d7f0a4d7886c093aa",a.default=t},33265:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessagesView_EmptyChat_viewer",selections:[{kind:"FragmentSpread",name:"BotInfoCard_viewer"},{kind:"FragmentSpread",name:"ChatInviteSection_viewer"},{alias:"shouldHideBotInfoCardWithAutoReplyOff",args:[{kind:"Literal",name:"gateName",value:"poe_hide_bot_info_card_with_auto_reply_off"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_hide_bot_info_card_with_auto_reply_off")'}],type:"Viewer"};t.hash="35ea80eb4826f4711396a1fb035be278",a.default=t},91596:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessagesView_chat",selections:[{kind:"ScalarField",name:"chatId"},{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:[{kind:"ScalarField",name:"messageId"}]},{kind:"ScalarField",name:"shouldBotAutoRespond"},{kind:"ScalarField",name:"creationTime"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{kind:"FragmentSpread",name:"inputHelpers_useIsBotResponding_message"}]},{kind:"FragmentSpread",name:"IdAnnotation_node"},{kind:"FragmentSpread",name:"ChatMessagesView_ChatMessagesGroupedByDate_chat"},{kind:"FragmentSpread",name:"ChatMessagesView_EmptyChat_chat"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="10421b3b14a9b98f9faa57557993cac0",a.default=t},68207:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatMessagesView_chatEdges",selections:[{kind:"FragmentSpread",name:"ContinueLastChat_chatEdges"},{kind:"FragmentSpread",name:"ChatMessagesView_EmptyChat_chatEdges"}],type:"ChatEdge"};t.hash="43c25dbe02985f7bf7fbf761d37c6e9f",a.default=t},15054:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessagesView_defaultBot",selections:[{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"isCanvasOnlyBot"},{kind:"FragmentSpread",name:"ChatMessagesView_EmptyChat_bot"},{kind:"FragmentSpread",name:"ChatMessagesView_ChatMessagesGroupedByDate_defaultBot"},{kind:"FragmentSpread",name:"BotInfoCard_bot"}],type:"Bot"};t.hash="422ace223e1acf903b7fb61a5c146325",a.default=t},1755:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatMessagesView_edges",selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isBotMessage",selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:t=[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isCommandMessage",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatAnnouncement",selections:[{kind:"ScalarField",name:"isChatAnnouncement"}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"ChatMessagesView_useMessageTuples_messages"}]}],type:"MessageEdge"};i.hash="95839f84e5fcb4f03f434c8b05a69450",a.default=i},79964:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessagesView_root",selections:[{kind:"FragmentSpread",name:"ChatMessagesView_ChatMessagesGroupedByDate_root"}],type:"QueryRoot"};t.hash="1bbd1891b2ce4863f4dc1c398cf41cc3",a.default=t},78959:function(e,a,n){"use strict";var t,i,s,r;n.r(a);let l={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatMessagesView_useMessageTuples_messages",selections:[{kind:"ScalarField",name:"id"},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[{kind:"ScalarField",name:"uid"}]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"}]},{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"creationTime"},{kind:"ScalarField",name:"text"},{kind:"ScalarField",name:"state"},{kind:"ScalarField",name:"clientNonce"},{kind:"FragmentSpread",name:"ChatMessage_message"},{kind:"FragmentSpread",name:"ChatMessage_pairedUserMessage"},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isBotMessage",selections:[i={kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:t=[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},s={kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:t,argumentDefinitions:[]},r={kind:"InlineDataFragmentSpread",name:"messageHelpers_isCommandMessage",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatAnnouncement",selections:[{kind:"ScalarField",name:"isChatAnnouncement"}],argumentDefinitions:[]}],argumentDefinitions:[]},i,s,r,{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Message"};l.hash="5f0ac4eb8a5f386cb440af33c4ce3e72",a.default=l},47579:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatMessagesView_viewer",selections:[{kind:"ScalarField",name:"uid"},{kind:"FragmentSpread",name:"ChatMessagesView_EmptyChat_viewer"},{kind:"FragmentSpread",name:"ChatMessagesView_ChatMessagesGroupedByDate_viewer"},{kind:"FragmentSpread",name:"BotInfoCard_viewer"},{kind:"FragmentSpread",name:"ChatInviteSection_viewer"},{alias:"enableEasierUndoContextClear",args:[{kind:"Literal",name:"gateName",value:"poe_enable_easier_undo_context_clear"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_easier_undo_context_clear")'},{alias:"shouldHideBotInfoCardWithAutoReplyOff",args:[{kind:"Literal",name:"gateName",value:"poe_hide_bot_info_card_with_auto_reply_off"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_hide_bot_info_card_with_auto_reply_off")'},{alias:"poeWebChatNewScrollBehavior",args:[{kind:"Literal",name:"gateName",value:"poe_web_chat_new_scroll_behavior"}],kind:"ScalarField",name:"stringGate",storageKey:'stringGate(gateName:"poe_web_chat_new_scroll_behavior")'},{alias:"lastAtMentionEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_add_last_at_mention_to_dropdown"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_add_last_at_mention_to_dropdown")'},{alias:"badgingEnabledProportion",args:[{kind:"Literal",name:"gateName",value:"poe_badging_enabled_proportion"}],kind:"ScalarField",name:"floatGate",storageKey:'floatGate(gateName:"poe_badging_enabled_proportion")'}],type:"Viewer"};t.hash="b7e846931af1f3e2585d7f5406278b9e",a.default=t},37678:function(e,a,n){"use strict";var t,i;n.r(a);let s={argumentDefinitions:[],kind:"Fragment",name:"ChatPageColumn_chat",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"isDeleted"},t={kind:"ScalarField",name:"title"},{kind:"FragmentSpread",name:"useChatTitle_chat"},{kind:"FragmentSpread",name:"MaybeWithCanvas_chat"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"botCategory"},i={kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"FragmentSpread",name:"ChatPageNavbar_bot"},{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}]},{concreteType:"Chat",kind:"LinkedField",name:"scriptTestSourceChat",plural:!1,selections:[{concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[i]},t,{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"chatId"},{kind:"FragmentSpread",name:"useShouldShowPublishModal_chat"}]},{kind:"FragmentSpread",name:"ChatPageMain_chat"},{kind:"FragmentSpread",name:"ChatHeader_chat"},{kind:"FragmentSpread",name:"ChatPageNavbar_chat"},{kind:"FragmentSpread",name:"useInitialCanvasSidebarState_chat"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};s.hash="5f63ac3e5165542dd89e52737f74bf69",a.default=s},96400:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageColumn_root",selections:[{kind:"FragmentSpread",name:"ChatPageMain_root"}],type:"QueryRoot"};t.hash="5919de275b3fc4c6487373b01e541918",a.default=t},31120:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageColumn_viewer",selections:[{kind:"FragmentSpread",name:"MaybeWithCanvas_viewer"},{kind:"FragmentSpread",name:"ChatPageMain_viewer"},{kind:"FragmentSpread",name:"ChatPageNavbar_viewer"},{kind:"FragmentSpread",name:"MainNavbarLeftItem_viewer"},{kind:"FragmentSpread",name:"ChatHeader_viewer"},{alias:"enableScriptBotCreation",args:[{kind:"Literal",name:"gateName",value:"poe_web_script_bot_creation"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_script_bot_creation")'}],type:"Viewer"};t.hash="2743381b201b57311313b8476f84802c",a.default=t},12370:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageConversationStarters_ChatPageConversationStarter_bot",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_bot",selections:[{kind:"ScalarField",name:"id"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_useMaybeBlockOnPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"paywallContext_openPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"logHelpers_getBotLogData_bot",selections:[{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"displayName"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"PaywallOpener_bot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Bot"};t.hash="bf1f7b55f46c549cd562884a3fd72a92",a.default=t},76130:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatPageConversationStarters_ChatPageConversationStarter_chat",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[t={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,{kind:"ScalarField",name:"handle"}]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:[t],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[t,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"hasMarkdownRendering"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]}],type:"Chat"};i.hash="fcd00f26d0e57bc5a1ce0423cb2bd1cd",a.default=i},6477:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageConversationStarters_ChatPageConversationStarter_viewer",selections:[{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_getShouldShowPaywall_viewer",selections:[{kind:"ScalarField",name:"isEligibleForWebSubscriptions"},{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{kind:"ScalarField",name:"isActive"}]}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_viewer",selections:[{alias:"shouldUseFinishUploadEndpoint",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_finish_upload_endpoint"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_finish_upload_endpoint")'},{alias:"shouldUsePresignedUrl",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_presigned_url"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_presigned_url")'},{alias:"useMessageSendingIcon",args:[{kind:"Literal",name:"gateName",value:"poe_use_message_sending_icon"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_message_sending_icon")'}],argumentDefinitions:[]}],type:"Viewer"};t.hash="14e0465450250c66383591692de3b3fd",a.default=t},88249:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageConversationStarters_bot",selections:[{kind:"ScalarField",name:"introduction"},{kind:"ScalarField",name:"conversationStarters"},{kind:"FragmentSpread",name:"ChatPageConversationStarters_ChatPageConversationStarter_bot"}],type:"Bot"};t.hash="d17e366033e569e4202b0c5ff038a996",a.default=t},40053:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageConversationStarters_chat",selections:[{kind:"FragmentSpread",name:"ChatPageConversationStarters_ChatPageConversationStarter_chat"}],type:"Chat"};t.hash="b0d8e6564c7109b30837ca1b7239df32",a.default=t},16544:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatPageConversationStarters_edges",selections:[{kind:"ScalarField",name:"id"}],type:"MessageEdge"};t.hash="c34b3032300710004e28635d230670c8",a.default=t},73339:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageConversationStarters_viewer",selections:[{kind:"FragmentSpread",name:"ChatPageConversationStarters_ChatPageConversationStarter_viewer"}],type:"Viewer"};t.hash="b01c2c83b0c335dbf77c0cd7afbf6746",a.default=t},24294:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageDeleteFooter_chat",selections:[{kind:"ScalarField",name:"chatCode"}],type:"Chat"};t.hash="9dac4d26889366270faf783f0c2fac4f",a.default=t},51023:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMainFooter_chat",selections:[{kind:"FragmentSpread",name:"ChatMessageInputFooter_chat"},{kind:"FragmentSpread",name:"ChatPageShareFooter_chat"},{kind:"FragmentSpread",name:"ChatPageDeleteFooter_chat"},{kind:"FragmentSpread",name:"ChatPageConversationStarters_chat"},{kind:"FragmentSpread",name:"ChatFooterHoveringButtonSection_chat"}],type:"Chat"};t.hash="1507e9a299d675be8ce011f3966209fc",a.default=t},56308:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMainFooter_defaultBot",selections:[{kind:"FragmentSpread",name:"ChatMessageInputFooter_defaultBot"},{kind:"FragmentSpread",name:"ChatPageConversationStarters_bot"}],type:"Bot"};t.hash="9d501d08cb3994fd983a6a7992678ab1",a.default=t},48645:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatPageMainFooter_edges",selections:[{kind:"FragmentSpread",name:"ChatMessageInputFooter_messageEdges"},{kind:"FragmentSpread",name:"ChatPageConversationStarters_edges"}],type:"MessageEdge"};t.hash="fd18a4e98f211c305df8b1d88d2a15e5",a.default=t},25066:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMainFooter_lastMessage",selections:[{kind:"FragmentSpread",name:"ChatMessageInputFooter_lastMessage"}],type:"Message"};t.hash="82b01397690f2776426a6f2fdc399683",a.default=t},99205:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMainFooter_targetedBot",selections:[{kind:"ScalarField",name:"supportsRemix"},{kind:"FragmentSpread",name:"ChatMessageInputFooter_targetedBot"}],type:"Bot"};t.hash="9c50fdc9759884bc5fd2f829451b488a",a.default=t},56530:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMainFooter_viewer",selections:[{kind:"FragmentSpread",name:"ChatMessageInputFooter_viewer"},{kind:"FragmentSpread",name:"ChatPageConversationStarters_viewer"}],type:"Viewer"};t.hash="3e052befee765cd09216f458cd5e0c8e",a.default=t},63212:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g,p,h,k,f,_,b,F,v,C,S,y,M,w,I,x,T,B,L,D,j,P,A,N,R,O,E;n.r(a);let U=(t=[{defaultValue:null,kind:"LocalArgument",name:"id"}],i=[{kind:"Variable",name:"id",variableName:"id"}],r={kind:"ScalarField",name:"id"},l={kind:"ScalarField",name:"handle"},o={kind:"ScalarField",name:"allowsImageAttachments"},d={kind:"ScalarField",name:"deletionState"},c={kind:"ScalarField",name:"botId"},m={kind:"ScalarField",name:"nickname"},u={kind:"ScalarField",name:"displayName"},g={kind:"ScalarField",name:"author"},p={kind:"ScalarField",name:"state"},h={kind:"ScalarField",name:"textLengthOnCancellation"},k={kind:"ScalarField",name:"isOptimistic"},f={kind:"ScalarField",name:"timeoutLevel"},_=[{kind:"Literal",name:"last",value:12}],b={kind:"ScalarField",name:"uid"},F={kind:"ScalarField",name:"fullName"},v={kind:"ScalarField",name:"viewerIsFollowing"},C={kind:"ScalarField",name:"isDeleted"},S={alias:"smallProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},y={kind:"TypeDiscriminator",abstractKey:"__isNode"},M={kind:"ScalarField",name:"limitedAccessType"},w={kind:"ScalarField",name:"isPrivateBot"},I={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},x={kind:"ScalarField",name:"translatedBotTags"},B={kind:"LinkedField",name:"picture",plural:!1,selections:[s={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[T={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},L={kind:"ScalarField",name:"messageId"},D={kind:"ScalarField",name:"text"},j=[b,r],P={kind:"ScalarField",name:"name"},A={kind:"ScalarField",name:"mimeType"},N={kind:"ClientExtension",selections:[k]},{fragment:{argumentDefinitions:t,kind:"Fragment",name:"ChatPageMainRefetchQuery",selections:[{args:i,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"FragmentSpread",name:"ChatPageMain_refetch_chat"}],type:"Chat"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ChatPageMainRefetchQuery",selections:[{args:i,kind:"LinkedField",name:"node",plural:!1,selections:[s,r,{kind:"InlineFragment",selections:[{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[r,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"supportsRemix"},l,r,{kind:"ScalarField",name:"isServerBot"},o,{kind:"ScalarField",name:"supportsFileUpload"},{kind:"ScalarField",name:"customUIDefinition"},d,c,m,u]},g,p,h,{kind:"ClientExtension",selections:[k,f]}]},{args:_,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[g,{kind:"ScalarField",name:"isChatAnnouncement"},r,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[b,r,F,l,v,C,S,y]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[c,r,{kind:"ScalarField",name:"messageTimeoutSecs"},o,l,{kind:"ScalarField",name:"isApiBot"},m,M,w,I,x,d,u,B,y]},L,{kind:"ScalarField",name:"creationTime"},D,p,{kind:"ScalarField",name:"clientNonce"},{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:j},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[r,{kind:"ScalarField",name:"attachmentId"},P,T,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[A,r,{kind:"ScalarField",name:"size"}]},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},T,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"InlineFragment",selections:[N],type:"MessageAttachment"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"},N]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[s,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[L,D,C,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[M,w,I,x,d,u,B,l,r,y]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[r,b,l,F,v,C,S,y]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[P,T,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[A,r]}],type:"Attachment",abstractKey:"__isAttachment"},r]}],type:"Message"},{kind:"InlineFragment",selections:[r],type:"Node",abstractKey:"__isNode"}]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[p,r,{kind:"ScalarField",name:"jobId"}]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[R={kind:"ScalarField",name:"reaction"},{kind:"ScalarField",name:"count"},r]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:j},{kind:"ScalarField",name:"hasCitations"},h,{args:O=[{kind:"Literal",name:"first",value:5}],concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[R,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[b,F,{kind:"ScalarField",name:"viewerIsUser"},{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},r]},r,s]},E={kind:"ScalarField",name:"cursor"},r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}],storageKey:"reactionsConnection(first:5)"},{args:O,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},s,{kind:"ClientExtension",selections:[k,f,{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"clientMessageStateText"}]},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[C],type:"Message"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},y]},r,E]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},r],storageKey:"messagesConnection(last:12)"},{args:_,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"}],type:"Chat"}]}]},params:{id:"93c302ab38df3750fa26b3dab69a96420b131ba0e9010b9368d9444255e88afe",metadata:{},name:"ChatPageMainRefetchQuery",operationKind:"query",text:null}});U.hash="7d247a8c4d99e8a70d16594ea43d9884",a.default=U},68311:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMain_bot",selections:[{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"model"},{kind:"ScalarField",name:"uploadFileSizeLimit"},{kind:"ScalarField",name:"allowsImageAttachments"},{kind:"FragmentSpread",name:"PaywallContextWrapper_bot"},{kind:"FragmentSpread",name:"ChatPageMainFooter_defaultBot"},{kind:"FragmentSpread",name:"ChatMessagesView_defaultBot"},{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}],type:"Bot"};t.hash="074ad2c9a477e25ec66e004d549b1f52",a.default=t},31748:function(e,a,n){"use strict";var t,i,s;n.r(a);let r={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMain_chat",selections:[t={kind:"ScalarField",name:"id"},i={kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageMain_bot"}]},{kind:"FragmentSpread",name:"ChatPageShareFooter_chat"},{kind:"FragmentSpread",name:"ChatPageDeleteFooter_chat"},{kind:"FragmentSpread",name:"ChatMessagesView_chat"},{kind:"FragmentSpread",name:"ChatPageMainFooter_chat"},{kind:"FragmentSpread",name:"ChatPageMain_refetch_chat"},{kind:"FragmentSpread",name:"ChatModalMain_chat"},{kind:"FragmentSpread",name:"subscriptions_useJobStartedSubscription_chat"},{kind:"FragmentSpread",name:"subscriptions_useJobUpdatedSubscription_chat"},{kind:"InlineDataFragmentSpread",name:"checkLastMessageAndRefetch_chat",selections:[i,t,{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[t]},s={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},s],type:"Chat"};r.hash="d18ebfc4edce9ec84fc45918c1029999",a.default=r},14002:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatPageMain_chatEdges",selections:[{kind:"FragmentSpread",name:"ChatMessagesView_chatEdges"}],type:"ChatEdge"};t.hash="3c24d765f17020c6b07325c8834f2061",a.default=t},80082:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMain_lastMessage",selections:[{kind:"ScalarField",name:"id"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}]},{kind:"FragmentSpread",name:"ChatPageMainFooter_lastMessage"}],type:"Message"};t.hash="aea071c0a2dd4af778eb5623d99f27d8",a.default=t},14009:function(e,a,n){"use strict";var t,i;n.r(a);let s=(i=[{kind:"ScalarField",name:"author"}],{argumentDefinitions:[{defaultValue:12,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"backward",path:t=["messagesConnection"]}],refetch:{connection:{forward:null,backward:{count:"count",cursor:"cursor"},path:t},fragmentPathInResult:["node"],operation:n(25295),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ChatPageMain_pagination_chat",selections:[{kind:"ScalarField",name:"id"},{alias:"messagesConnection",concreteType:"MessagesConnection",kind:"LinkedField",name:"__ChatMessagesView_chat_messagesConnection_connection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isBotMessage",selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:i,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:i,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isCommandMessage",selections:i,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatAnnouncement",selections:[{kind:"ScalarField",name:"isChatAnnouncement"}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"ScalarField",name:"__typename"}]},{kind:"FragmentSpread",name:"ChatPageMain_useFilterDuplicateMessageEdges_edges"},{kind:"FragmentSpread",name:"ChatMessagesView_edges"},{kind:"FragmentSpread",name:"ChatPageMainFooter_edges"},{kind:"ScalarField",name:"cursor"}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]}]}],type:"Chat"});s.hash="cba346cdc03b16d2f805b4efe51a06b9",a.default=s},70447:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMain_refetch_chat",selections:[{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageMain_lastMessage"}]},{kind:"FragmentSpread",name:"ChatPageMain_pagination_chat"}],type:"Chat"};t.hash="6d957172334a182e8216d9be4fd3a50d",a.default=t},33441:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMain_root",selections:[{kind:"FragmentSpread",name:"ChatMessagesView_root"}],type:"QueryRoot"};t.hash="8d3847abf4073902ed2634ec623ec09b",a.default=t},70107:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMain_targetedBot",selections:[{kind:"FragmentSpread",name:"ChatPageMainFooter_targetedBot"},{kind:"ScalarField",name:"id"}],type:"Bot"};t.hash="9bde31ab42610facbbda41e8923bae0e",a.default=t},42297:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatPageMain_useFilterDuplicateMessageEdges_edges",selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"id"}]}],type:"MessageEdge"};t.hash="73d2aa9dd570d599bb3288c7bc9592ab",a.default=t},52178:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageMain_viewer",selections:[{kind:"FragmentSpread",name:"ChatMessagesView_viewer"},{kind:"FragmentSpread",name:"PaywallContextWrapper_viewer"},{kind:"FragmentSpread",name:"ChatPageMainFooter_viewer"},{kind:"FragmentSpread",name:"ChatModalMain_viewer"}],type:"Viewer"};t.hash="c86a7a701c3f2c2148f765348e18ba4d",a.default=t},84100:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageNavActionBar_bot",selections:[{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"isPrivateBot"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"FragmentSpread",name:"BotFollowStateButton_bot"},{kind:"FragmentSpread",name:"BotShareButton_bot"},{kind:"FragmentSpread",name:"botHelpers_useDeletion_bot"}],type:"Bot"};t.hash="3bcda01ea07293f22a264cf487dd9ddc",a.default=t},75128:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageNavbar_bot",selections:[{kind:"FragmentSpread",name:"ChatPageNavActionBar_bot"},{kind:"FragmentSpread",name:"NewChatNavButton_bot"},{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"botId"}],type:"Bot"};t.hash="f25a11fb6b90d0d5b9f48c8cbac916ec",a.default=t},4813:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[{defaultValue:12,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"backward",path:["messagesConnection"]}]},name:"ChatPageNavbar_chat",selections:[{kind:"ScalarField",name:"chatId"},{alias:"messagesConnection",concreteType:"MessagesConnection",kind:"LinkedField",name:"__ChatMessagesView_chat_messagesConnection_connection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"__typename"}]},{kind:"ScalarField",name:"cursor"}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]}]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="06a262c4a12bf276a0482a6cee388775",a.default=t},94079:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageNavbar_viewer",selections:[{kind:"FragmentSpread",name:"ToggleSidebarButton_viewer"},{kind:"FragmentSpread",name:"MainNavbarLeftItem_viewer"},{kind:"FragmentSpread",name:"ShareBotOrChatModal_viewer"}],type:"Viewer"};t.hash="e8748677f056775ed67501d4edfc8f7b",a.default=t},92013:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPageShareFooter_chat",selections:[{kind:"ScalarField",name:"chatId"}],type:"Chat"};t.hash="ce18bfa28ddeccd7682f5f87583169d1",a.default=t},24093:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPrivacyIndicatorIcon_chat",selections:[{kind:"ScalarField",name:"membersIncludeUntrustedBot"}],type:"Chat"};t.hash="8b888dce674c81f989f2353364834b74",a.default=t},35307:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatPrivacyIndicator_chat",selections:[{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"FragmentSpread",name:"ChatPrivacyIndicatorIcon_chat"}],type:"Chat"};t.hash="6bb85817556ef339b70c6f37f9843140",a.default=t},44883:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatReferencedMessage_message",selections:[{kind:"InlineFragment",selections:[t={kind:"ScalarField",name:"__typename"},{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"text"},{kind:"ScalarField",name:"isDeleted"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"FragmentSpread",name:"ReferencedMessage_bot"}]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[{kind:"FragmentSpread",name:"ReferencedMessage_poeUser"}]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"FragmentSpread",name:"ReferencedMessage_attachment"}]}],type:"Message"},{kind:"InlineFragment",selections:[t],type:"DeletedMessage"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"};i.hash="afdd631db59ccb300cc23995d4b3d04d",a.default=i},78517:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatStopMessageButton_chat",selections:[{kind:"InlineDataFragmentSpread",name:"cancelViewerActiveJobs_chat",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"useViewerCanCancelJobs_chat"}],type:"Chat"};t.hash="677ca1d62436dc230fdb6d7f77c2bbd1",a.default=t},63377:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"CitationFooter_message",selections:[{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"hasCitations"},{kind:"ScalarField",name:"state"},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isBotMessage",selections:[{kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:t=[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatBreak",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isCommandMessage",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isChatAnnouncement",selections:[{kind:"ScalarField",name:"isChatAnnouncement"}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Message"};i.hash="557924f397cb252988f7f3047e8a8525",a.default=i},8904:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c;n.r(a);let m=(t=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],r={kind:"ScalarField",name:"chatId"},l={kind:"ScalarField",name:"handle"},o=[s={kind:"ScalarField",name:"id"}],{fragment:{argumentDefinitions:t,kind:"Fragment",name:"CodeblockOverflowButtonOptimisticChatQuery",selections:[{kind:"ClientExtension",selections:[{args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[s,r,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[s,l]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:o,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[s,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[d={kind:"ScalarField",name:"hasMarkdownRendering"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"ClientExtension",selections:[c={kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_bot",selections:o,argumentDefinitions:[]}]}]}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"CodeblockOverflowButtonOptimisticChatQuery",selections:[{kind:"ClientExtension",selections:[{args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[s,r,c,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[s,l,d]}]}]}]},params:{cacheID:"6eb7bafe448ea2131adf2e2a0b8b871d",id:null,metadata:{},name:"CodeblockOverflowButtonOptimisticChatQuery",operationKind:"query",text:null}});m.hash="b617c971bd64760cf3b635d867f55668",a.default=m},4173:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g;n.r(a);let p=(t=[{defaultValue:null,kind:"LocalArgument",name:"chatId"},{defaultValue:null,kind:"LocalArgument",name:"isOptimistic"}],i=[{kind:"Variable",name:"chatId",variableName:"chatId"}],r={kind:"ScalarField",name:"chatId"},l={kind:"ScalarField",name:"handle"},o=[s={kind:"ScalarField",name:"id"}],{fragment:{argumentDefinitions:t,kind:"Fragment",name:"CodeblockOverflowButtonQuery",selections:[{condition:"isOptimistic",kind:"Condition",passingValue:!1,selections:[{args:i,concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[s,r,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[s,l]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:o,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[s,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[d={kind:"ScalarField",name:"hasMarkdownRendering"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},c={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_bot",selections:o,argumentDefinitions:[]}]}]}]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_viewer",selections:[m={alias:"shouldUseFinishUploadEndpoint",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_finish_upload_endpoint"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_finish_upload_endpoint")'},u={alias:"shouldUsePresignedUrl",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_presigned_url"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_presigned_url")'},g={alias:"useMessageSendingIcon",args:[{kind:"Literal",name:"gateName",value:"poe_use_message_sending_icon"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_message_sending_icon")'}],argumentDefinitions:[]}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"CodeblockOverflowButtonQuery",selections:[{condition:"isOptimistic",kind:"Condition",passingValue:!1,selections:[{args:i,concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[s,r,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[s,l,d]},c]}]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[m,u,g,s]}]},params:{id:"9255c86ad0529b0d9359b00085f696d168aa4d14f6faa246d65ff6a9e0e2cb81",metadata:{},name:"CodeblockOverflowButtonQuery",operationKind:"query",text:null}});p.hash="f3a5b9e99b103306a65a49851ac2e820",a.default=p},49333:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"CommandMessageFollowupAction_chat",selections:[{kind:"InlineDataFragmentSpread",name:"sendCommandMessage_chat",selections:[t={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"},{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[t,{kind:"ScalarField",name:"jobId"}]},{kind:"InlineDataFragmentSpread",name:"sendCommandMessage_onCommandMessageSend_chat",selections:[t],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Chat"};i.hash="8e2174962e476e26f13d18afc74cc08f",a.default=i},29043:function(e,a,n){"use strict";var t,i,s;n.r(a);let r={argumentDefinitions:[],kind:"Fragment",name:"CommandMessageFollowupAction_followupAction",selections:[{kind:"ScalarField",name:"__typename"},{alias:"titleText",kind:"ScalarField",name:"title"},{alias:"bodyText",kind:"ScalarField",name:"body"},{kind:"LinkedField",name:"primaryImageSources",plural:!0,selections:[{kind:"FragmentSpread",name:"FollowupActionImageSources_imageSources"}]},{kind:"ScalarField",name:"commandType"},{concreteType:"MessageFollowUpTargetBotInfo",kind:"LinkedField",name:"targetBotInfo",plural:!1,selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[t={kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"handle"},{kind:"InlineDataFragmentSpread",name:"sendCommandMessage_bot",selections:[{kind:"ScalarField",name:"id"},i={kind:"ScalarField",name:"nickname"},s={kind:"ScalarField",name:"displayName"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_useMaybeBlockOnPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"paywallContext_openPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"logHelpers_getBotLogData_bot",selections:[t,i,s],argumentDefinitions:[]},{kind:"FragmentSpread",name:"PaywallOpener_bot"}],argumentDefinitions:[]}],argumentDefinitions:[]}]}]}],type:"CommandMessageFollowupAction"};r.hash="79fd8f6d96c9c845f8a8c9f2475b4143",a.default=r},70196:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CommandMessageFollowupAction_message",selections:[{kind:"InlineDataFragmentSpread",name:"sendCommandMessage_message",selections:[{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[{kind:"LinkedField",name:"trigger",plural:!1,selections:[{kind:"InlineFragment",selections:[{concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[{kind:"ScalarField",name:"messageId"}]}],type:"MessageSendJobTrigger"}]}]}],argumentDefinitions:[]}],type:"Message"};t.hash="d6b732914c0173a700dcf591beda77da",a.default=t},51705:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"CommandMessageFollowupAction_viewer",selections:[{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_getShouldShowPaywall_viewer",selections:[{kind:"ScalarField",name:"isEligibleForWebSubscriptions"},{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{kind:"ScalarField",name:"isActive"}]}],argumentDefinitions:[]}],type:"Viewer"};t.hash="52aa7adade9b8b2e4c1b542930aed830",a.default=t},95352:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ContinueLastChat_chatEdges",selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"hasMultipleUsers"}]}],type:"ChatEdge"};t.hash="475ff3e8cf3f65734003584e23738a75",a.default=t},90688:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"EditBotButton_canvasTab",selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"isCanvasOnlyBot"}]}],type:"BotCanvasTab"};t.hash="a9494f2e534274c48e2a07a81f57cb3e",a.default=t},34366:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"EditButtonInHeader_canvasTab",selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"isCanvasOnlyBot"}]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"BotCanvasTab"};t.hash="9ee6017347208529016c2f3bde8c8d05",a.default=t},80560:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c;n.r(a);let m={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"bot"},i={defaultValue:null,kind:"LocalArgument",name:"chatId"},s={defaultValue:null,kind:"LocalArgument",name:"query"},r={defaultValue:null,kind:"LocalArgument",name:"source"}],kind:"Fragment",name:"FixWithScriptCreatorMutation",selections:[{args:l=[{kind:"Variable",name:"bot",variableName:"bot"},{kind:"Variable",name:"chatId",variableName:"chatId"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"source",variableName:"source"}],concreteType:"MessageEdgeCreate",kind:"LinkedField",name:"messageEdgeCreate",plural:!1,selections:[o={kind:"ScalarField",name:"status"},{concreteType:"MessageEdge",kind:"LinkedField",name:"message",plural:!1,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[d={kind:"ScalarField",name:"messageId"}]}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:[i,t,s,r],kind:"Operation",name:"FixWithScriptCreatorMutation",selections:[{args:l,concreteType:"MessageEdgeCreate",kind:"LinkedField",name:"messageEdgeCreate",plural:!1,selections:[o,{concreteType:"MessageEdge",kind:"LinkedField",name:"message",plural:!1,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[d,c={kind:"ScalarField",name:"id"}]},c]}]}]},params:{id:"b9081351fd0a2ed1abd58167705a493d487d5853b64101e961c22638cf81ede4",metadata:{},name:"FixWithScriptCreatorMutation",operationKind:"mutation",text:null}};m.hash="c6e406a0cf783f449b67343e56c19e59",a.default=m},58550:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"FixWithScriptCreator_chat",selections:[t={kind:"ScalarField",name:"chatId"},{concreteType:"Chat",kind:"LinkedField",name:"scriptTestSourceChat",plural:!1,selections:[t,{kind:"ScalarField",name:"chatCode"}]}],type:"Chat"};i.hash="8792271a86a14eb58a0e0e8ded56b3ff",a.default=i},2346:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"FixWithScriptCreator_shouldShow_chat",selections:[{concreteType:"Chat",kind:"LinkedField",name:"scriptTestSourceChat",plural:!1,selections:[{kind:"ScalarField",name:"__typename"}]}],type:"Chat"};t.hash="fa362cf218503731e29ff9f445c30b7b",a.default=t},65021:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"FollowupActionImageSources_imageSources",selections:[{kind:"ScalarField",name:"__typename"},{kind:"InlineFragment",selections:[t={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"name"},{kind:"ScalarField",name:"url"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"},{kind:"ScalarField",name:"thumbnailUrl"}]}],type:"MessageAttachment"},{kind:"InlineFragment",selections:[t,{kind:"ScalarField",name:"handle"},{kind:"FragmentSpread",name:"BotImage_bot"}],type:"Bot"}],type:"MessageFollowupActionImageSource",abstractKey:"__isMessageFollowupActionImageSource"};i.hash="94bf6942432a49efac9e0a47ac903127",a.default=i},67575:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"InCanvasToggleMenuButton_viewer",selections:[{kind:"FragmentSpread",name:"ToggleSidebarButton_viewer"}],type:"Viewer"};t.hash="5da21b07736b30939204c908c96c6e91",a.default=t},12346:function(e,a,n){"use strict";var t,i,s;n.r(a);let r={argumentDefinitions:[],kind:"Fragment",name:"InChatIFrame_bot",selections:[t={kind:"ScalarField",name:"id"},i={kind:"ScalarField",name:"botId"},{kind:"InlineDataFragmentSpread",name:"useSendMessageFromPreview_bot",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_bot",selections:[t],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"useSendMessageFromPreviewOptimisticChat_bot",selections:[{kind:"InlineDataFragmentSpread",name:"optimisticChat_createOptimisticChat_bot",selections:[t,i,{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"introduction"},s={kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[{kind:"ScalarField",name:"content"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"language"}]},{kind:"InlineDataFragmentSpread",name:"optimisticMessage_createOptimisticBotMessage_bot",selections:[s,{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_bot",selections:[t,{kind:"FragmentSpread",name:"ChatMessage_bot"},{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"},{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Bot"};r.hash="a74e43ee468aa9691b20a124e4413d5c",a.default=r},90871:function(e,a,n){"use strict";var t,i,s;n.r(a);let r={argumentDefinitions:[],kind:"Fragment",name:"InChatIFrame_chat",selections:[t={kind:"ScalarField",name:"id"},i={kind:"ScalarField",name:"chatId"},{kind:"InlineDataFragmentSpread",name:"useSendMessageFromPreview_chat",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[t,i,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,{kind:"ScalarField",name:"handle"}]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:[t],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[t,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"hasMarkdownRendering"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},s={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},s],argumentDefinitions:[]},s],type:"Chat"};r.hash="bf84d45f3ca36a5a98eba680073edc5f",a.default=r},68353:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"InChatIFrame_message",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"state"},{kind:"ScalarField",name:"messageId"},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[{kind:"ScalarField",name:"jobId"}]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Message"};t.hash="08b8cd215575d7e15398b9aaedb95b09",a.default=t},72238:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"InChatIFrame_viewer",selections:[{alias:"codeEditorCanvasBotId",args:[{kind:"Literal",name:"gateName",value:"poe_web_code_editor_canvas_bot_id"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_web_code_editor_canvas_bot_id")'},{alias:"enableCanvasAppDebugMode",args:[{kind:"Literal",name:"gateName",value:"poe_canvas_enable_debug_mode"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_canvas_enable_debug_mode")'},{concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[{kind:"ScalarField",name:"id"}]},{kind:"InlineDataFragmentSpread",name:"useSendMessageFromPreview_viewer",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_viewer",selections:[{alias:"shouldUseFinishUploadEndpoint",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_finish_upload_endpoint"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_finish_upload_endpoint")'},{alias:"shouldUsePresignedUrl",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_presigned_url"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_presigned_url")'},{alias:"useMessageSendingIcon",args:[{kind:"Literal",name:"gateName",value:"poe_use_message_sending_icon"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_message_sending_icon")'}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"usePreviewIframeUrl_viewer"},{kind:"FragmentSpread",name:"useOnMiniAppRequest_viewer"},{kind:"FragmentSpread",name:"BarePreviewFrame_viewer"},{kind:"FragmentSpread",name:"PreviewFrame_viewer"}],type:"Viewer"};t.hash="e772e0ca6307768d8fcc3d1beb1a2bb7",a.default=t},71472:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"InputFooterReferencedMessageHeader_message",selections:[{kind:"ScalarField",name:"text"},{kind:"ScalarField",name:"messageId"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"FragmentSpread",name:"ReferencedMessage_bot"}]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[{kind:"FragmentSpread",name:"ReferencedMessage_poeUser"}]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"FragmentSpread",name:"ReferencedMessage_attachment"}]}],type:"Message"};t.hash="39dbd07ec0a671473e199159521b661e",a.default=t},90254:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"LeftSideMessageHeader_bot",selections:[{kind:"FragmentSpread",name:"BotMessageHeader_bot"}],type:"Bot"};t.hash="591c2619c010286b9c5f69a2a2f506ee",a.default=t},93142:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"LeftSideMessageHeader_poeUser",selections:[{kind:"FragmentSpread",name:"UserMessageHeader_poeUser"}],type:"PoeUser"};t.hash="3d1055df98c860d1ffbd2cf3b69debda",a.default=t},85989:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"MarkdownCodeBlock_PreBlock_chat",selections:[{kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[{kind:"ScalarField",name:"botId"},{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{kind:"ScalarField",name:"viewerIsUser"}]}]},{kind:"FragmentSpread",name:"FixWithScriptCreator_chat"},{kind:"FragmentSpread",name:"FixWithScriptCreator_shouldShow_chat"}],type:"Chat"};t.hash="b586eedb04935694b7abb61af34840f2",a.default=t},12165:function(e,a,n){"use strict";var t,i,s,r,l;n.r(a);let o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"chatId"},{defaultValue:null,kind:"LocalArgument",name:"scriptContent"}],kind:"Fragment",name:"MarkdownCodeBlock_TestCodeblockMutation",selections:[{args:i=[{kind:"Variable",name:"chatId",variableName:"chatId"},{kind:"Variable",name:"scriptContent",variableName:"scriptContent"}],concreteType:"ContinueChatToTestCodeblock",kind:"LinkedField",name:"continueChatToTestCodeblock",plural:!1,selections:[s={kind:"ScalarField",name:"status"},{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[r={kind:"ScalarField",name:"chatCode"},l={kind:"ScalarField",name:"chatId"}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"MarkdownCodeBlock_TestCodeblockMutation",selections:[{args:i,concreteType:"ContinueChatToTestCodeblock",kind:"LinkedField",name:"continueChatToTestCodeblock",plural:!1,selections:[s,{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[r,l,{kind:"ScalarField",name:"id"}]}]}]},params:{id:"eb8df04bd82e205f5b3123e6a36888c8991c326c9240127c7a27273aa0733a74",metadata:{},name:"MarkdownCodeBlock_TestCodeblockMutation",operationKind:"mutation",text:null}};o.hash="e2e9e070b2ff67c43ad176509706dc4c",a.default=o},88113:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"MarkdownCodeBlock_chat",selections:[{kind:"FragmentSpread",name:"useShouldShowPublishModal_chat"},{kind:"FragmentSpread",name:"MarkdownCodeBlock_PreBlock_chat"}],type:"Chat"};t.hash="a93c3c3a34b06562d1db9a7f2e48985d",a.default=t},17878:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"Markdown_chat",selections:[{kind:"FragmentSpread",name:"MarkdownCodeBlock_chat"}],type:"Chat"};t.hash="c4c9cbfa1f7bbc0e1ca858fc8897f300",a.default=t},13309:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"MaybeWithCanvas_chat",selections:[{kind:"FragmentSpread",name:"Canvas_chat"},{kind:"FragmentSpread",name:"SetupCanvasSubscriptions_chat"},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[{kind:"ScalarField",name:"id"}]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="ff125ba3c56e583581e426192f59b761",a.default=t},55892:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"MaybeWithCanvas_viewer",selections:[{kind:"FragmentSpread",name:"CanvasLoadingPlaceholder_viewer"},{kind:"FragmentSpread",name:"CanvasLayout_viewer"},{kind:"FragmentSpread",name:"Canvas_viewer"}],type:"Viewer"};t.hash="99af306c995564f94989a4ada3d0bb06",a.default=t},73884:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"MessageBubble_chat",selections:[{kind:"FragmentSpread",name:"Markdown_chat"}],type:"Chat"};t.hash="60c99e993f5f8b627bc2dd5ba842ba03",a.default=t},51975:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"MessageFollowupActionMain_chat",selections:[{kind:"FragmentSpread",name:"SendMessageFollowupAction_chat"},{kind:"FragmentSpread",name:"CommandMessageFollowupAction_chat"}],type:"Chat"};t.hash="d40f264a66f83a70d64f81b3338225e4",a.default=t},6664:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"MessageFollowupActionMain_followupAction",selections:[{kind:"ScalarField",name:"__typename"},{kind:"InlineFragment",selections:[{kind:"FragmentSpread",name:"SendMessageFollowupAction_followupAction"}],type:"SendMessageFollowupAction"},{kind:"InlineFragment",selections:[{kind:"FragmentSpread",name:"PrefillMessageFollowupAction_followupAction"}],type:"PrefillMessageFollowupAction"},{kind:"InlineFragment",selections:[{kind:"FragmentSpread",name:"CommandMessageFollowupAction_followupAction"}],type:"CommandMessageFollowupAction"}],type:"MessageFollowupActionBase",abstractKey:"__isMessageFollowupActionBase"};t.hash="37d5c848548a8f6d18af1a3be6df04a0",a.default=t},2797:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"MessageFollowupActionMain_message",selections:[{kind:"FragmentSpread",name:"CommandMessageFollowupAction_message"}],type:"Message"};t.hash="2e8f13378c548df1e1a000aacbdbe656",a.default=t},31137:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"MessageFollowupActionMain_viewer",selections:[{kind:"FragmentSpread",name:"SendMessageFollowupAction_viewer"},{kind:"FragmentSpread",name:"CommandMessageFollowupAction_viewer"}],type:"Viewer"};t.hash="ac2fddf078ea5fbb7a7e85aca3fa405e",a.default=t},2395:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"Message_bot",selections:[{kind:"ScalarField",name:"isApiBot"}],type:"Bot"};t.hash="7dfacd681672e42424101fb8d87e8f31",a.default=t},43396:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"Message_chat",selections:[{kind:"FragmentSpread",name:"MessageBubble_chat"}],type:"Chat"};t.hash="c7c8a5067a16439dc3c0c5bb9e0ecb07",a.default=t},52224:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"Message_viewer",selections:[{alias:"markdownCharacterLimit",args:[{kind:"Literal",name:"gateName",value:"poe_web_markdown_character_limit"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_web_markdown_character_limit")'},{alias:"botMarkdownCharacterLimit",args:[{kind:"Literal",name:"gateName",value:"poe_web_bot_markdown_character_limit"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_web_bot_markdown_character_limit")'},{kind:"ScalarField",name:"promptBotImageDomainWhitelist"},{alias:"enableScriptingCodeReference",args:[{kind:"Literal",name:"gateName",value:"poe_enable_scripting_code_blocks"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_scripting_code_blocks")'},{alias:"enableScriptBotCreation",args:[{kind:"Literal",name:"gateName",value:"poe_web_script_bot_creation"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_script_bot_creation")'},{alias:"useMessageSendingIcon",args:[{kind:"Literal",name:"gateName",value:"poe_use_message_sending_icon"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_message_sending_icon")'},{alias:"poeHideLeftSideMessageHeaderIfSameSender",args:[{kind:"Literal",name:"gateName",value:"poe_hide_left_side_message_header_if_same_sender"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_hide_left_side_message_header_if_same_sender")'}],type:"Viewer"};t.hash="f7e9e43450f7c44ebecae04a36eb9f35",a.default=t},25531:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"NewChatNavButton_bot",selections:[{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"botId"}],type:"Bot"};t.hash="3237fef50eb6a96a734167f71ec37127",a.default=t},87717:function(e,a,n){"use strict";var t,i,s,r;n.r(a);let l={argumentDefinitions:[],kind:"Fragment",name:"PrefillMessageFollowupAction_followupAction",selections:[{kind:"ScalarField",name:"__typename"},{alias:"titleText",kind:"ScalarField",name:"title"},{alias:"bodyText",kind:"ScalarField",name:"body"},{kind:"ScalarField",name:"prefillText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"prefillAttachments",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_messageAttachment",selections:[t={kind:"ScalarField",name:"attachmentId"},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_messageAttachment",selections:[{kind:"ScalarField",name:"id"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"FileInfo_attachment"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"useFileUpload_addAttachments",selections:[i={kind:"ScalarField",name:"url"},s={kind:"ScalarField",name:"name"},t,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"}]}],argumentDefinitions:[]},i,s]},{kind:"LinkedField",name:"primaryImageSources",plural:!0,selections:r=[{kind:"FragmentSpread",name:"FollowupActionImageSources_imageSources"}]},{kind:"LinkedField",name:"secondaryImageSources",plural:!0,selections:r}],type:"PrefillMessageFollowupAction"};l.hash="36904085bafbf31161ad023bae1686cc",a.default=l},97453:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"PreviewFrame_viewer",selections:[{kind:"FragmentSpread",name:"usePreviewIframeUrl_viewer"}],type:"Viewer"};t.hash="73cf370f6b05deb93b13a2de6a726310",a.default=t},13243:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"PrivateMessageIcon_bot",selections:[{kind:"ScalarField",name:"isTrustedBot"}],type:"Bot"};t.hash="0178a0e02b7e2e292faf6dbc2bf88d5a",a.default=t},8525:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"PublishAsNewDropdownMenuItem_canvasTab",selections:[{kind:"ScalarField",name:"id"},{kind:"FragmentSpread",name:"useIsCanvasBotTab_canvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="4321e4c9acd31d4d9c137bc3552cb589",a.default=t},50852:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"PublishButtonGroup_canvasTab",selections:[{kind:"ScalarField",name:"id"},{kind:"FragmentSpread",name:"useUpdateCanvasBotConfirmationModal_canvasTab"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageCanvasTab"};t.hash="7d519b650677eb06ebdf648a08e311db",a.default=t},15837:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"PublishButtonGroup_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[{kind:"FragmentSpread",name:"useUpdateCanvasBotConfirmationModal_bot"}]},{kind:"FragmentSpread",name:"useUpdateCanvasBotConfirmationModal_chat"}],type:"Chat"};t.hash="de3074479b2bd98e16123c009d70c862",a.default=t},35939:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"PublishButton_canvasTab",selections:[{kind:"ScalarField",name:"id"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageCanvasTab"};t.hash="d0cf53947ed76cd48af542d25afad585",a.default=t},75177:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c;n.r(a);let m={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"referencedMessageId"}],kind:"Fragment",name:"ReferencedMessageDraftLoaderQuery",selections:[{args:i=[{kind:"Variable",name:"messageId",variableName:"referencedMessageId"}],concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[{kind:"FragmentSpread",name:"InputFooterReferencedMessageContextWrapper_message"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ReferencedMessageDraftLoaderQuery",selections:[{args:i,concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"text"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"limitedAccessType"},{kind:"ScalarField",name:"isPrivateBot"},{kind:"ScalarField",name:"shouldHideLimitedAccessTag"},{kind:"ScalarField",name:"translatedBotTags"},{kind:"ScalarField",name:"deletionState"},{kind:"ScalarField",name:"displayName"},{kind:"LinkedField",name:"picture",plural:!1,selections:[s={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[r={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},l={kind:"ScalarField",name:"handle"},o={kind:"ScalarField",name:"id"},d={kind:"TypeDiscriminator",abstractKey:"__isNode"}]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[o,{kind:"ScalarField",name:"uid"},l,{kind:"ScalarField",name:"fullName"},{kind:"ScalarField",name:"viewerIsFollowing"},c={kind:"ScalarField",name:"isDeleted"},{alias:"smallProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},d]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"name"},r,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"},o]}],type:"Attachment",abstractKey:"__isAttachment"},o]},o,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[s,c],type:"Message"},{kind:"InlineFragment",selections:[s],type:"DeletedMessage"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"}]}]},params:{id:"4e035866cd4de4a7895a746eaac8f3a6f3cfea387988d7999c23065c12f36bc3",metadata:{},name:"ReferencedMessageDraftLoaderQuery",operationKind:"query",text:null}};m.hash="f6bc6d9f9479725d1591d63e1d306f20",a.default=m},98422:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ReferencedMessage_attachment",selections:[{kind:"ScalarField",name:"name"},{kind:"ScalarField",name:"url"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"}]}],type:"Attachment",abstractKey:"__isAttachment"};t.hash="4a75bfe7d0de6f6b708462c170757def",a.default=t},14151:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ReferencedMessage_bot",selections:[{kind:"FragmentSpread",name:"BotMessageHeader_bot"}],type:"Bot"};t.hash="a46056ef40eebbe21bc489beb5615951",a.default=t},38369:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ReferencedMessage_poeUser",selections:[{kind:"FragmentSpread",name:"UserMessageHeader_poeUser"}],type:"PoeUser"};t.hash="884bea7bc0ec4692778be09acbf2c803",a.default=t},27269:function(e,a,n){"use strict";var t,i,s,r,l,o,d;n.r(a);let c={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"botId"},{defaultValue:null,kind:"LocalArgument",name:"canvasContent"},{defaultValue:null,kind:"LocalArgument",name:"isRemixFlow"}],kind:"Fragment",name:"RemixButtonMutation",selections:[{args:i=[{kind:"Variable",name:"botId",variableName:"botId"},{kind:"Variable",name:"canvasContent",variableName:"canvasContent"},{kind:"Variable",name:"isRemixFlow",variableName:"isRemixFlow"}],concreteType:"ContinueChatToEditCanvasBot",kind:"LinkedField",name:"continueChatToEditCanvasBot",plural:!1,selections:[s={kind:"ScalarField",name:"status"},{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[r={kind:"ScalarField",name:"chatCode"},l={kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[o={kind:"ScalarField",name:"displayName"}]}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"RemixButtonMutation",selections:[{args:i,concreteType:"ContinueChatToEditCanvasBot",kind:"LinkedField",name:"continueChatToEditCanvasBot",plural:!1,selections:[s,{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[r,l,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[o,d={kind:"ScalarField",name:"id"}]},d]}]}]},params:{id:"7bec521a76a285d0b715f158bf9fe15ee2970a677af68aea52964549ba2fa122",metadata:{},name:"RemixButtonMutation",operationKind:"mutation",text:null}};c.hash="748bbc29e0621b3ecfab78b06167c279",a.default=c},33370:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"RemixButton_canvasTab",selections:[{kind:"ScalarField",name:"id"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[{kind:"ScalarField",name:"content"},{kind:"ScalarField",name:"contentType"}]}]}],type:"BotCanvasTab"};t.hash="868bf9b50337193eec36d8979114de4f",a.default=t},22946:function(e,a,n){"use strict";var t,i,s,r,l,o,d;n.r(a);let c={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"botId"},{defaultValue:null,kind:"LocalArgument",name:"canvasContent"},{defaultValue:null,kind:"LocalArgument",name:"isRemixFlow"}],kind:"Fragment",name:"RemixDropdownMenuItemMutation",selections:[{args:i=[{kind:"Variable",name:"botId",variableName:"botId"},{kind:"Variable",name:"canvasContent",variableName:"canvasContent"},{kind:"Variable",name:"isRemixFlow",variableName:"isRemixFlow"}],concreteType:"ContinueChatToEditCanvasBot",kind:"LinkedField",name:"continueChatToEditCanvasBot",plural:!1,selections:[s={kind:"ScalarField",name:"status"},{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[r={kind:"ScalarField",name:"chatCode"},l={kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[o={kind:"ScalarField",name:"displayName"}]}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"RemixDropdownMenuItemMutation",selections:[{args:i,concreteType:"ContinueChatToEditCanvasBot",kind:"LinkedField",name:"continueChatToEditCanvasBot",plural:!1,selections:[s,{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[r,l,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[o,d={kind:"ScalarField",name:"id"}]},d]}]}]},params:{id:"290c8490a225d813dc5d480b78d3610720e4b3a5e9981b6bad5f56c3cf5d6d6c",metadata:{},name:"RemixDropdownMenuItemMutation",operationKind:"mutation",text:null}};c.hash="17535737c76e603ef41ddb0a892ca4b2",a.default=c},3525:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"RemixDropdownMenuItem_canvasTab",selections:[{kind:"ScalarField",name:"id"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[{kind:"ScalarField",name:"content"},{kind:"ScalarField",name:"contentType"}]}]}],type:"BotCanvasTab"};t.hash="e36bcce407b153286005f4aa3303801c",a.default=t},32815:function(e,a,n){"use strict";var t,i;n.r(a);let s={argumentDefinitions:[],kind:"Fragment",name:"SendMessageFollowupAction_chat",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[t={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,{kind:"ScalarField",name:"handle"}]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:[t],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[t,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"hasMarkdownRendering"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},i={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},{kind:"ScalarField",name:"chatCode"},i],type:"Chat"};s.hash="1fa8880517a1d5cec799afc9bdf68373",a.default=s},65718:function(e,a,n){"use strict";var t,i,s;n.r(a);let r={argumentDefinitions:[],kind:"Fragment",name:"SendMessageFollowupAction_followupAction",selections:[{kind:"ScalarField",name:"__typename"},{alias:"titleText",kind:"ScalarField",name:"title"},{alias:"bodyText",kind:"ScalarField",name:"body"},{alias:"bodyTextJson",kind:"ScalarField",name:"bodyWhenUsingJsonParams"},{kind:"ScalarField",name:"sendText"},{kind:"ScalarField",name:"sendTextWhenUsingJsonParams"},{kind:"ScalarField",name:"sendParameters"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"sendAttachments",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_messageAttachment",selections:[{kind:"ScalarField",name:"attachmentId"},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_messageAttachment",selections:t=[{kind:"ScalarField",name:"id"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"FileInfo_attachment"}],argumentDefinitions:[]}]},{kind:"LinkedField",name:"primaryImageSources",plural:!0,selections:i=[{kind:"FragmentSpread",name:"FollowupActionImageSources_imageSources"}]},{kind:"LinkedField",name:"secondaryImageSources",plural:!0,selections:i},{concreteType:"MessageFollowUpTargetBotInfo",kind:"LinkedField",name:"targetBotInfo",plural:!1,selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"handle"},{kind:"InlineDataFragmentSpread",name:"sendMessage_bot",selections:t,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_useMaybeBlockOnPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"paywallContext_openPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"logHelpers_getBotLogData_bot",selections:[{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"displayName"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"PaywallOpener_bot"}],argumentDefinitions:[]}],argumentDefinitions:[]}]}]},{concreteType:"Message",kind:"LinkedField",name:"referencedMessage",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_referencedMessage",selections:[{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:s=[{kind:"ScalarField",name:"messageId"}],type:"Message"},{kind:"InlineFragment",selections:s,type:"DeletedMessage"},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_referencedMessage",selections:[{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_referencedMessage",selections:[{kind:"InlineFragment",selections:t,type:"Message"},{kind:"InlineFragment",selections:t,type:"DeletedMessage"},{kind:"FragmentSpread",name:"ChatReferencedMessage_message"}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"}],argumentDefinitions:[]}]},{kind:"FragmentSpread",name:"SendMessageFollowupAction_useFollowupActionMessageSource_followupAction"}],type:"SendMessageFollowupAction"};r.hash="07339052349e75e76a894842cd6b439d",a.default=r},32428:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"SendMessageFollowupAction_useFollowupActionMessageSource_followupAction",selections:[{concreteType:"SendMessageFollowupActionMessageSource",kind:"LinkedField",name:"messageSource",plural:!1,selections:[{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"metadata"}]}],type:"SendMessageFollowupAction"};t.hash="640841d151b1a7f9318aa6707a7d193f",a.default=t},53088:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"SendMessageFollowupAction_viewer",selections:[{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_getShouldShowPaywall_viewer",selections:[{kind:"ScalarField",name:"isEligibleForWebSubscriptions"},{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{kind:"ScalarField",name:"isActive"}]}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_viewer",selections:[{alias:"shouldUseFinishUploadEndpoint",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_finish_upload_endpoint"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_finish_upload_endpoint")'},{alias:"shouldUsePresignedUrl",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_presigned_url"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_presigned_url")'},{alias:"useMessageSendingIcon",args:[{kind:"Literal",name:"gateName",value:"poe_use_message_sending_icon"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_message_sending_icon")'}],argumentDefinitions:[]},{alias:"submitMessageParamsAsDict",args:[{kind:"Literal",name:"gateName",value:"poe_pass_message_params_as_dictionary"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_pass_message_params_as_dictionary")'}],type:"Viewer"};t.hash="fcd23a1553eff1e38653e03754b0f157",a.default=t},30564:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"SetupCanvasSubscriptions_chat",selections:[{kind:"ScalarField",name:"chatId"},{kind:"FragmentSpread",name:"SetupCanvasSubscriptions_useDeleteCanvasTabsOnMessageDeletedSubscription_chat"}],type:"Chat"};t.hash="a2dfa1d93c4fe362db746fba95b51cb2",a.default=t},53598:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"SetupCanvasSubscriptions_useDeleteCanvasTabsOnMessageDeletedSubscription_chat",selections:[{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"id"}],type:"Chat"};t.hash="78debededd95368fdacd498b69f63e89",a.default=t},91952:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ShareDropdownMenuItem_canvasTab",selections:[{kind:"ScalarField",name:"canvasCode"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"codeblockIndex"},{concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[{kind:"ScalarField",name:"state"}]}],type:"MessageCanvasTab"},{kind:"FragmentSpread",name:"useIsCanvasBotTab_canvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="56d79062f59f9ea88dcedb6a100b56d3",a.default=t},71270:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ShareDropdownMenuItem_viewer",selections:[{kind:"FragmentSpread",name:"ChatInviteSection_viewer"},{alias:"poeEnableMultiUserInvite",args:[{kind:"Literal",name:"gateName",value:"poe_enable_multi_user_invite"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_multi_user_invite")'}],type:"Viewer"};t.hash="780da85e71f3260f024447410baa2139",a.default=t},11074:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ShowCanvasFABInner_canvasTab",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"state"},{kind:"FragmentSpread",name:"useSwitchToCanvasTab_canvasTab"},{kind:"FragmentSpread",name:"useCanvasInteractionLogger_canvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="e7000f74a252451e21b58e4db108f952",a.default=t},25682:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ShowCanvasFABInner_chat",selections:[{kind:"ScalarField",name:"id"},{kind:"FragmentSpread",name:"useCanvasInteractionLogger_chat"},{kind:"FragmentSpread",name:"useSwitchToCanvasTab_chat"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="4fc08a54bcfc80c59ce3b0aaff23a066",a.default=t},4618:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["canvasTabsConnection"]}]},name:"ShowCanvasFAB_chat",selections:[{kind:"FragmentSpread",name:"ShowCanvasFABInner_chat"},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[t={kind:"FragmentSpread",name:"ShowCanvasFABInner_canvasTab"}]},{alias:"canvasTabsConnection",concreteType:"CanvasTabConnection",kind:"LinkedField",name:"__CanvasTabSelector_canvasTabsConnection_connection",plural:!1,selections:[{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[t,{kind:"ScalarField",name:"__typename"}]},{kind:"ScalarField",name:"cursor"}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}]}],type:"Chat"};i.hash="6d10e5779a6126892e1f58e1c7bef417",a.default=i},30679:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"UserMessageHeader_poeUser",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"uid"},{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"fullName"},{kind:"ScalarField",name:"viewerIsFollowing"},{kind:"ScalarField",name:"isDeleted"},{args:[{kind:"Literal",name:"small",value:!0}],kind:"FragmentSpread",name:"UserImage_poeUser"},{kind:"FragmentSpread",name:"IdAnnotation_node"}],type:"PoeUser"};t.hash="d29a737a1926e7b1d8a515c4860e7570",a.default=t},15708:function(e,a,n){"use strict";var t,i,s,r,l,o,d;n.r(a);let c={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"entryType"},i={defaultValue:null,kind:"LocalArgument",name:"targetUid"}],kind:"Fragment",name:"UserMessageHeader_poeUserSetFollow_Mutation",selections:[{args:s=[{kind:"Variable",name:"entryType",variableName:"entryType"},{kind:"Literal",name:"shouldFollow",value:!0},{kind:"Variable",name:"targetUid",variableName:"targetUid"}],concreteType:"PoeUserSetFollow",kind:"LinkedField",name:"poeUserSetFollow",plural:!1,selections:[{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[r={kind:"ScalarField",name:"viewerIsFollowing"},l={kind:"ScalarField",name:"followerCount"}]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[o={kind:"ScalarField",name:"followeeCount"}]}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:[i,t],kind:"Operation",name:"UserMessageHeader_poeUserSetFollow_Mutation",selections:[{args:s,concreteType:"PoeUserSetFollow",kind:"LinkedField",name:"poeUserSetFollow",plural:!1,selections:[{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[r,l,d={kind:"ScalarField",name:"id"}]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[o,d]},d]}]}]},params:{id:"95ad3eb5685b5696be6d892310d89ee80d18331199688fa388022c8ace73992f",metadata:{},name:"UserMessageHeader_poeUserSetFollow_Mutation",operationKind:"mutation",text:null}};c.hash="63a92aa03601fe150984154110caccc4",a.default=c},3765:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"VideoPreview_attachment",selections:[{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"FragmentSpread",name:"FileInfo_GenericFileInfo_attachment"}],type:"Attachment",abstractKey:"__isAttachment"};t.hash="2fdec1ca51ecfccc837ea86099fdb0a8",a.default=t},96479:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ViewBotDetailsButton_canvasTab",selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"handle"}]}],type:"BotCanvasTab"};t.hash="0af2efe4722f73e03edbcf00fbad5d57",a.default=t},8057:function(e,a,n){"use strict";var t,i;n.r(a);let s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"chatId"}],kind:"Fragment",name:"cancelViewerActiveJobs_cancelViewerActiveJobs_Mutation",selections:i=[{args:[{kind:"Variable",name:"chatId",variableName:"chatId"}],concreteType:"CancelViewerActiveJobs",kind:"LinkedField",name:"cancelViewerActiveJobs",plural:!1,selections:[{kind:"ScalarField",name:"__typename"}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"cancelViewerActiveJobs_cancelViewerActiveJobs_Mutation",selections:i},params:{id:"bec4c5fb9ea395932da3174c38da893ffaf7ab142130ef1f0f796526051a80de",metadata:{},name:"cancelViewerActiveJobs_cancelViewerActiveJobs_Mutation",operationKind:"mutation",text:null}};s.hash="caca1aa63401baf8a45e08e6afbba4da",a.default=s},3768:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"cancelViewerActiveJobs_chat"};t.hash="c6b2a741a184aae7e0156ee70740ae7c",a.default=t},10607:function(e,a,n){"use strict";var t,i,s;n.r(a);let r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"chatId"}],kind:"Fragment",name:"checkLastMessageAndRefetchLastMessageQuery",selections:s=[{args:[{kind:"Variable",name:"chatId",variableName:"chatId"}],concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[i={kind:"ScalarField",name:"id"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[i]}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"checkLastMessageAndRefetchLastMessageQuery",selections:s},params:{id:"53a254866b6c1081c11a6d704340f6907c04b6ddb17a7258def35cb091cf4a94",metadata:{},name:"checkLastMessageAndRefetchLastMessageQuery",operationKind:"query",text:null}};r.hash="48d5bb489288a728b2276e0966d8cbf5",a.default=r},89371:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"checkLastMessageAndRefetch_chat"};t.hash="51b627e428f27915be98fd38659284c2",a.default=t},82863:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g,p,h,k,f,_,b,F,v,C,S,y,M,w,I,x,T,B,L,D,j,P,A,N,R,O,E;n.r(a);let U=(t=[{defaultValue:null,kind:"LocalArgument",name:"id"}],i=[{kind:"Variable",name:"id",variableName:"id"}],r={kind:"ScalarField",name:"id"},l={kind:"ScalarField",name:"handle"},o={kind:"ScalarField",name:"allowsImageAttachments"},d={kind:"ScalarField",name:"deletionState"},c={kind:"ScalarField",name:"botId"},m={kind:"ScalarField",name:"nickname"},u={kind:"ScalarField",name:"displayName"},g={kind:"ScalarField",name:"author"},p={kind:"ScalarField",name:"state"},h={kind:"ScalarField",name:"textLengthOnCancellation"},k={kind:"ScalarField",name:"isOptimistic"},f={kind:"ScalarField",name:"timeoutLevel"},_=[{kind:"Literal",name:"last",value:12}],b={kind:"ScalarField",name:"uid"},F={kind:"ScalarField",name:"fullName"},v={kind:"ScalarField",name:"viewerIsFollowing"},C={kind:"ScalarField",name:"isDeleted"},S={alias:"smallProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},y={kind:"TypeDiscriminator",abstractKey:"__isNode"},M={kind:"ScalarField",name:"limitedAccessType"},w={kind:"ScalarField",name:"isPrivateBot"},I={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},x={kind:"ScalarField",name:"translatedBotTags"},B={kind:"LinkedField",name:"picture",plural:!1,selections:[s={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[T={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},L={kind:"ScalarField",name:"messageId"},D={kind:"ScalarField",name:"text"},j=[b,r],P={kind:"ScalarField",name:"name"},A={kind:"ScalarField",name:"mimeType"},N={kind:"ClientExtension",selections:[k]},{fragment:{argumentDefinitions:t,kind:"Fragment",name:"checkLastMessageAndRefetch_refetchQuery",selections:[{args:i,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"FragmentSpread",name:"ChatPageMain_refetch_chat"}],type:"Chat"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"checkLastMessageAndRefetch_refetchQuery",selections:[{args:i,kind:"LinkedField",name:"node",plural:!1,selections:[s,r,{kind:"InlineFragment",selections:[{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[r,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"supportsRemix"},l,r,{kind:"ScalarField",name:"isServerBot"},o,{kind:"ScalarField",name:"supportsFileUpload"},{kind:"ScalarField",name:"customUIDefinition"},d,c,m,u]},g,p,h,{kind:"ClientExtension",selections:[k,f]}]},{args:_,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[g,{kind:"ScalarField",name:"isChatAnnouncement"},r,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[b,r,F,l,v,C,S,y]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[c,r,{kind:"ScalarField",name:"messageTimeoutSecs"},o,l,{kind:"ScalarField",name:"isApiBot"},m,M,w,I,x,d,u,B,y]},L,{kind:"ScalarField",name:"creationTime"},D,p,{kind:"ScalarField",name:"clientNonce"},{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:j},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[r,{kind:"ScalarField",name:"attachmentId"},P,T,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[A,r,{kind:"ScalarField",name:"size"}]},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},T,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"InlineFragment",selections:[N],type:"MessageAttachment"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"},N]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[s,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[L,D,C,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[M,w,I,x,d,u,B,l,r,y]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[r,b,l,F,v,C,S,y]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[P,T,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[A,r]}],type:"Attachment",abstractKey:"__isAttachment"},r]}],type:"Message"},{kind:"InlineFragment",selections:[r],type:"Node",abstractKey:"__isNode"}]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[p,r,{kind:"ScalarField",name:"jobId"}]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[R={kind:"ScalarField",name:"reaction"},{kind:"ScalarField",name:"count"},r]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:j},{kind:"ScalarField",name:"hasCitations"},h,{args:O=[{kind:"Literal",name:"first",value:5}],concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[R,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[b,F,{kind:"ScalarField",name:"viewerIsUser"},{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},r]},r,s]},E={kind:"ScalarField",name:"cursor"},r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}],storageKey:"reactionsConnection(first:5)"},{args:O,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},s,{kind:"ClientExtension",selections:[k,f,{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"clientMessageStateText"}]},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[C],type:"Message"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},y]},r,E]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},r],storageKey:"messagesConnection(last:12)"},{args:_,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"}],type:"Chat"}]}]},params:{id:"2e0efb203139466111b1cf6711526a6f156753b24ae0e03466cfff167196e39b",metadata:{},name:"checkLastMessageAndRefetch_refetchQuery",operationKind:"query",text:null}});U.hash="bcb31b5e98c8c34e16249d0ff678943d",a.default=U},34798:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"messageCreateStatus_message"};t.hash="46740b9b27384b497c30d6abff9cfcfd",a.default=t},30675:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"messageCreateStatus_returnsMessageCreateStatus_message"};t.hash="91cfe8561191602d1ac588da0e98d33d",a.default=t},33866:function(e,a,n){"use strict";var t,i,s,r;n.r(a);let l={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"chatId"},i={defaultValue:null,kind:"LocalArgument",name:"isShareAllRecentMessages"},s={defaultValue:null,kind:"LocalArgument",name:"messageIds"}],kind:"Fragment",name:"messageSharing_shareMessagesMutation_Mutation",selections:r=[{args:[{kind:"Variable",name:"chatId",variableName:"chatId"},{kind:"Variable",name:"isShareAllRecentMessages",variableName:"isShareAllRecentMessages"},{kind:"Variable",name:"messageIds",variableName:"messageIds"}],concreteType:"MessagesShare",kind:"LinkedField",name:"messagesShare",plural:!1,selections:[{kind:"ScalarField",name:"shareCode"},{kind:"ScalarField",name:"status"},{kind:"ScalarField",name:"statusMessage"}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:[t,s,i],kind:"Operation",name:"messageSharing_shareMessagesMutation_Mutation",selections:r},params:{id:"652521d75d063d7665de9d96f690b61edcc24640f8428112b9490ebd307b1896",metadata:{},name:"messageSharing_shareMessagesMutation_Mutation",operationKind:"mutation",text:null}};l.hash="d683fe22c476ec1331cab87045ec079c",a.default=l},2258:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"messageTimeout_getUserMessageTimeoutCap_message"};t.hash="44b7daa89587d9358f0f467a990a35c9",a.default=t},39990:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"messageTimeout_useTimeoutLevel",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"state"},{kind:"ScalarField",name:"text"},{kind:"ScalarField",name:"messageId"},{kind:"InlineDataFragmentSpread",name:"messageTimeout_getUserMessageTimeoutCap_message",selections:[{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"size"}]},{kind:"ClientExtension",selections:[t={kind:"ScalarField",name:"isOptimistic"}]}]}],argumentDefinitions:[]},{kind:"ScalarField",name:"author"},{kind:"ClientExtension",selections:[t,{kind:"ScalarField",name:"timeoutLevel"},{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"}]}],type:"Message"};i.hash="48c5e8acd5e999df9ccc5509b35b14e6",a.default=i},83712:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"messageTimeout_useTimeoutLevel_bot",selections:[{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"messageTimeoutSecs"},{kind:"ScalarField",name:"nickname"}],type:"Bot"};t.hash="f58664e4bf0e4bdc392b416d3c28f7c1",a.default=t},68248:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"messageTimeout_useTimeoutLevel_chat",selections:[{kind:"ScalarField",name:"chatId"}],type:"Chat"};t.hash="7226ee325d5338125d0812ecd0b791b9",a.default=t},94286:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"messageTimeout_useTimeoutLevel_pairedUserMessage",selections:[{kind:"ScalarField",name:"messageId"}],type:"Message"};t.hash="e9ef72900bdf7719a0557fe779e8bcf9",a.default=t},43267:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"messageTimeout_useTimeoutLevel_viewer",selections:[{kind:"ScalarField",name:"uid"}],type:"Viewer"};t.hash="98d9938f4ccb690658b27a7bd2393500",a.default=t},21097:function(e,a,n){"use strict";var t,i;n.r(a);let s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"messageId"}],kind:"Fragment",name:"regenerateMessageMutation",selections:i=[{args:[{kind:"Variable",name:"messageId",variableName:"messageId"}],concreteType:"MessageRegenerate",kind:"LinkedField",name:"messageRegenerate",plural:!1,selections:[{kind:"ScalarField",name:"status"},{kind:"ScalarField",name:"statusMessage"},{concreteType:"PoeJob",kind:"LinkedField",name:"job",plural:!1,selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"jobId"}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"regenerateMessageMutation",selections:i},params:{id:"c57eb11b407a486eb95d94eb698707b66509e1f8b59e08b8e8bb8e1e51bcf426",metadata:{},name:"regenerateMessageMutation",operationKind:"mutation",text:null}};s.hash="ce4e52338a6cff5b09a1937acca86e60",a.default=s},2751:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"regenerateMessage_chat"};t.hash="cd90998e379e3566100e40c8be93c728",a.default=t},86102:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"regenerateMessage_message"};t.hash="3caf553d74d86799cbef79475574af18",a.default=t},71770:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g,p,h,k,f,_,b,F,v,C,S,y,M,w,I,x,T,B,L,D,j;n.r(a);let P=(t=[{defaultValue:null,kind:"LocalArgument",name:"messageId"}],i=[{kind:"Variable",name:"messageId",variableName:"messageId"}],s={kind:"ScalarField",name:"status"},r={kind:"ScalarField",name:"statusMessage"},l={kind:"ScalarField",name:"id"},o={kind:"ScalarField",name:"uid"},d={kind:"ScalarField",name:"fullName"},c={kind:"ScalarField",name:"handle"},m={kind:"ScalarField",name:"viewerIsFollowing"},u={kind:"ScalarField",name:"isDeleted"},g={alias:"smallProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},p={kind:"TypeDiscriminator",abstractKey:"__isNode"},h={kind:"ScalarField",name:"limitedAccessType"},k={kind:"ScalarField",name:"isPrivateBot"},f={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},_={kind:"ScalarField",name:"translatedBotTags"},b={kind:"ScalarField",name:"deletionState"},F={kind:"ScalarField",name:"displayName"},S={kind:"LinkedField",name:"picture",plural:!1,selections:[v={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[C={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},y={kind:"ScalarField",name:"messageId"},M={kind:"ScalarField",name:"text"},w={kind:"ScalarField",name:"state"},I=[o,l],D={kind:"ScalarField",name:"reaction"},j=[{kind:"Literal",name:"first",value:5}],{fragment:{argumentDefinitions:t,kind:"Fragment",name:"retryMessageMutation",selections:[{args:i,concreteType:"MessageRetry",kind:"LinkedField",name:"messageRetry",plural:!1,selections:[s,r,{concreteType:"Message",kind:"LinkedField",name:"responseMessage",plural:!1,selections:[l,{kind:"InlineDataFragmentSpread",name:"messagesConnection_message",selections:[l,{kind:"FragmentSpread",name:"ChatMessagesView_useMessageTuples_messages"},{kind:"FragmentSpread",name:"ChatHistoryPagedList_message"},{kind:"FragmentSpread",name:"ChatSwitcherPagedList_message"}],argumentDefinitions:[]}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"retryMessageMutation",selections:[{args:i,concreteType:"MessageRetry",kind:"LinkedField",name:"messageRetry",plural:!1,selections:[s,r,{concreteType:"Message",kind:"LinkedField",name:"responseMessage",plural:!1,selections:[l,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[o,l,d,c,m,u,g,p]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"},l,{kind:"ScalarField",name:"messageTimeoutSecs"},{kind:"ScalarField",name:"allowsImageAttachments"},c,{kind:"ScalarField",name:"isApiBot"},{kind:"ScalarField",name:"nickname"},h,k,f,_,b,F,S,p]},y,{kind:"ScalarField",name:"creationTime"},M,w,{kind:"ScalarField",name:"clientNonce"},{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},{kind:"ScalarField",name:"author"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:I},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[l,{kind:"ScalarField",name:"attachmentId"},x={kind:"ScalarField",name:"name"},C,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[T={kind:"ScalarField",name:"mimeType"},l,{kind:"ScalarField",name:"size"}]},{kind:"ScalarField",name:"isInline"},{kind:"InlineFragment",selections:[{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},C,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"InlineFragment",selections:[L={kind:"ClientExtension",selections:[B={kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageAttachment"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"},L]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[v,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[y,M,u,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[h,k,f,_,b,F,S,c,l,p]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[l,o,c,d,m,u,g,p]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[x,C,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[T,l]}],type:"Attachment",abstractKey:"__isAttachment"},l]}],type:"Message"},{kind:"InlineFragment",selections:[l],type:"Node",abstractKey:"__isNode"}]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[w,l,{kind:"ScalarField",name:"jobId"}]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[D,{kind:"ScalarField",name:"count"},l]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:I},{kind:"ScalarField",name:"isChatAnnouncement"},{kind:"ScalarField",name:"hasCitations"},{kind:"ScalarField",name:"textLengthOnCancellation"},{args:j,concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[D,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[o,d,{kind:"ScalarField",name:"viewerIsUser"},{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},l]},l,v]},{kind:"ScalarField",name:"cursor"},l]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}],storageKey:"reactionsConnection(first:5)"},{args:j,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},{kind:"ClientExtension",selections:[B,{kind:"ScalarField",name:"timeoutLevel"},{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"clientMessageStateText"}]},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[v,u],type:"Message"},{kind:"InlineFragment",selections:[v],type:"DeletedMessage"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},p]}]}]},params:{id:"93978e24dfaa0615155239917ec0841574356ee7179732c276597b542d61120b",metadata:{},name:"retryMessageMutation",operationKind:"mutation",text:null}});P.hash="e3d4da4521c6c7e1ed9461eb376ecfda",a.default=P},55246:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"retryMessage_bot"};t.hash="08d6fe2fd722e910321fc2bc6bbd8d02",a.default=t},72013:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"retryMessage_chat"};t.hash="31aa240f5ee05d6677439793a29b2e32",a.default=t},11806:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"retryMessage_createOptimisiticMessage_chat"};t.hash="056a191645415a811d12f67383dd6f8f",a.default=t},24505:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"retryMessage_createOptimisticMessage_bot"};t.hash="cb0078c1cf6b997a41f9c482f27a5eb4",a.default=t},82128:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"retryMessage_createOptimisticMessage_message"};t.hash="9057632284726535421d54fdf1a9753f",a.default=t},319:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"retryMessage_message"};t.hash="cdaf2dfb3d636b1493de925cba010b84",a.default=t},46688:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g,p,h,k,f,_,b,F,v,C,S,y,M,w,I,x,T,B,L,D,j,P,A;n.r(a);let N=(t=[{defaultValue:null,kind:"LocalArgument",name:"chatId"},{defaultValue:null,kind:"LocalArgument",name:"clientNonce"}],i=[{kind:"Variable",name:"chatId",variableName:"chatId"},{kind:"Variable",name:"clientNonce",variableName:"clientNonce"}],o=[s={kind:"ScalarField",name:"cursor"},{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[r={kind:"ScalarField",name:"id"},l={kind:"ScalarField",name:"clientNonce"},{kind:"InlineDataFragmentSpread",name:"messagesConnection_message",selections:[r,{kind:"FragmentSpread",name:"ChatMessagesView_useMessageTuples_messages"},{kind:"FragmentSpread",name:"ChatHistoryPagedList_message"},{kind:"FragmentSpread",name:"ChatSwitcherPagedList_message"}],argumentDefinitions:[]}]}],d={kind:"ScalarField",name:"uid"},c={kind:"ScalarField",name:"fullName"},m={kind:"ScalarField",name:"handle"},u={kind:"ScalarField",name:"viewerIsFollowing"},g={kind:"ScalarField",name:"isDeleted"},p={alias:"smallProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},h={kind:"TypeDiscriminator",abstractKey:"__isNode"},k={kind:"ScalarField",name:"limitedAccessType"},f={kind:"ScalarField",name:"isPrivateBot"},_={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},b={kind:"ScalarField",name:"translatedBotTags"},F={kind:"ScalarField",name:"deletionState"},v={kind:"ScalarField",name:"displayName"},y={kind:"LinkedField",name:"picture",plural:!1,selections:[C={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[S={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},M={kind:"ScalarField",name:"messageId"},w={kind:"ScalarField",name:"text"},I={kind:"ScalarField",name:"state"},x=[d,r],j={kind:"ScalarField",name:"reaction"},P=[{kind:"Literal",name:"first",value:5}],{fragment:{argumentDefinitions:t,kind:"Fragment",name:"sendChatBreakMutation",selections:[{args:i,concreteType:"MessageBreakEdgeCreate",kind:"LinkedField",name:"messageBreakEdgeCreate",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"message",plural:!1,selections:o},{concreteType:"MessageEdge",kind:"LinkedField",name:"introductionMessage",plural:!1,selections:o}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"sendChatBreakMutation",selections:[{args:i,concreteType:"MessageBreakEdgeCreate",kind:"LinkedField",name:"messageBreakEdgeCreate",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"message",plural:!1,selections:A=[s,{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[r,l,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[d,r,c,m,u,g,p,h]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"},r,{kind:"ScalarField",name:"messageTimeoutSecs"},{kind:"ScalarField",name:"allowsImageAttachments"},m,{kind:"ScalarField",name:"isApiBot"},{kind:"ScalarField",name:"nickname"},k,f,_,b,F,v,y,h]},M,{kind:"ScalarField",name:"creationTime"},w,I,{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},{kind:"ScalarField",name:"author"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:x},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[r,{kind:"ScalarField",name:"attachmentId"},T={kind:"ScalarField",name:"name"},S,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[B={kind:"ScalarField",name:"mimeType"},r,{kind:"ScalarField",name:"size"}]},{kind:"ScalarField",name:"isInline"},{kind:"InlineFragment",selections:[{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},S,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"InlineFragment",selections:[D={kind:"ClientExtension",selections:[L={kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageAttachment"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"},D]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[C,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[M,w,g,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[k,f,_,b,F,v,y,m,r,h]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[r,d,m,c,u,g,p,h]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[T,S,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[B,r]}],type:"Attachment",abstractKey:"__isAttachment"},r]}],type:"Message"},{kind:"InlineFragment",selections:[r],type:"Node",abstractKey:"__isNode"}]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[I,r,{kind:"ScalarField",name:"jobId"}]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[j,{kind:"ScalarField",name:"count"},r]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:x},{kind:"ScalarField",name:"isChatAnnouncement"},{kind:"ScalarField",name:"hasCitations"},{kind:"ScalarField",name:"textLengthOnCancellation"},{args:P,concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[j,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[d,c,{kind:"ScalarField",name:"viewerIsUser"},{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},r]},r,C]},s,r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}],storageKey:"reactionsConnection(first:5)"},{args:P,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},{kind:"ClientExtension",selections:[L,{kind:"ScalarField",name:"timeoutLevel"},{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"clientMessageStateText"}]},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[C,g],type:"Message"},{kind:"InlineFragment",selections:[C],type:"DeletedMessage"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},h]},r]},{concreteType:"MessageEdge",kind:"LinkedField",name:"introductionMessage",plural:!1,selections:A}]}]},params:{id:"3d8d312f44c3f9cfbc6bfca03c63d66964a41c94637563ef0fade13c5de0a105",metadata:{},name:"sendChatBreakMutation",operationKind:"mutation",text:null}});N.hash="33690e1f8834fb9bd8334c8c856a59d3",a.default=N},58343:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"sendChatBreak_chat"};t.hash="1d620424c16869fd2a57bf2f5e980738",a.default=t},81333:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"sendChatBreak_createOptimisticIntroMessage_bot"};t.hash="f14786524ea9140b99bf96c0d7c71e94",a.default=t},51915:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"sendChatBreak_onChatBreakSend_chat"};t.hash="8d11c79dcda12bd80f1e1983b3761293",a.default=t},99673:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g,p,h,k,f,_,b,F,v,C,S,y,M,w,I,x,T,B,L,D,j,P,A,N,R;n.r(a);let O=(t=[{defaultValue:null,kind:"LocalArgument",name:"bot"},{defaultValue:null,kind:"LocalArgument",name:"chatId"},{defaultValue:null,kind:"LocalArgument",name:"query"},{defaultValue:null,kind:"LocalArgument",name:"referencedMessageId"}],i=[{kind:"Variable",name:"bot",variableName:"bot"},{kind:"Variable",name:"chatId",variableName:"chatId"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"referencedMessageId",variableName:"referencedMessageId"}],s={kind:"ScalarField",name:"status"},r={kind:"ScalarField",name:"statusMessage"},o={kind:"ScalarField",name:"cursor"},d={kind:"ScalarField",name:"messageId"},c={kind:"ScalarField",name:"clientNonce"},u={concreteType:"PoeJob",kind:"LinkedField",name:"job",plural:!1,selections:[l={kind:"ScalarField",name:"id"},m={kind:"ScalarField",name:"jobId"}]},g={kind:"ScalarField",name:"uid"},p={kind:"ScalarField",name:"fullName"},h={kind:"ScalarField",name:"handle"},k={kind:"ScalarField",name:"viewerIsFollowing"},f={kind:"ScalarField",name:"isDeleted"},_={alias:"smallProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},b={kind:"TypeDiscriminator",abstractKey:"__isNode"},F={kind:"ScalarField",name:"limitedAccessType"},v={kind:"ScalarField",name:"isPrivateBot"},C={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},S={kind:"ScalarField",name:"translatedBotTags"},y={kind:"ScalarField",name:"deletionState"},M={kind:"ScalarField",name:"displayName"},x={kind:"LinkedField",name:"picture",plural:!1,selections:[w={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[I={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},T={kind:"ScalarField",name:"text"},B={kind:"ScalarField",name:"state"},L=[g,l],N={kind:"ScalarField",name:"reaction"},R=[{kind:"Literal",name:"first",value:5}],{fragment:{argumentDefinitions:t,kind:"Fragment",name:"sendCommandMessageMutation",selections:[{args:i,concreteType:"CommandMessageEdgeCreate",kind:"LinkedField",name:"commandMessageEdgeCreate",plural:!1,selections:[s,r,{concreteType:"MessageEdge",kind:"LinkedField",name:"message",plural:!1,selections:[l,o,{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[l,d,c,{kind:"InlineDataFragmentSpread",name:"messagesConnection_message",selections:[l,{kind:"FragmentSpread",name:"ChatMessagesView_useMessageTuples_messages"},{kind:"FragmentSpread",name:"ChatHistoryPagedList_message"},{kind:"FragmentSpread",name:"ChatSwitcherPagedList_message"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"ChatMessagesView_message"}]}]},u]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"sendCommandMessageMutation",selections:[{args:i,concreteType:"CommandMessageEdgeCreate",kind:"LinkedField",name:"commandMessageEdgeCreate",plural:!1,selections:[s,r,{concreteType:"MessageEdge",kind:"LinkedField",name:"message",plural:!1,selections:[l,o,{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[l,d,c,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[g,l,p,h,k,f,_,b]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"},l,{kind:"ScalarField",name:"messageTimeoutSecs"},{kind:"ScalarField",name:"allowsImageAttachments"},h,{kind:"ScalarField",name:"isApiBot"},{kind:"ScalarField",name:"nickname"},F,v,C,S,y,M,x,b]},{kind:"ScalarField",name:"creationTime"},T,B,{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},{kind:"ScalarField",name:"author"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:L},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[l,{kind:"ScalarField",name:"attachmentId"},D={kind:"ScalarField",name:"name"},I,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[j={kind:"ScalarField",name:"mimeType"},l,{kind:"ScalarField",name:"size"}]},{kind:"ScalarField",name:"isInline"},{kind:"InlineFragment",selections:[{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},I,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"InlineFragment",selections:[A={kind:"ClientExtension",selections:[P={kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageAttachment"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"},A]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[w,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[d,T,f,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[F,v,C,S,y,M,x,h,l,b]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[l,g,h,p,k,f,_,b]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[D,I,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[j,l]}],type:"Attachment",abstractKey:"__isAttachment"},l]}],type:"Message"},{kind:"InlineFragment",selections:[l],type:"Node",abstractKey:"__isNode"}]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[B,l,m]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[N,{kind:"ScalarField",name:"count"},l]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:L},{kind:"ScalarField",name:"isChatAnnouncement"},{kind:"ScalarField",name:"hasCitations"},{kind:"ScalarField",name:"textLengthOnCancellation"},{args:R,concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[N,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[g,p,{kind:"ScalarField",name:"viewerIsUser"},{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},l]},l,w]},o,l]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}],storageKey:"reactionsConnection(first:5)"},{args:R,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},{kind:"ClientExtension",selections:[P,{kind:"ScalarField",name:"timeoutLevel"},{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"clientMessageStateText"}]},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[w,f],type:"Message"},{kind:"InlineFragment",selections:[w],type:"DeletedMessage"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},b]}]},u]}]},params:{id:"2b5cada23a32e473cc3e1fda5323512820d7f52a4ad0d16d390f9a596595be3d",metadata:{},name:"sendCommandMessageMutation",operationKind:"mutation",text:null}});O.hash="8d89ca30de7f97585430d1838d01673c",a.default=O},86574:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"sendCommandMessage_bot"};t.hash="debba6ce5bc03fe152cfe085a3074f22",a.default=t},69105:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"sendCommandMessage_chat"};t.hash="e0648bc68b77ffc547126ea7d4974d7c",a.default=t},44704:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"sendCommandMessage_message"};t.hash="92807f989c936b82ef97888f0cd089f1",a.default=t},55831:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"sendCommandMessage_onCommandMessageSend_chat"};t.hash="8e75dd7b275ac7bcebcc5af9cbde63f1",a.default=t},72679:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useCanvasActionsSubscription_canvasTab",selections:[{kind:"ScalarField",name:"globalId"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="4564a4078ee5d0acfed5a64376042e30",a.default=t},94711:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useCanvasActionsSubscription_viewer",selections:[{kind:"FragmentSpread",name:"usePreviewIframeUrl_viewer"}],type:"Viewer"};t.hash="321b7a814a59652443d080e433421fb0",a.default=t},78573:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useCanvasInteractionLogger_canvasTab",selections:[{kind:"ScalarField",name:"id"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"language"}]},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"codeblockIndex"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageCanvasTab"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"botId"}],type:"BotCanvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="27e6274296da16f00da99a9517de2fbc",a.default=t},66646:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useCanvasInteractionLogger_chat",selections:[{kind:"ScalarField",name:"chatId"}],type:"Chat"};t.hash="b8ee619afc9d3a178470f464239c3077",a.default=t},52032:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"useCanvasTabContentSource_canvasTab",selections:[{kind:"ScalarField",name:"globalId"},{kind:"ScalarField",name:"__typename"},{kind:"InlineFragment",selections:[t={kind:"ScalarField",name:"clientNonce"},{kind:"ScalarField",name:"botId"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[t,{kind:"ScalarField",name:"messageId"},{kind:"ScalarField",name:"codeblockIndex"}],type:"MessageCanvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};i.hash="14282fd8d482aeea8effc3b119e2590c",a.default=i},50989:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useChatHasActiveJobs_chat",selections:[{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[{kind:"ScalarField",name:"jobId"}]}],type:"Chat"};t.hash="21e268454b662b0ef8ae0e0a914980cc",a.default=t},75807:function(e,a,n){"use strict";var t,i,s,r,l;n.r(a);let o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"chatId"},{defaultValue:null,kind:"LocalArgument",name:"lastSeenMessageId"}],kind:"Fragment",name:"useChatLastMessageImpressionTracker_ChatMarkAsSeen_Mutation",selections:[{args:i=[{kind:"Variable",name:"chatId",variableName:"chatId"},{kind:"Variable",name:"lastSeenMessageId",variableName:"lastSeenMessageId"}],concreteType:"ChatMarkAsSeen",kind:"LinkedField",name:"chatMarkAsSeen",plural:!1,selections:[s={kind:"ScalarField",name:"__typename"},{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:[r={kind:"ScalarField",name:"messageId"}]}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"useChatLastMessageImpressionTracker_ChatMarkAsSeen_Mutation",selections:[{args:i,concreteType:"ChatMarkAsSeen",kind:"LinkedField",name:"chatMarkAsSeen",plural:!1,selections:[s,{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:[r,l={kind:"ScalarField",name:"id"}]},l]}]}]},params:{id:"7833bbcd10142ac4340ea9ae9e0862742fbec0aa5ca57605eb6ecd64e7b415cb",metadata:{},name:"useChatLastMessageImpressionTracker_ChatMarkAsSeen_Mutation",operationKind:"mutation",text:null}};o.hash="4418e1f5cbe1abfb863624ae2ae64b9c",a.default=o},84623:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"useChatLastMessageImpressionTracker_chat"};t.hash="bfc1a84daff197cd2c8f579cbec11def",a.default=t},55209:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"useChatLastMessageImpressionTracker_message"};t.hash="6dc52924e135461908321e901c7131fa",a.default=t},48379:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useChatMessageSeenState_chat",selections:[{kind:"FragmentSpread",name:"useIsMultiUserChat_chat"},{concreteType:"Message",kind:"LinkedField",name:"lastMessageSeenByAllOtherMembers",plural:!1,selections:[{kind:"ScalarField",name:"messageId"}]}],type:"Chat"};t.hash="b64af37995959c68199f5f1cade68f3b",a.default=t},51457:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useChatMessageSeenState_message",selections:[{kind:"ScalarField",name:"messageId"},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[{kind:"ScalarField",name:"uid"}]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Message"};t.hash="80fc2e727799dae4db7d4831377abd38",a.default=t},17013:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useChatMessageSeenState_viewer",selections:[{kind:"ScalarField",name:"uid"},{alias:"poeEnableMessageReadReceipts",args:[{kind:"Literal",name:"gateName",value:"poe_enable_message_read_receipts"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_message_read_receipts")'}],type:"Viewer"};t.hash="554872fc5b25ae3b362096686ea3b071",a.default=t},26500:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g;n.r(a);let p={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"chatId"},i={defaultValue:null,kind:"LocalArgument",name:"connections"},s={defaultValue:null,kind:"LocalArgument",name:"tabInput"},r={defaultValue:null,kind:"LocalArgument",name:"tabNodeId"},l={defaultValue:null,kind:"LocalArgument",name:"tabToOpenNodeId"}],kind:"Fragment",name:"useCloseCanvasTabMutation",selections:[{args:o=[{kind:"Variable",name:"chatId",variableName:"chatId"},{kind:"Variable",name:"tabInput",variableName:"tabInput"},{kind:"Variable",name:"tabNodeId",variableName:"tabNodeId"},{kind:"Variable",name:"tabToOpenNodeId",variableName:"tabToOpenNodeId"}],concreteType:"CloseCanvasTab",kind:"LinkedField",name:"closeCanvasTab",plural:!1,selections:[d={kind:"ScalarField",name:"status"},{kind:"LinkedField",name:"closedCanvasTab",plural:!1,selections:[c={kind:"ScalarField",name:"id"},m={kind:"ScalarField",name:"state"},{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[u={kind:"ScalarField",name:"canvasTabsCount"}]}]},{kind:"LinkedField",name:"openedCanvasTab",plural:!1,selections:[c,m]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:[t,s,r,l,i],kind:"Operation",name:"useCloseCanvasTabMutation",selections:[{args:o,concreteType:"CloseCanvasTab",kind:"LinkedField",name:"closeCanvasTab",plural:!1,selections:[d,{kind:"LinkedField",name:"closedCanvasTab",plural:!1,selections:[g={kind:"ScalarField",name:"__typename"},c,{handle:"deleteEdge",key:"",kind:"ScalarHandle",name:"id",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]},m,{kind:"TypeDiscriminator",abstractKey:"__isCanvasTabInterface"},{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[u,c]}]},{kind:"LinkedField",name:"openedCanvasTab",plural:!1,selections:[g,c,m]}]}]},params:{id:"83d797e8a0f77205a82ec6577af3fb8e49f5ff1f9c3c2e30a738a375ce71f624",metadata:{},name:"useCloseCanvasTabMutation",operationKind:"mutation",text:null}};p.hash="d50fd3feac737eba34d288075ad1b53f",a.default=p},37976:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useCloseCanvasTab_chat",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"},{kind:"FragmentSpread",name:"useIsMultiUserChat_chat"}],type:"Chat"};t.hash="46078486d41efddac4378d0296ba4a4e",a.default=t},75641:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useEnsureLeftMenuCollapsedForOptimisticCanvasChats_chat",selections:[{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[{kind:"ScalarField",name:"id"}]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="73e0225764e7e47264937fb7c0406b0e",a.default=t},96916:function(e,a,n){"use strict";var t,i,s,r,l,o,d;n.r(a);let c={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"chatId"},i={defaultValue:null,kind:"LocalArgument",name:"tabInput"},s={defaultValue:null,kind:"LocalArgument",name:"tabNodeId"}],kind:"Fragment",name:"useHideCanvasTabMutation",selections:[{args:r=[{kind:"Variable",name:"chatId",variableName:"chatId"},{kind:"Variable",name:"tabInput",variableName:"tabInput"},{kind:"Variable",name:"tabNodeId",variableName:"tabNodeId"}],concreteType:"PutCanvasTabInBackground",kind:"LinkedField",name:"putCanvasTabInBackground",plural:!1,selections:[l={kind:"ScalarField",name:"status"},{kind:"LinkedField",name:"canvasTab",plural:!1,selections:[o={kind:"ScalarField",name:"id"},d={kind:"ScalarField",name:"state"}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:[t,s,i],kind:"Operation",name:"useHideCanvasTabMutation",selections:[{args:r,concreteType:"PutCanvasTabInBackground",kind:"LinkedField",name:"putCanvasTabInBackground",plural:!1,selections:[l,{kind:"LinkedField",name:"canvasTab",plural:!1,selections:[{kind:"ScalarField",name:"__typename"},o,d]}]}]},params:{id:"417f9bea08d151461f9b4c18834e4464f35082dea06ee844741edf6441260a7d",metadata:{},name:"useHideCanvasTabMutation",operationKind:"mutation",text:null}};c.hash="6c5a9b453b277e6dc4a5b5bc29668773",a.default=c},73863:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useHideCanvasTab_canvasTab",selections:[{kind:"ScalarField",name:"id"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};t.hash="98329689a84498e391d31a859a9140fa",a.default=t},65545:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useHideCanvasTab_chat",selections:[{kind:"ScalarField",name:"chatId"}],type:"Chat"};t.hash="3ac84977702c72c195238c3b3c9ad40f",a.default=t},75351:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"useInitialCanvasSidebarState_chat",selections:[t={kind:"ScalarField",name:"id"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[t]},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[{kind:"ScalarField",name:"state"},{kind:"FragmentSpread",name:"useIsCanvasBotTab_canvasTab"}]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};i.hash="256583acefd1104acec7ef8b86431407",a.default=i},25385:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useIsCanvasBotTab_canvasTab",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"__typename"}],type:"BotCanvasTab"};t.hash="c45e5233ce69c09039732f84b2e678c7",a.default=t},94083:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"useIsCanvasTabOptimistic_canvasTab",selections:[{kind:"InlineFragment",selections:t=[{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"BotCanvasTab"},{kind:"InlineFragment",selections:t,type:"MessageCanvasTab"}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};i.hash="d3e9b9510b2f8799d783514097918b57",a.default=i},90954:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useIsCodeblockOpenInCanvas_message",selections:[{concreteType:"MessageCanvasTab",kind:"LinkedField",name:"canvasTabs",plural:!0,selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"codeblockIndex"},{kind:"ScalarField",name:"state"},{kind:"ScalarField",name:"title"}]}],type:"Message"};t.hash="fc89cc6d081cc9f990acc0a27587204a",a.default=t},65176:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"useIsEditingCanvasBotWithBuilder_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:t=[{kind:"ScalarField",name:"botId"}]},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:t}],type:"Chat"};i.hash="84c63b85843a99890cc52fe1c9188bd3",a.default=i},49953:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"useIsViewerMessageCreator_message",selections:[{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:t=[{kind:"ScalarField",name:"uid"}]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:t}]},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Message"};i.hash="0ae4ea64d45b9d10966ddda91a9d28f0",a.default=i},4001:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useIsViewerMessageCreator_viewer",selections:[{kind:"ScalarField",name:"uid"}],type:"Viewer"};t.hash="f0fc13557df01edbf0fb358c4d3dd0f5",a.default=t},68418:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useOnMiniAppRequest_viewer",selections:[{kind:"FragmentSpread",name:"usePreviewIframeUrl_viewer"}],type:"Viewer"};t.hash="49f40e663009b237d24f7dc6d71efde4",a.default=t},1425:function(e,a,n){"use strict";var t,i,s;n.r(a);let r=(s={kind:"InlineFragment",selections:i=[t={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageCanvasTab"},{argumentDefinitions:[],kind:"Fragment",name:"useOnSendUserMessageFromCanvas_canvasTab",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"globalId"},{kind:"InlineFragment",selections:i,type:"BotCanvasTab"},s,{kind:"InlineDataFragmentSpread",name:"CanvasTab_getSourceMetadata_canvasTab",selections:[{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"clientNonce"},{kind:"ScalarField",name:"botId"},t],type:"BotCanvasTab"},s],argumentDefinitions:[]}],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"});r.hash="93434598e5fa9be372114a1809b044c6",a.default=r},19143:function(e,a,n){"use strict";var t,i,s;n.r(a);let r=(i=[t={kind:"ScalarField",name:"id"}],{argumentDefinitions:[],kind:"Fragment",name:"useOnSendUserMessageFromCanvas_chat",selections:[t,{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[t,{kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,{kind:"ScalarField",name:"handle"}]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:i,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[t,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"hasMarkdownRendering"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},s={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,{kind:"InlineDataFragmentSpread",name:"sendMessage_bot",selections:i,argumentDefinitions:[]}]},s],type:"Chat"});r.hash="b2d5e44150ee800619f4406a6d0fdfb5",a.default=r},93578:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useOnSendUserMessageFromCanvas_viewer",selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_viewer",selections:[{alias:"shouldUseFinishUploadEndpoint",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_finish_upload_endpoint"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_finish_upload_endpoint")'},{alias:"shouldUsePresignedUrl",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_presigned_url"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_presigned_url")'},{alias:"useMessageSendingIcon",args:[{kind:"Literal",name:"gateName",value:"poe_use_message_sending_icon"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_message_sending_icon")'}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"usePreviewIframeUrl_viewer"}],type:"Viewer"};t.hash="7748b7ed28400a04bf4e45fe6588d15f",a.default=t},69438:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g,p,h,k,f,_;n.r(a);let b={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"chatId"},i={defaultValue:null,kind:"LocalArgument",name:"connections"},s={defaultValue:null,kind:"LocalArgument",name:"contentObject"},r={defaultValue:null,kind:"LocalArgument",name:"openedAt"},l={defaultValue:null,kind:"LocalArgument",name:"tabInput"}],kind:"Fragment",name:"useOpenCanvasTabMutation",selections:[{args:o=[{kind:"Variable",name:"chatId",variableName:"chatId"},{kind:"Variable",name:"contentObject",variableName:"contentObject"},{kind:"Variable",name:"openedAt",variableName:"openedAt"},{kind:"Variable",name:"tabInput",variableName:"tabInput"}],concreteType:"OpenCanvasTabInChat",kind:"LinkedField",name:"openCanvasTabInChat",plural:!1,selections:[d={kind:"ScalarField",name:"status"},{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"canvasTabEdge",plural:!1,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[c={kind:"ScalarField",name:"id"},{kind:"FragmentSpread",name:"CanvasTab_canvasTab"},m={kind:"ScalarField",name:"state"},{kind:"InlineFragment",selections:[u={kind:"ScalarField",name:"messageId"},g={kind:"ScalarField",name:"codeblockIndex"}],type:"MessageCanvasTab"},{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[p={kind:"ScalarField",name:"canvasTabsCount"}]}]}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:[t,l,s,i,r],kind:"Operation",name:"useOpenCanvasTabMutation",selections:[{args:o,concreteType:"OpenCanvasTabInChat",kind:"LinkedField",name:"openCanvasTabInChat",plural:!1,selections:[d,{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"canvasTabEdge",plural:!1,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"__typename"},c,{kind:"TypeDiscriminator",abstractKey:"__isCanvasTabInterface"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"globalId"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[h={kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"language"},k={kind:"ScalarField",name:"content"}]},{kind:"ScalarField",name:"clientNonce"},{kind:"ScalarField",name:"canvasCode"},m,{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[p,c]},{kind:"InlineFragment",selections:[f={kind:"ScalarField",name:"botId"},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[f,c,{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"deletionState"},{kind:"ScalarField",name:"isPromptPublic"},{kind:"ScalarField",name:"isCanvasOnlyBot"},{kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[k,h]}]},_={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[u,g,{concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[u,c,m]},_],type:"MessageCanvasTab"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}]},c]},{handle:"prependEdge",key:"",kind:"LinkedHandle",name:"canvasTabEdge",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}]}]},params:{id:"2d00eadb3e3ceab217e025810116a7c44b1e3d1a7e834fe18cbed8a36bda86ff",metadata:{},name:"useOpenCanvasTabMutation",operationKind:"mutation",text:null}};b.hash="c487c9a4bf68a17543a55c716c0418ae",a.default=b},69905:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useOpenCanvasTab_chat",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"}],type:"Chat"};t.hash="294c04df8ef9ead80f3b514501deeac3",a.default=t},57089:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"useOptimisticCanvasTabInput_canvasTab"};t.hash="7e8533d2c0db97545ae0342d6e790e4a",a.default=t},8805:function(e,a,n){"use strict";var t,i,s,r,l,o;n.r(a);let d={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"chatNodeId"},i={defaultValue:null,kind:"LocalArgument",name:"messageNodeId"}],kind:"Fragment",name:"usePreviewHeaderCanvasHelpersLazyLoadQuery",selections:[{alias:"message",args:s=[{kind:"Variable",name:"id",variableName:"messageNodeId"}],kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"FragmentSpread",name:"usePreviewHeaderCanvasHelpers_message"}]},{alias:"chat",args:r=[{kind:"Variable",name:"id",variableName:"chatNodeId"}],kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"FragmentSpread",name:"usePreviewHeaderCanvasHelpers_chat"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:[i,t],kind:"Operation",name:"usePreviewHeaderCanvasHelpersLazyLoadQuery",selections:[{alias:"message",args:s,kind:"LinkedField",name:"node",plural:!1,selections:[l={kind:"ScalarField",name:"__typename"},{kind:"InlineFragment",selections:[{concreteType:"MessageCanvasTab",kind:"LinkedField",name:"canvasTabs",plural:!0,selections:[o={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"codeblockIndex"},{kind:"ScalarField",name:"state"},{kind:"ScalarField",name:"title"}]},{kind:"ScalarField",name:"messageId"}],type:"Message"},o]},{alias:"chat",args:r,kind:"LinkedField",name:"node",plural:!1,selections:[l,o,{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"hasMultipleUsers"}],type:"Chat"}]}]},params:{id:"4a96bcf319a6658a35f08978df7ae509cf7dbf56a1a5b08782b2697384022c44",metadata:{},name:"usePreviewHeaderCanvasHelpersLazyLoadQuery",operationKind:"query",text:null}};d.hash="41e0208a588899aa732717a45e57ab05",a.default=d},53281:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"usePreviewHeaderCanvasHelpers_chat",selections:[{kind:"FragmentSpread",name:"useCloseCanvasTab_chat"},{kind:"FragmentSpread",name:"useOpenCanvasTab_chat"}],type:"Chat"};t.hash="5ff1ed200ce4945c10e548b685ad11c6",a.default=t},76206:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"usePreviewHeaderCanvasHelpers_message",selections:[{kind:"FragmentSpread",name:"useIsCodeblockOpenInCanvas_message"},{kind:"ScalarField",name:"messageId"}],type:"Message"};t.hash="679e674b6ca746e26002114cb090ab0b",a.default=t},21060:function(e,a,n){"use strict";var t,i,s,r,l;n.r(a);let o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"actions"},{defaultValue:null,kind:"LocalArgument",name:"canvasTabGlobalId"}],kind:"Fragment",name:"useProcessCanvasActionsFromCanvasTabMutation",selections:[{args:i=[{kind:"Variable",name:"actions",variableName:"actions"},{kind:"Variable",name:"canvasTabGlobalId",variableName:"canvasTabGlobalId"}],concreteType:"ProcessActionsFromCanvasTab",kind:"LinkedField",name:"processActionsFromCanvasTab",plural:!1,selections:[s={kind:"ScalarField",name:"status"},{kind:"LinkedField",name:"canvasTab",plural:!1,selections:[r={kind:"ScalarField",name:"id"}]},l={kind:"ScalarField",name:"dataForCanvasTab"}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"useProcessCanvasActionsFromCanvasTabMutation",selections:[{args:i,concreteType:"ProcessActionsFromCanvasTab",kind:"LinkedField",name:"processActionsFromCanvasTab",plural:!1,selections:[s,{kind:"LinkedField",name:"canvasTab",plural:!1,selections:[{kind:"ScalarField",name:"__typename"},r]},l]}]},params:{id:"56ee3854fdd58cbe5e161808f0e3ee13eae1a1e115c76bafe918209ca2a55ba1",metadata:{},name:"useProcessCanvasActionsFromCanvasTabMutation",operationKind:"mutation",text:null}};o.hash="323d39866caa26c21c7db9db3959064f",a.default=o},74229:function(e,a,n){"use strict";var t,i,s,r,l,o,d,c,m,u,g,p,h,k,f,_,b,F,v,C,S,y,M,w,I,x,T,B,L,D,j,P,A,N,R,O,E,U,Z,H,V,G,K,W,z,q,$,J,Q,Y,X,ee,ea,en,et,ei,es,er,el,eo,ed,ec,em,eu,eg,ep,eh,ek,ef,e_,eb,eF,ev,eC,eS,ey,eM,ew,eI,ex,eT,eB,eL,eD,ej;n.r(a);let eP=(t=[{defaultValue:null,kind:"LocalArgument",name:"actions"},{defaultValue:null,kind:"LocalArgument",name:"optimisticCanvasTab"}],i=[{kind:"Variable",name:"actions",variableName:"actions"},{kind:"Variable",name:"optimisticCanvasTab",variableName:"optimisticCanvasTab"}],s={kind:"ScalarField",name:"status"},r={kind:"ScalarField",name:"id"},l={kind:"ScalarField",name:"globalId"},o={kind:"ScalarField",name:"chatCode"},m={kind:"ScalarField",name:"chatId"},u={kind:"ScalarField",name:"hasMarkdownRendering"},g=[{kind:"Literal",name:"first",value:2}],p={kind:"ScalarField",name:"__typename"},h={kind:"InlineFragment",selections:c=[d={kind:"ScalarField",name:"botId"}],type:"BotCanvasTab"},f={kind:"ClientExtension",selections:[k={kind:"ScalarField",name:"isOptimistic"}]},_={kind:"ScalarField",name:"dataForCanvasTab"},b={kind:"TypeDiscriminator",abstractKey:"__isCanvasTabInterface"},F={kind:"ScalarField",name:"title"},y={concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[v={kind:"ScalarField",name:"contentType"},C={kind:"ScalarField",name:"language"},S={kind:"ScalarField",name:"content"}]},M={kind:"ScalarField",name:"clientNonce"},w={kind:"ScalarField",name:"canvasCode"},I={kind:"ScalarField",name:"handle"},x={kind:"ScalarField",name:"nickname"},T={kind:"ScalarField",name:"viewerIsCreator"},B={kind:"ScalarField",name:"isPrivateBot"},L={kind:"ScalarField",name:"messageTimeoutSecs"},D={kind:"ScalarField",name:"allowsImageAttachments"},j={kind:"ScalarField",name:"isApiBot"},P={kind:"ScalarField",name:"limitedAccessType"},A={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},N={kind:"ScalarField",name:"translatedBotTags"},R={kind:"ScalarField",name:"deletionState"},O={kind:"ScalarField",name:"displayName"},Z={kind:"LinkedField",name:"picture",plural:!1,selections:U=[p,{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[E={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},H={kind:"ScalarField",name:"supportsRemix"},V={kind:"ScalarField",name:"isServerBot"},G={kind:"ScalarField",name:"supportsFileUpload"},K={kind:"ScalarField",name:"customUIDefinition"},W={kind:"ScalarField",name:"isCanvasOnlyBot"},Q={concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[z={kind:"ScalarField",name:"isDeleted"},{args:q=[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},$={kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},r,J={kind:"TypeDiscriminator",abstractKey:"__isNode"}]},Y={kind:"ScalarField",name:"canUserAccessBot"},X={kind:"ScalarField",name:"poweredBy"},ea={kind:"ScalarField",name:"state"},en={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[d,r,I,T,R,ee={kind:"ScalarField",name:"isPromptPublic"},W,B,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[S,v]}]},et={kind:"ClientExtension",selections:[k,{kind:"ScalarField",name:"idWhenWasOptimistic"}]},es={kind:"ScalarField",name:"codeblockIndex"},er={concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[ei={kind:"ScalarField",name:"messageId"},r,ea]},eo={concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[d,r,{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[el={kind:"ScalarField",name:"viewerIsUser"},r]}]},ed=[ei,r],ec={kind:"ScalarField",name:"creationTime"},em={kind:"ScalarField",name:"author"},eu={kind:"ScalarField",name:"textLengthOnCancellation"},eg={kind:"ScalarField",name:"timeoutLevel"},ep={kind:"ScalarField",name:"jobId"},eh={kind:"InlineFragment",selections:[d,en,f],type:"BotCanvasTab"},ek={kind:"ScalarField",name:"cursor"},ef={concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},e_=[{kind:"Literal",name:"last",value:12}],eb={kind:"ScalarField",name:"uid"},eF={kind:"ScalarField",name:"viewerIsFollowing"},ev={alias:"smallProfilePhotoUrl",args:q,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},eC={kind:"ScalarField",name:"text"},eS=[eb,r],ey={kind:"ScalarField",name:"name"},eM={kind:"ScalarField",name:"mimeType"},ew={kind:"InlineFragment",selections:[r],type:"Node",abstractKey:"__isNode"},eI={kind:"ScalarField",name:"reaction"},ex=[{kind:"Literal",name:"first",value:5}],eT=[F],eB={kind:"ScalarField",name:"costBreakdown"},eL={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[d,x,O,r,P,B,A,N,R,Z,I,J]},eD={concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[m,r]},{fragment:{argumentDefinitions:t,kind:"Fragment",name:"useProcessCanvasActionsFromOptimisticCanvasTabMutation",selections:[{args:i,concreteType:"ProcessActionsFromOptimisticCanvasTab",kind:"LinkedField",name:"processActionsFromOptimisticCanvasTab",plural:!1,selections:[s,{kind:"LinkedField",name:"canvasTab",plural:!1,selections:[r,l,{kind:"FragmentSpread",name:"CanvasTab_canvasTab"},{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useNavigateFromOptimisticChatToRealChat_chat",selections:[o,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:c},{kind:"FragmentSpread",name:"ChatPageColumn_chat"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_newChatUpdater_chat",selections:[r,m,o,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[u]}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_handleOptimisticTabInNewChat_chat",selections:[r,{kind:"InlineDataFragmentSpread",name:"sendMessage_areSameCanvasTab_chat",selections:[{args:g,concreteType:"CanvasTabConnection",kind:"LinkedField",name:"canvasTabsConnection",plural:!1,selections:[{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[p,r]}]}],storageKey:"canvasTabsConnection(first:2)"}],argumentDefinitions:[]},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[r,{kind:"InlineDataFragmentSpread",name:"sendMessage_areSameCanvasTab_canvasTab",selections:[p,h],argumentDefinitions:[]}]},f],argumentDefinitions:[]}],argumentDefinitions:[]}]}]},_]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"useProcessCanvasActionsFromOptimisticCanvasTabMutation",selections:[{args:i,concreteType:"ProcessActionsFromOptimisticCanvasTab",kind:"LinkedField",name:"processActionsFromOptimisticCanvasTab",plural:!1,selections:[s,{kind:"LinkedField",name:"canvasTab",plural:!1,selections:[p,r,l,b,F,y,M,w,{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[o,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[d,r,I,u,{kind:"ScalarField",name:"introduction"},x,T,{kind:"ScalarField",name:"isTrustedBot"},B,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[S,v,C]},L,D,j,P,A,N,R,O,Z,H,V,G,K,{kind:"ScalarField",name:"botCategory"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"followerCount"},{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"model"},{kind:"ScalarField",name:"uploadFileSizeLimit"},{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},{kind:"ScalarField",name:"conversationStarters"},W,{kind:"ScalarField",name:"monthlyActiveUsers"},Q,Y,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingLabel"}]},{kind:"ScalarField",name:"description"},X,ee,{kind:"ScalarField",name:"shouldHide"},{kind:"ScalarField",name:"isOfficialBot"},{alias:"smallPicture",args:q,kind:"LinkedField",name:"picture",plural:!1,selections:U,storageKey:'picture(size:"small")'},J]},r,z,F,{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[p,r,ea,b,F,l,y,M,w,{kind:"InlineFragment",selections:[d,en,et],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[ei,es,er,et,{kind:"InlineFragment",selections:[J],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"}],type:"MessageCanvasTab"},J]},m,{kind:"ScalarField",name:"canvasTabsCount"},eo,{concreteType:"Chat",kind:"LinkedField",name:"scriptTestSourceChat",plural:!1,selections:[eo,F,o,m,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[d,r]},r,p]},{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:ed},{kind:"ScalarField",name:"shouldBotAutoRespond"},ec,{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[em,ea,r,eu,{kind:"ClientExtension",selections:[k,eg]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[H,I,r,V,D,G,K,R,d,x,O]}]},{concreteType:"Message",kind:"LinkedField",name:"lastMessageSeenByAllOtherMembers",plural:!1,selections:ed},{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[ep,{kind:"ScalarField",name:"viewerCanCancel"},r]},{args:g,concreteType:"CanvasTabConnection",kind:"LinkedField",name:"canvasTabsConnection",plural:!1,selections:[{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[p,b,r,ea,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[v,C]},{kind:"InlineFragment",selections:[ei,es,{kind:"InlineFragment",selections:[F,l,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[S]},M,w,eh,{kind:"InlineFragment",selections:[er,f],type:"MessageCanvasTab"},J],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"},f],type:"MessageCanvasTab"},h]},ek,r]},ef,r],storageKey:"canvasTabsConnection(first:2)"},{args:g,handle:"connection",key:"CanvasTabSelector_canvasTabsConnection",kind:"LinkedHandle",name:"canvasTabsConnection"},{args:e_,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[em,{kind:"ScalarField",name:"isChatAnnouncement"},r,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[eb,r,$,I,eF,z,ev,J]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[d,r,L,D,I,j,x,P,B,A,N,R,O,Z,J]},ei,ec,eC,ea,M,{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},v,{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:eS},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[r,{kind:"ScalarField",name:"attachmentId"},ey,E,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[eM,r,{kind:"ScalarField",name:"size"}]},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},E,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"InlineFragment",selections:[f],type:"MessageAttachment"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"},f]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[p,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[ei,eC,z,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[P,B,A,N,R,O,Z,I,r,J]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[r,eb,I,$,eF,z,ev,J]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[ey,E,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[eM,r]}],type:"Attachment",abstractKey:"__isAttachment"},r]}],type:"Message"},ew]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[ea,r,ep]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[eI,{kind:"ScalarField",name:"count"},r]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:eS},{kind:"ScalarField",name:"hasCitations"},eu,{args:ex,concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[eI,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[eb,$,el,{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},r]},r,p]},ek,r]},ef],storageKey:"reactionsConnection(first:5)"},{args:ex,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},p,{kind:"ClientExtension",selections:[k,eg,{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"clientMessageStateText"}]},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[z],type:"Message"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},J]},r,ek]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},r],storageKey:"messagesConnection(last:12)"},{args:e_,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"LinkedField",name:"displayedChatModal",plural:!1,selections:[p,{kind:"InlineFragment",selections:[m,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[I,P,B,A,N,R,O,Z,r,J]},{kind:"LinkedField",name:"budgetIncreaseRequester",plural:!1,selections:[p,{kind:"InlineFragment",selections:[I],type:"Bot"},{kind:"InlineFragment",selections:eT,type:"MessageCanvasTab"},{kind:"InlineFragment",selections:eT,type:"BotCanvasTab"},ew]},{kind:"ScalarField",name:"applicablePointPriceThreshold"},{kind:"ScalarField",name:"totalRequestAmount"},ei,eB,{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"messagePointBalance"},r]}],type:"CostThresholdUpdateChatModal"},{kind:"InlineFragment",selections:[m,eL,eD,ec],type:"PaywallChatModal"},{kind:"InlineFragment",selections:[m,eL,eD,ec,ej={kind:"ScalarField",name:"messageCostAmount"},eB],type:"PointLimitPaywallChatModal"},{kind:"InlineFragment",selections:[m,ec,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[P,B,A,N,R,O,Z,I,r,d,x,J]},ej,eB],type:"SubscriberPointLimitChatModal"},{kind:"InlineFragment",selections:[eD,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[d,r,X,R,O,Z,I,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingType"},{kind:"ScalarField",name:"standardMessagePrice"}]},B,Q,Y]},{kind:"ScalarField",name:"isPrivateDeletedBotsChangesEnabled"}],type:"AddBotChatModal"},ew]},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"ScalarField",name:"membersCount"},{args:g,concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[p,{kind:"InlineFragment",selections:[eb,$,ev],type:"PoeUser"},r]},r]}],storageKey:"userMembersConnection(first:2)"},f,J]},eh,{kind:"InlineFragment",selections:[ei,es,er,f],type:"MessageCanvasTab"},J]},_]}]},params:{id:"acb7bf69fd860fb975d441585bacda6e5ac976792e3f1fb5a88da62be2c267ae",metadata:{},name:"useProcessCanvasActionsFromOptimisticCanvasTabMutation",operationKind:"mutation",text:null}});eP.hash="6ca6318dd75ec070f582f67ff4f88721",a.default=eP},65554:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"useProcessCanvasActions_canvasTab",selections:[{kind:"FragmentSpread",name:"useIsCanvasTabOptimistic_canvasTab"},{kind:"InlineDataFragmentSpread",name:"useOptimisticCanvasTabInput_canvasTab",selections:[{kind:"ScalarField",name:"__typename"},t={kind:"ScalarField",name:"clientNonce"},{kind:"InlineFragment",selections:[{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"}]}],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[{concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[{kind:"ScalarField",name:"messageId"}]},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[{kind:"ScalarField",name:"content"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"language"}]},{kind:"ScalarField",name:"codeblockIndex"}],type:"MessageCanvasTab"}],argumentDefinitions:[]},{kind:"ScalarField",name:"globalId"},t],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"};i.hash="511fc41df4d3a119af41ff06eff4d640",a.default=i},80055:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useProcessCanvasActions_chat",selections:[{kind:"ScalarField",name:"id"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};t.hash="ef96e69704cf23c50216d900236d9ff4",a.default=t},86613:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useProcessCanvasActions_viewer",selections:[{kind:"FragmentSpread",name:"usePreviewIframeUrl_viewer"}],type:"Viewer"};t.hash="bb0807e4ad2d74ae7654c555a3017875",a.default=t},65304:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"useSendMessageFromPreviewOptimisticChat_bot"};t.hash="7d90a0cfd17beae92e6e9bbd0c136c72",a.default=t},55735:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"useSendMessageFromPreview_bot"};t.hash="9545ec8c5d9dd69d9276b2bd63e2fca4",a.default=t},40870:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"useSendMessageFromPreview_chat"};t.hash="372ab98802a7058183f043fb03a09a34",a.default=t},13746:function(e,a,n){"use strict";var t,i,s,r,l,o,d;n.r(a);let c={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],kind:"Fragment",name:"useSendMessageFromPreview_optimisticChatQuery",selections:[{kind:"ClientExtension",selections:[{args:i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[s={kind:"ScalarField",name:"id"},r={kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[s,l={kind:"ScalarField",name:"handle"}]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:[s],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[s,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[o={kind:"ScalarField",name:"hasMarkdownRendering"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"ClientExtension",selections:[d={kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]}]}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"useSendMessageFromPreview_optimisticChatQuery",selections:[{kind:"ClientExtension",selections:[{args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[s,r,d,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[s,l,o]}]}]}]},params:{cacheID:"0953389618f59ba9a826244d4d6db284",id:null,metadata:{},name:"useSendMessageFromPreview_optimisticChatQuery",operationKind:"query",text:null}};c.hash="e1f9142f9e73938b9b5c431161e974a2",a.default=c},940:function(e,a,n){"use strict";n.r(a);let t={kind:"InlineDataFragment",name:"useSendMessageFromPreview_viewer"};t.hash="c296b2776d82a112ae710013af37cac5",a.default=t},64773:function(e,a,n){"use strict";var t,i,s,r,l;n.r(a);let o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"index"},{defaultValue:null,kind:"LocalArgument",name:"messageId"}],kind:"Fragment",name:"useSharePreviewFromMessage_Mutation",selections:[{args:i=[{kind:"Variable",name:"indexOfPreviewInMessage",variableName:"index"},{kind:"Variable",name:"messageId",variableName:"messageId"},{kind:"Literal",name:"previewType",value:"codeblock"}],concreteType:"SharePreviewFromMessage",kind:"LinkedField",name:"sharePreviewFromMessage",plural:!1,selections:[s={kind:"ScalarField",name:"status"},r={kind:"ScalarField",name:"statusMessage"},{concreteType:"SharedPreview",kind:"LinkedField",name:"sharedPreview",plural:!1,selections:[l={kind:"ScalarField",name:"shareUrl"}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"useSharePreviewFromMessage_Mutation",selections:[{args:i,concreteType:"SharePreviewFromMessage",kind:"LinkedField",name:"sharePreviewFromMessage",plural:!1,selections:[s,r,{concreteType:"SharedPreview",kind:"LinkedField",name:"sharedPreview",plural:!1,selections:[l,{kind:"ScalarField",name:"id"}]}]}]},params:{id:"56d6f245645427d368357d32dd444af37edaca497aa15219364864d0de495d41",metadata:{},name:"useSharePreviewFromMessage_Mutation",operationKind:"mutation",text:null}};o.hash="406814769300afdac60c3b629580a014",a.default=o},29203:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"useShouldShowPublishModal_chat",selections:[{kind:"ScalarField",name:"chatId"},{concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[t={kind:"ScalarField",name:"botId"},{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{kind:"ScalarField",name:"viewerIsUser"}]}]},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t]}],type:"Chat"};i.hash="aa753a140365efeed64ac4313a2520d4",a.default=i},50654:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useSupportedPreviewContentTypes_root",selections:[{kind:"ScalarField",name:"supportedPreviewsContentTypes"}],type:"QueryRoot"};t.hash="31c023c8bd89011c746a0c428f8adc2b",a.default=t},27300:function(e,a,n){"use strict";var t,i,s,r;n.r(a);let l={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"chatId"},i={defaultValue:null,kind:"LocalArgument",name:"tabNodeId"}],kind:"Fragment",name:"useSwitchToCanvasTabMutation",selections:[{args:s=[{kind:"Variable",name:"chatId",variableName:"chatId"},{kind:"Variable",name:"tabNodeId",variableName:"tabNodeId"}],concreteType:"PutCanvasTabInForeground",kind:"LinkedField",name:"putCanvasTabInForeground",plural:!1,selections:[{kind:"LinkedField",name:"canvasTab",plural:!1,selections:[r={kind:"ScalarField",name:"state"}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:[i,t],kind:"Operation",name:"useSwitchToCanvasTabMutation",selections:[{args:s,concreteType:"PutCanvasTabInForeground",kind:"LinkedField",name:"putCanvasTabInForeground",plural:!1,selections:[{kind:"LinkedField",name:"canvasTab",plural:!1,selections:[{kind:"ScalarField",name:"__typename"},r,{kind:"ScalarField",name:"id"}]}]}]},params:{id:"26a90d53ea6b36f8deeec09cfcfbb4f5469f95fdab409dd2d55fcbbd2f519355",metadata:{},name:"useSwitchToCanvasTabMutation",operationKind:"mutation",text:null}};l.hash="b145f40a7db5403907827b6c81eab3a1",a.default=l},42608:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"useSwitchToCanvasTab_canvasTab",selections:[t={kind:"ScalarField",name:"id"},{kind:"InlineDataFragmentSpread",name:"optimisticCanvasTabHelpers_setActiveCanvasTabUsingRelayKey_canvasTab",selections:[t,{kind:"FragmentSpread",name:"CanvasTab_canvasTab"}],argumentDefinitions:[]}],type:"MessageCanvasTab"};i.hash="8bf7c2ce22761fbacf8fbfd358be4c4f",a.default=i},79699:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useSwitchToCanvasTab_chat",selections:[{kind:"ScalarField",name:"chatId"},{kind:"InlineDataFragmentSpread",name:"optimisticCanvasTabHelpers_setActiveCanvasTabUsingRelayKey_chat",selections:[{kind:"ScalarField",name:"id"}],argumentDefinitions:[]}],type:"Chat"};t.hash="201a4f4a52073c61e6b8a8343c5dd9b5",a.default=t},62874:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useUpdateCanvasBotConfirmationModal_bot",selections:[{kind:"ScalarField",name:"botId"}],type:"Bot"};t.hash="83db4fc4d658e270eca0366348c8a080",a.default=t},90629:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useUpdateCanvasBotConfirmationModal_canvasTab",selections:[{kind:"ScalarField",name:"id"}],type:"MessageCanvasTab"};t.hash="dc5ab51c22d78811988c7b631b820089",a.default=t},20660:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useUpdateCanvasBotConfirmationModal_chat",selections:[{kind:"ScalarField",name:"chatId"}],type:"Chat"};t.hash="b626bd040b3f241302bdee6e5ebfb164",a.default=t},97957:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"useViewerCanCancelJobs_chat",selections:[{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[{kind:"ScalarField",name:"jobId"},{kind:"ScalarField",name:"viewerCanCancel"}]}],type:"Chat"};t.hash="fd90ce0170acf227b51313f51c5c2474",a.default=t},12422:function(e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"createAsyncLocalStorage",{enumerable:!0,get:function(){return createAsyncLocalStorage}});let n=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");let FakeAsyncLocalStorage=class FakeAsyncLocalStorage{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}};let t=globalThis.AsyncLocalStorage;function createAsyncLocalStorage(){return t?new t:new FakeAsyncLocalStorage}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},88427:function(e,a,n){"use strict";function clientHookInServerComponentError(e){}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"clientHookInServerComponentError",{enumerable:!0,get:function(){return clientHookInServerComponentError}}),n(38754),n(67294),("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},30636:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var n in a)Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}(a,{ReadonlyURLSearchParams:function(){return ReadonlyURLSearchParams},useSearchParams:function(){return useSearchParams},usePathname:function(){return usePathname},ServerInsertedHTMLContext:function(){return o.ServerInsertedHTMLContext},useServerInsertedHTML:function(){return o.useServerInsertedHTML},useRouter:function(){return useRouter},useParams:function(){return useParams},useSelectedLayoutSegments:function(){return useSelectedLayoutSegments},useSelectedLayoutSegment:function(){return useSelectedLayoutSegment},redirect:function(){return d.redirect},permanentRedirect:function(){return d.permanentRedirect},RedirectType:function(){return d.RedirectType},notFound:function(){return c.notFound}});let t=n(67294),i=n(89031),s=n(11593),r=n(88427),l=n(6160),o=n(30252),d=n(37866),c=n(49363),m=Symbol("internal for urlsearchparams readonly");function readonlyURLSearchParamsError(){return Error("ReadonlyURLSearchParams cannot be modified")}let ReadonlyURLSearchParams=class ReadonlyURLSearchParams{[Symbol.iterator](){return this[m][Symbol.iterator]()}append(){throw readonlyURLSearchParamsError()}delete(){throw readonlyURLSearchParamsError()}set(){throw readonlyURLSearchParamsError()}sort(){throw readonlyURLSearchParamsError()}constructor(e){this[m]=e,this.entries=e.entries.bind(e),this.forEach=e.forEach.bind(e),this.get=e.get.bind(e),this.getAll=e.getAll.bind(e),this.has=e.has.bind(e),this.keys=e.keys.bind(e),this.values=e.values.bind(e),this.toString=e.toString.bind(e),this.size=e.size}};function useSearchParams(){(0,r.clientHookInServerComponentError)("useSearchParams");let e=(0,t.useContext)(s.SearchParamsContext),a=(0,t.useMemo)(()=>e?new ReadonlyURLSearchParams(e):null,[e]);return a}function usePathname(){return(0,r.clientHookInServerComponentError)("usePathname"),(0,t.useContext)(s.PathnameContext)}function useRouter(){(0,r.clientHookInServerComponentError)("useRouter");let e=(0,t.useContext)(i.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}function useParams(){(0,r.clientHookInServerComponentError)("useParams");let e=(0,t.useContext)(i.GlobalLayoutRouterContext),a=(0,t.useContext)(s.PathParamsContext);return(0,t.useMemo)(()=>(null==e?void 0:e.tree)?function getSelectedParams(e,a){void 0===a&&(a={});let n=e[1];for(let e of Object.values(n)){let n=e[0],t=Array.isArray(n),i=t?n[1]:n;if(!i||i.startsWith("__PAGE__"))continue;let s=t&&("c"===n[2]||"oc"===n[2]);s?a[n[0]]=n[1].split("/"):t&&(a[n[0]]=n[1]),a=getSelectedParams(e,a)}return a}(e.tree):a,[null==e?void 0:e.tree,a])}function useSelectedLayoutSegments(e){void 0===e&&(e="children"),(0,r.clientHookInServerComponentError)("useSelectedLayoutSegments");let{tree:a}=(0,t.useContext)(i.LayoutRouterContext);return function getSelectedLayoutSegmentPath(e,a,n,t){let i;if(void 0===n&&(n=!0),void 0===t&&(t=[]),n)i=e[1][a];else{var s;let a=e[1];i=null!=(s=a.children)?s:Object.values(a)[0]}if(!i)return t;let r=i[0],o=(0,l.getSegmentValue)(r);return!o||o.startsWith("__PAGE__")?t:(t.push(o),getSelectedLayoutSegmentPath(i,a,!1,t))}(a,e)}function useSelectedLayoutSegment(e){void 0===e&&(e="children"),(0,r.clientHookInServerComponentError)("useSelectedLayoutSegment");let a=useSelectedLayoutSegments(e);return 0===a.length?null:a[0]}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},49363:function(e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var n in a)Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}(a,{notFound:function(){return notFound},isNotFoundError:function(){return isNotFoundError}});let n="NEXT_NOT_FOUND";function notFound(){let e=Error(n);throw e.digest=n,e}function isNotFoundError(e){return(null==e?void 0:e.digest)===n}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},37866:function(e,a,n){"use strict";var t,i;Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var n in a)Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}(a,{RedirectType:function(){return t},getRedirectError:function(){return getRedirectError},redirect:function(){return redirect},permanentRedirect:function(){return permanentRedirect},isRedirectError:function(){return isRedirectError},getURLFromRedirectError:function(){return getURLFromRedirectError},getRedirectTypeFromError:function(){return getRedirectTypeFromError}});let s=n(23743),r="NEXT_REDIRECT";function getRedirectError(e,a,n){void 0===n&&(n=!1);let t=Error(r);t.digest=r+";"+a+";"+e+";"+n;let i=s.requestAsyncStorage.getStore();return i&&(t.mutableCookies=i.mutableCookies),t}function redirect(e,a){throw void 0===a&&(a="replace"),getRedirectError(e,a,!1)}function permanentRedirect(e,a){throw void 0===a&&(a="replace"),getRedirectError(e,a,!0)}function isRedirectError(e){if("string"!=typeof(null==e?void 0:e.digest))return!1;let[a,n,t,i]=e.digest.split(";",4);return a===r&&("replace"===n||"push"===n)&&"string"==typeof t&&("true"===i||"false"===i)}function getURLFromRedirectError(e){return isRedirectError(e)?e.digest.split(";",3)[2]:null}function getRedirectTypeFromError(e){if(!isRedirectError(e))throw Error("Not a redirect error");return e.digest.split(";",3)[1]}(i=t||(t={})).push="push",i.replace="replace",("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},23743:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"requestAsyncStorage",{enumerable:!0,get:function(){return i}});let t=n(12422),i=(0,t.createAsyncLocalStorage)();("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},6160:function(e,a){"use strict";function getSegmentValue(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"getSegmentValue",{enumerable:!0,get:function(){return getSegmentValue}}),("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},30252:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var n in a)Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}(a,{ServerInsertedHTMLContext:function(){return s},useServerInsertedHTML:function(){return useServerInsertedHTML}});let t=n(61757),i=t._(n(67294)),s=i.default.createContext(null);function useServerInsertedHTML(e){let a=(0,i.useContext)(s);a&&a(e)}},4118:function(e,a,n){"use strict";var t=n(85893),i=n(22120),s=n(22578),r=n(11803),l=n(77581),o=n(42093),d=n(12251),c=n(25917),m=n.n(c),u=n(52612),g=n(93581),p=n(24752);a.Z=e=>{let a,{bot:c,bold:h=!1,showLimitedAccess:k=!1,showTags:f=!1,linked:_=!1,botIconSize:b="md",onClick:F,className:v,openInNewTab:C=!1,showPrivateTag:S=!0}=e,y=(0,s.useFragment)(n(64528),c),{t:M}=(0,i.$G)(),{isDeleted:w}=(0,o.iZ)(y),I=k&&y.limitedAccessType!==u.Z.no_limit&&!y.shouldHideLimitedAccessTag;a=y.isPrivateBot&&!w&&S?M("Private"):I?M("Subscriber access"):y.description;let x=(0,o.dC)(y),T=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Z,{bot:y,size:b,hasBorder:!1}),(0,t.jsxs)("div",{className:m().textContainer,children:[(0,t.jsx)("p",{children:x}),a&&(0,t.jsx)("p",{className:m().subText,children:a}),f&&(0,t.jsx)(l.$,{className:m().tags,children:y.translatedBotTags.map((e,a)=>(0,t.jsx)(l.V,{label:e,className:m().tag},a))})]})]}),B=(0,d.$)(h?m().boldTitle:m().title,v);return(0,t.jsxs)(t.Fragment,{children:[_?(0,t.jsx)(p.Z,{className:B,bot:y,onClick:F,target:C?"_blank":void 0,children:T}):(0,t.jsx)("div",{className:B,onClick:F,children:T}),(0,t.jsx)(r.Z,{node:y})]})}},64869:function(e,a,n){"use strict";var t=n(85893);n(67294);var i=n(22578),s=n(4118),r=n(38033),l=n(9525),o=n.n(l);a.Z=e=>{let{bot:a,showPrivateTag:l=!0}=e,d=(0,i.useFragment)(n(32260),a),{isInReferencedMessage:c}=(0,r.Y)();return(0,t.jsx)("div",{className:o().wrapper,children:(0,t.jsx)(s.Z,{bot:d,botIconSize:"xx-sm",linked:!c,className:c?o().smallSemiboldText:void 0,openInNewTab:!0,showPrivateTag:l})})}},17552:function(e,a,n){"use strict";n.d(a,{B:function(){return getPreviewContentInput}});var t=n(84638),i=n(65604);function getPreviewContentInput(e,a){let n=i.Z.html;return a===t.Z.react?n=i.Z.tsx:a===t.Z.svg?n=i.Z.svg:a===t.Z.html&&(n=i.Z.html),{content:e,contentType:a,language:n}}},96225:function(e,a,n){"use strict";n.d(a,{Ec:function(){return appCreatorEditAppChatCreated},Ji:function(){return appCreatorBuildCanvasAppWithBot},Ne:function(){return scriptCreatorEditScriptBotChatCreated},WI:function(){return scriptCreatorBuildScriptWithBot},og:function(){return botCreated},zn:function(){return botEdited}});var t=n(63758),i=n(1528);let s="editBotInChatCreated",r="buildBotInNewChatWithBot";function botCreated(e,a,n){postMessage({messageName:"botCreated",displayName:e,statusMessage:a,isCanvasOnlyBot:n})}function botEdited(e,a){postMessage({messageName:"botEdited",displayName:e,statusMessage:a})}function postMessage(e){var a,n;let t=window.PoeAndroid,i=null===(n=window.webkit)||void 0===n?void 0:null===(a=n.messageHandlers)||void 0===a?void 0:a.PoeIOS;if(t){let a=JSON.stringify(e);t.postMessage(a)}else i&&i.postMessage(e)}function appCreatorEditAppChatCreated(e,a){postMessage({messageName:"appCreatorEditAppChatCreated",chatId:e,displayName:a}),postMessage({messageName:s,chatId:e,displayName:a})}function appCreatorBuildCanvasAppWithBot(e){let a=e?t.BS:t.Lg,n={messageName:"appCreatorBuildCanvasAppWithBot",botId:a,displayName:t.a};postMessage(n);let i={messageName:r,botId:a,displayName:t.a};postMessage(i)}function scriptCreatorEditScriptBotChatCreated(e,a){postMessage({messageName:"appCreatorEditAppChatCreated",chatId:e,displayName:a}),postMessage({messageName:s,chatId:e,displayName:a})}function scriptCreatorBuildScriptWithBot(){let e={messageName:"appCreatorBuildCanvasAppWithBot",botId:i.sg,displayName:i.Nm};postMessage(e);let a={messageName:r,botId:i.sg,displayName:i.Nm};postMessage(a)}},95578:function(e,a,n){"use strict";n.d(a,{Z:function(){return chat_ChatHeader}});var t,i,s=n(85893),r=n(41143),l=n.n(r),o=n(67294),d=n(22120),c=n(22578),m=n(28882),u=n(46796),g=n(42093),p=n(66335),chat_ChatMembersDisplayText=e=>{var a,t,i,r;let{chat:o,bot:m,viewer:h,className:k}=e;l()(o||m,"Either chat or bot must be passed in");let f=(0,c.useFragment)(n(56318),o),_=(0,c.useFragment)(n(77309),(null==f?void 0:f.defaultBotObject)||m),b=(0,c.useFragment)(n(61219),h),F=null==b?void 0:b.uid,{t:v}=(0,d.$G)(),C=(0,g.dC)(_),S=null!==(r=null==f?void 0:f.membersCount)&&void 0!==r?r:0,y=(0,p.K)(),M=(0,u.Z)(f),w=null==f?void 0:null===(i=f.userMembersConnection)||void 0===i?void 0:null===(t=i.edges)||void 0===t?void 0:null===(a=t.find(e=>{var a;return(null==e?void 0:null===(a=e.node)||void 0===a?void 0:a.__typename)==="PoeUser"&&e.node.uid!==F}))||void 0===a?void 0:a.node,I=(null==w?void 0:w.__typename)==="PoeUser"?w.fullName:void 0,x=S-3,T=M&&I?"".concat(I,", ").concat(C):void 0,B=M&&x>0?v("chatMembersDisplayText",{count:x,highlightedChatMemberNamesText:T,defaultValue:"{{highlightedChatMemberNamesText}} and {{count}} others",defaultValue_one:"{{highlightedChatMemberNamesText}} and {{count}} other",defaultValue_zero:"{{highlightedChatMemberNamesText}}"}):T,L=y?v("chatAppMembersDisplayText",{count:S-2,displayName:C,defaultValue:"{{displayName}} and {{count}} more"}):v("chatBotMembersDisplayText",{count:S-2,displayName:C,defaultValue:"{{displayName}} and {{count}} bots",defaultValue_one:"{{displayName}} and {{count}} bot"}),D=S>2?L:C;return(0,s.jsx)("p",{className:k,"data-testid":"chat-members-display-text",children:M&&I?B:D})},h=n(8724),k=n(32084),f=n(54344),_=n(22641),b=n(12251),F=n(68374),v=n(6940),C=n(19424),S=n.n(C);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var shieldFilled=function(e){return o.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12.023 2.5a.997.997 0 0 1 .809.445c.675 1.012 1.522 1.71 2.547 2.13.861.352 1.866.283 3.122-.441A1 1 0 0 1 20 5.5v9c0 .116-.02.23-.059.339a8.857 8.857 0 0 1-2.811 3.938c-1.266 1.026-2.863 1.905-4.763 2.653a.998.998 0 0 1-.733 0c-1.9-.748-3.497-1.628-4.763-2.653a8.857 8.857 0 0 1-2.811-3.938A.98.98 0 0 1 4 14.5v-9a1 1 0 0 1 1.459-.888c1.405.726 2.413.776 3.155.466.916-.383 1.781-1.083 2.58-2.17.194-.263.503-.415.829-.408Z"})))};function shieldHalfFilled_extends(){return(shieldHalfFilled_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var shieldHalfFilled=function(e){return o.createElement("svg",shieldHalfFilled_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12.023 2.5a.997.997 0 0 1 .809.445c.675 1.012 1.522 1.71 2.547 2.13.861.352 1.866.283 3.122-.441A1 1 0 0 1 20 5.5v9c0 .116-.02.23-.059.339a8.857 8.857 0 0 1-2.811 3.938c-1.266 1.026-2.863 1.905-4.763 2.653a.998.998 0 0 1-.733 0c-1.9-.748-3.497-1.628-4.763-2.653a8.857 8.857 0 0 1-2.811-3.938A.98.98 0 0 1 4 14.5v-9a1 1 0 0 1 1.459-.888c1.405.726 2.413.776 3.155.466.916-.383 1.781-1.083 2.58-2.17.194-.263.503-.415.829-.408ZM12 19.422c1.595-.658 2.878-1.395 3.871-2.199A6.863 6.863 0 0 0 18 14.32V7.032c-1.141.353-2.279.343-3.379-.107a7.366 7.366 0 0 1-2.643-1.838L12 19.422Z"})))},y=n(72772),M=n.n(y),bot_PrivateMessageIcon=e=>{let{bot:a,hasDescription:t=!1}=e,{isTrustedBot:i}=(0,c.useFragment)(n(13243),a),r=t?M().shieldIconHasDescription:M().shieldIcon;return(0,s.jsx)("div",{className:M().shieldContainer,children:i?(0,s.jsx)(shieldFilled,{className:r}):(0,s.jsx)(shieldHalfFilled,{className:r})})},w=n(11803);let importChatSettingsModal=()=>Promise.all([n.e(665),n.e(7604),n.e(9536)]).then(n.bind(n,72895)),ChatHeaderTitleAndSettingSubscriber=e=>{let{chat:a}=e,{chatId:t}=(0,c.useFragment)(n(56025),a);return(0,v.$3)(t),(0,v.up)(t),null};var chat_ChatHeader=e=>{var a;let{chat:t,bot:i,viewer:r}=e;l()(t||i,"Either chat or bot must be passed in");let u=(0,c.useFragment)(n(73553),null!=t?t:null),g=(0,c.useFragment)(n(65282),(null==u?void 0:u.defaultBotObject)||i);l()(g,"Whether botData comes from the chat or is passed in, it must be available.");let p=(0,c.useFragment)(n(77611),r),v=null==p?void 0:p.enablePrivacyShieldUpdates,{isLoggedInUser:C}=(0,f.b)(),{t:y}=(0,d.$G)(),[M,I]=(0,o.useState)(!1),x=(0,o.useCallback)(()=>{I(!0)},[]),T=(0,o.useCallback)(()=>{(0,F.nL)(F.wy.ChatHeaderModalClosed),I(!1)},[]),B=(0,o.useMemo)(()=>u?u.isOptimistic?{optimisticChatId:u.id,closeModal:T}:{chatId:u.chatId,closeModal:T}:{chatId:0,closeModal:T},[u,T]),L=(0,o.useMemo)(()=>v||!g.canUserAccessBot?null:u?(0,s.jsx)(h.S,{chat:u,hasDescription:!1}):(0,s.jsx)(bot_PrivateMessageIcon,{bot:g}),[u,g,v]),D=C&&u;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:D?(0,b.$)(S().boldTitle,S().clickable):S().boldTitle,...D&&{onClick:x},children:[(0,s.jsx)("div",{className:S().membersImage,children:(0,s.jsx)("div",{children:(0,s.jsx)(m.Z,{chat:u,bot:g,viewer:p})})}),(0,s.jsxs)("div",{className:S().overflow,children:[(0,s.jsx)("p",{className:(0,b.$)(S().overflow,S().textOverflow),children:(0,k.U)(null==u?void 0:u.title,null!==(a=null==u?void 0:u.hasMultipleUsers)&&void 0!==a&&a,y)}),(0,s.jsxs)("div",{className:S().subTextContainer,children:[L,(0,s.jsx)(chat_ChatMembersDisplayText,{chat:u,bot:g,viewer:p,className:S().subText})]})]})]}),u&&(0,s.jsx)(w.Z,{node:u}),(0,s.jsx)(_.Z,{isOpen:M,onRequestClose:T,body:importChatSettingsModal,bodyProps:B,modalHeight:400,useMinHeight:!0,useIncreasedHeightInCompactScreen:!0}),u&&!u.isOptimistic&&(0,s.jsx)(ChatHeaderTitleAndSettingSubscriber,{chat:u})]})}},97482:function(e,a,n){"use strict";n.d(a,{Z:function(){return chat_ChatMainNavbar}});var t=n(85893),i=n(1250),s=n(94370),r=n(67172),l=n(67294),o=n(22120),d=n(22578),c=n(67872),m=n.n(c),bot_BotDownBanner=()=>{let{t:e}=(0,o.$G)();return(0,t.jsx)("div",{className:m().botDownBanner,children:e("This bot is currently down.")})},u=n(54344),g=n(5402),p=n(50241),h=n(22641),k=n(78410),f=n(8583),_=n(39620),b=n(27382),F=n(12251),v=n(9729),C=n(18462),S=n(15601),y=n(22560),M=n.n(y),w=n(95582),I=n(30038),x=n(36803),T=n(79399),B=n(4909),L=n(34389),D=n(10484),j=n.n(D),chat_ChatOfflineBanner=()=>{let{t:e}=(0,o.$G)();return(0,t.jsx)("div",{className:j().offlineBanner,children:e("You are offline.")})},P=n(42093),A=n(48965),N=n.n(A),R=n(48976),O=n(36777),chat_ChatPageNavActionBar=e=>{let{bot:a}=e,i=(0,d.useFragment)(n(84100),a),{isDeleted:s}=(0,P.iZ)(i);return i.isCreatedByPoeUserAccount||i.viewerIsFollower||s||i.isPrivateBot?null:(0,t.jsxs)("div",{className:N().container,children:[(0,t.jsx)(R.Z,{bot:i,theme:"ghost"}),(0,t.jsx)(O.Z,{bot:i,theme:"ghost"})]})},E=n(41384),U=n.n(E);let NewChatNavButton=e=>{let a=(0,d.useFragment)(n(25531),e.bot),{t:i}=(0,o.$G)(),c=(0,l.useCallback)(()=>{(0,v.Z)("poe/action_log",{action_type:I.Z.new_chat_open,bot_id:a.botId,action_metadata:{context:w.Z.nav_bar}})},[a]),[m,u]=(0,l.useState)(null),g=(0,L.C)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Z,{as:"a",isDisabled:e.disabled,href:"/".concat(encodeURIComponent(a.handle)),onClick:c,iconLeft:(0,t.jsx)(s.l3,{}),theme:"ghost",size:"sm",className:U().noWrap,showIconOnly:g?"always":"compact-below",ref:u,children:i("New chat")}),(0,t.jsx)(r.u,{anchorRef:m,label:i("New chat"),placement:"top"})]})},importShareBotOrChatModal=()=>Promise.all([n.e(665),n.e(971)]).then(n.bind(n,80971));var chat_ChatPageNavbar=e=>{let{bot:a,chat:i,children:c,viewer:m,toggleSidebarButton:y,useChatTitle:D=!1,hideActionBar:j=!1}=e,P=(0,d.useFragment)(n(75128),a),A=(0,d.useFragment)(n(94079),m),N=(0,d.useFragment)(n(4813),null!=i?i:null),R=(0,S.Z)(),{t:O}=(0,o.$G)(),[E,U]=(0,l.useState)(!1),Z=(0,f.ZP)(),H=(0,l.useCallback)(()=>{U(!1)},[]),V=(0,l.useMemo)(()=>({botId:P.botId,chatId:(null==N?void 0:N.isOptimistic)?void 0:null==N?void 0:N.chatId,viewer:A,closeModal:H}),[P,N,A,H]),{selectionMode:G,setSelectionMode:K,clearSelection:W}=(0,C.ZP)(),z=(0,l.useCallback)(()=>{K(C.oW.none),W()},[K,W]),q=(0,l.useMemo)(()=>G===C.oW.none?y||(0,t.jsx)(T.Z,{viewer:A}):(0,t.jsx)(B.t9,{className:M().endSelectionButton,onClick:z,children:(0,t.jsx)(_.Z,{className:M().closeIcon})}),[G,z,y,A]),{isLoggedInUser:$}=(0,u.b)(),J=(0,l.useCallback)(async()=>{$?(U(!0),(0,v.Z)("poe/action_log",{action_type:I.Z.share_button_click,bot_id:P.botId,chat_id:null==N?void 0:N.chatId,action_metadata:{context:w.Z.nav_bar}})):await (0,b.n9)(window.location.href,!0)?Z({content:(0,t.jsx)("p",{children:O("Copied link to clipboard.")}),type:f.pC.success}):Z({content:(0,t.jsx)("p",{children:O("Failed to copy link to clipboard.")}),type:f.pC.error})},[P.botId,null==N?void 0:N.chatId,$,Z,O]),Q=!$,[Y,X]=(0,l.useState)(null),ee=(0,L.C)(),ea=(0,l.useMemo)(()=>(0,t.jsx)("span",{className:(0,F.$)(M().rightNavItemWrapper),children:G===C.oW.none&&(0,t.jsxs)(t.Fragment,{children:[Q?null:(0,t.jsx)(NewChatNavButton,{bot:P,disabled:(null==N?void 0:N.isOptimistic)||!1,hideText:Q}),(0,t.jsx)(k.Z,{as:"button",iconLeft:(0,t.jsx)(s.MS,{}),onClick:J,theme:"ghost",size:"sm",showIconOnly:ee?"always":"compact-below",ref:X,children:O("Share")}),(0,t.jsx)(r.u,{anchorRef:Y,label:O("Share"),placement:"top"}),Q&&(0,t.jsx)(g.M,{className:M().signUpButton,signupWallTriggerSource:p.dh.navBarSignupButton})]})}),[G,Q,P,null==N?void 0:N.isOptimistic,O,J,Y,ee]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{leftNavItem:q,rightNavItem:ea,useChatTitle:D,children:c}),!j&&(0,t.jsx)(chat_ChatPageNavActionBar,{bot:P}),R&&(0,t.jsx)(chat_ChatOfflineBanner,{}),P.isDown&&(0,t.jsx)(bot_BotDownBanner,{}),(0,t.jsx)(h.Z,{isOpen:E,onRequestClose:H,body:importShareBotOrChatModal,bodyProps:V,variant:"compact"})]})},chat_ChatMainNavbar=e=>(0,t.jsx)(chat_ChatPageNavbar,{toggleSidebarButton:(0,t.jsx)(i.Z,{viewer:e.viewer}),hideActionBar:!0,...e})},25025:function(e,a,n){"use strict";n.d(a,{h:function(){return ChatPageColumn}});var t,i,s,r,l,o,d,c,m,u=n(85893),g=n(67294),p=n(22578),h=n(44311),k=n(95578),f=n(97482),_=n(12251),b=n(46297),F=n.n(b);let ChatMessagesScrollWrapper=e=>{let{children:a,startAtTop:n,scrollRootElementProps:t}=e;return(0,u.jsx)("div",{className:F().overflowHiddenWrapper,children:(0,u.jsx)("div",{className:(0,_.$)(F().scrollableContainerWrapper,n&&F().startAtTop),...t,children:a})})};var v=n(31657),C=n(13525),S=n(28937),y=n(52069),M=n(73331);let refetchFn=(e,a)=>{(0,h.fetchQuery)(e,n(82863),{id:a},{fetchPolicy:"network-only"}).toPromise().catch(M.H)},optimisticLastMessageExists=e=>!!(null==e?void 0:e.startsWith("Optimistic-")),useCheckLastMessageAndRefetch=(e,a,t)=>{let i=(0,p.useRelayEnvironment)(),s=(0,g.useCallback)(refetchFn,[t]),r=(0,g.useCallback)((r,l)=>{let{chatId:o,id:d,isOptimistic:c,lastMessage:m}=(0,h.readInlineData)(n(89371),e);if(c)return;let onComplete=e=>{(null==a?void 0:a(null==m?void 0:m.id,e,r))&&(t?t():s(i,d))};if(l){onComplete(l);return}(0,h.fetchQuery)(i,n(10607),{chatId:o}).subscribe({next:e=>{var a;let{chat:n}=e;onComplete(null===(a=n.lastMessage)||void 0===a?void 0:a.id)}})},[e,i,t,s,a]);return[r]};var w=n(53236),I=n(4095),x=n(55757),T=n(9729),B=n(41149),L=n(6940),D=n(85419),j=n(80805),P=n(70554),A=n.n(P),N=n(31910),R=n(22120),O=n(80010),E=n(39752),U=n(41143),Z=n.n(U),H=n(46796),V=n(41578),poeJob_useChatHasActiveJobs=e=>{let a=(0,p.useFragment)(n(50989),e);return a.activeJobs&&a.activeJobs.length>0},G=n(72722),K=n(79740),W=n.n(K),message_useIsViewerMessageCreator=(e,a)=>{var t;let{authorUser:i,isOptimistic:s,responsibleJob:r}=(0,p.useFragment)(n(49953),e),{uid:l}=(0,p.useFragment)(n(4001),a);return(null==i?void 0:i.uid)===l||s||(null==r?void 0:null===(t=r.creator)||void 0===t?void 0:t.uid)===l};let returnsMessageCreateStatus=e=>{let{message:a}=e,t=(0,p.readInlineData)(n(30675),a);return(0,I.Q1)(t)},readMessageCreateStatus=e=>{let{createStatus:a,...t}=(0,p.readInlineData)(n(34798),e);return returnsMessageCreateStatus({message:t})?a:null};var z=n(16527),q=n.n(z),$=n(83193),J=n(69388),Q=n(67172),Y=n(4909),X=n(75014);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var redo=function(e){return g.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=g.createElement("path",{d:"M22.33 9.92a.973.973 0 0 0-.71-.29 1 1 0 0 0-.71.3l-.99 1.01a8.746 8.746 0 0 0-8.68-7.7C6.42 3.25 2.5 7.17 2.5 12s3.92 8.75 8.75 8.75c2.34 0 4.53-.91 6.19-2.56a.99.99 0 0 0 .29-.71.99.99 0 0 0-1-1c-.27 0-.52.1-.71.29a6.736 6.736 0 0 1-4.77 1.98c-3.72 0-6.75-3.03-6.75-6.75s3.03-6.75 6.75-6.75c3.35 0 6.15 2.46 6.66 5.7l-1.05-1.02c-.39-.38-1.03-.38-1.42.02-.38.39-.37 1.03.02 1.41l2.79 2.71c.38.37 1.04.36 1.41-.02l2.68-2.73a.99.99 0 0 0 .29-.71c0-.25-.1-.5-.3-.69Z"})))},ee=n(8583);(t=o||(o={})).success="success",t.no_access="no_access",t.not_bot_message="not_bot_message",t.not_last_message="not_last_message",t.no_prompt_found="no_prompt_found",t.bot_is_down="bot_is_down",t.rate_limit_exceeded="rate_limit_exceeded",t.reached_limit="reached_limit",t.message_points_display_price_mismatch="message_points_display_price_mismatch",t.private_bot_access_denied="private_bot_access_denied",t.command_does_not_exist="command_does_not_exist",t.bad_command_arg="bad_command_arg",t.bad_command_prompt="bad_command_prompt",t.bot_requests_per_message_limit_exceeded="bot_requests_per_message_limit_exceeded",t.mentioned_bot_does_not_exist="mentioned_bot_does_not_exist";var ea=o,en=n(29915),et=n(57403),ei=n(24487),es=n(27664);let regenerateMessage=e=>{let{environment:a,setToast:t,t:i,chat:s,message:r,debugEnabled:l=!1}=e,{id:o}=(0,h.readInlineData)(n(2751),s),{id:d,messageId:c}=(0,h.readInlineData)(n(86102),r),m=Date.now();(0,h.commitMutation)(a,{mutation:n(21097),variables:{messageId:c},optimisticUpdater:e=>{let a=e.get(o);Z()(a,"Unable to find chat record with id ".concat(o)),(0,es.T5)(a,d)},updater:(e,n)=>{let t=e.get(o);if(Z()(t,"Unable to find chat record with id ".concat(o)),Z()(n,"Empty data for regenerateMessageMutation"),n.messageRegenerate.status===ea.success){let i=n.messageRegenerate.job;if(i){let handleJobTimeout=(e,n)=>{(0,h.commitLocalUpdate)(a,a=>{(0,et.Z)(a,e,n,()=>{(0,es.Cc)(a,n)})})};(0,ei.QX)(i.jobId.toString(),{source:"regenerateMessage"},()=>handleJobTimeout(i.id,o)),(0,en.Z)(e,i.id,o)}(0,es.T5)(t,d)}},onCompleted:e=>{let a=Date.now(),n=a-m;if(e.messageRegenerate.status!==ea.success){if(l){var i;console.error("[REGENERATE_DEBUG] Non-success status detected:",{messageId:c,status:e.messageRegenerate.status,statusMessage:e.messageRegenerate.statusMessage,duration:"".concat(n,"ms"),timestamp:a,jobId:null===(i=e.messageRegenerate.job)||void 0===i?void 0:i.jobId})}t({type:ee.pC.error,content:e.messageRegenerate.statusMessage});return}l&&n>1e4&&console.error("[REGENERATE_DEBUG] Slow response detected - messageId=".concat(c,", duration=").concat(n,"ms, status=").concat(e.messageRegenerate.status))},onError:e=>{if(l){let a=Date.now(),n=a-m;console.error("[REGENERATE_DEBUG] onError called for messageId=".concat(c,", duration=").concat(n,"ms, timestamp=").concat(a),e),e&&console.error("[REGENERATE_DEBUG] Error details for messageId=".concat(c,":"),{name:e.name,message:e.message,stack:e.stack})}t({type:ee.pC.error,content:i("Unable to regenerate message")}),(0,h.commitLocalUpdate)(a,e=>{let a=e.get(o);Z()(a,"Unable to find chat record with id ".concat(o))})}})},useRegenerateMessage=function(e,a){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=(0,p.useRelayEnvironment)(),i=(0,ee.ZP)(),{t:s}=(0,R.$G)(),r=(0,g.useCallback)(()=>{regenerateMessage({environment:t,setToast:i,t:s,chat:e,message:a,debugEnabled:n})},[t,i,s,e,a,n]);return r};var er=n(23738),actionBar_ChatMessageRegenerateActionButton=e=>{var a;let{chat:t,message:i,bot:s,viewer:r,scrollToLastMessageTuple:l}=e,o=(0,p.useFragment)(n(88738),t),d=(0,p.useFragment)(n(3102),i),c=(0,p.useFragment)(n(51689),s),m=(0,p.useFragment)(n(81908),r),{t:h}=(0,R.$G)(),k=useRegenerateMessage(o,d,null!==(a=m.poeDebugRegenerateMessage)&&void 0!==a&&a),f=(0,g.useCallback)(()=>{k(),l()},[k,l]),_=(0,X.el)(f,{viewer:m,bot:c,viewObjectType:er.Z.limited_access_bot}),[b,F]=(0,g.useState)(null),v=h("Retry");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Y.oM,{"aria-label":v,ref:F,icon:(0,u.jsx)(redo,{}),onClick:_}),(0,u.jsx)(Q.u,{anchorRef:b,label:v,placement:"top"})]})},el=n(11163),eo=n.n(el),ed=n(81759),actionBar_ChatMessageResendActionButton=e=>{let{bot:a,chat:t,viewer:i,message:s}=e,{isOptimistic:r,...l}=(0,p.useFragment)(n(99697),t),o=(0,p.useFragment)(n(87924),a),d=(0,p.useFragment)(n(212),s),c=(0,p.useFragment)(n(21879),i),{t:m}=(0,R.$G)(),h=(0,el.useRouter)(),k=(0,ed.Us)({bot:o,chat:l,viewer:c,message:d,referencedMessage:d.referencedMessageV2}),f=(0,g.useMemo)(()=>r?e=>{let{messageEdgeCreate:a}=e,n=a.chat;Z()(n,"chat is null"),h.push({pathname:h.pathname,query:{...h.query,chat:n.chatCode,botId:n.defaultBotObject.botId}},"/chat/".concat(n.chatCode),{shallow:!0})}:void 0,[r,h]),_=(0,g.useCallback)(()=>{k({onSuccessfulMessageSend:f})},[k,f]),[b,F]=(0,g.useState)(null),v=m("Retry");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Y.oM,{"aria-label":v,ref:F,icon:(0,u.jsx)(redo,{}),onClick:_}),(0,u.jsx)(Q.u,{anchorRef:b,label:v,placement:"top"})]})};(i=d||(d={})).success="success",i.no_access="no_access",i.not_human_message="not_human_message",i.not_last_message="not_last_message",i.bot_is_down="bot_is_down",i.rate_limit_exceeded="rate_limit_exceeded",i.reached_limit="reached_limit",i.message_points_display_price_mismatch="message_points_display_price_mismatch",i.private_bot_access_denied="private_bot_access_denied";var ec=d,em=n(89188);let createOptimisiticMessage=(e,a,t,i)=>{let s;let{id:r}=(0,p.readInlineData)(n(11806),a),l=(0,p.readInlineData)(n(24505),t),{contentType:o}=(0,p.readInlineData)(n(82128),i);return(0,p.commitLocalUpdate)(e,e=>{let a=e.get(r);Z()(a,"Unable to find chat record with id ".concat(r));let n=(0,em.dS)(e,{contentType:o,bot:l});(0,es.n3)(e,a,n);let t=n.getValue("messageId");t&&(0,ei.OE)(t,{source:"retryMessage",botId:l.botId}),s=n.getDataID()}),s},retryMessage=e=>{let{environment:a,setToast:t,t:i,chat:s,bot:r,message:l}=e,{id:o,messageId:d,...c}=(0,p.readInlineData)(n(319),l),{id:m,...u}=(0,p.readInlineData)(n(72013),s),{...g}=(0,p.readInlineData)(n(55246),r);(0,p.commitLocalUpdate)(a,e=>{let a=e.get(m);a&&(0,es.WL)(a)});let h=createOptimisiticMessage(a,u,g,c);(0,p.commitMutation)(a,{mutation:n(71770),variables:{messageId:d},onCompleted:e=>{if(e.messageRetry.status!==ec.success){t({type:ee.pC.error,content:e.messageRetry.statusMessage});return}},updater:(e,a)=>{if(Z()(a,"Empty data for retryMessageMutation"),a.messageRetry.status===ec.success){let n=e.get(m);Z()(n,"Unable to find chat record with id ".concat(m));let t=(0,es.Ey)(n);(null==t?void 0:t.getDataID())===h&&a.messageRetry.responseMessage&&((0,es.T5)(n,h),(0,es.OJ)(e,n,a.messageRetry.responseMessage))}else{let a=e.get(o);Z()(a,"Unable to find message record with id ".concat(o)),a.setValue(J.Z.error,"state")}},onError:()=>{t({type:ee.pC.error,content:i("Unable retry message")})}})},useRetryMessage=(e,a,n)=>{let t=(0,p.useRelayEnvironment)(),i=(0,ee.ZP)(),{t:s}=(0,R.$G)(),r=(0,g.useCallback)(()=>{retryMessage({environment:t,setToast:i,t:s,chat:e,bot:a,message:n})},[t,i,s,e,a,n]);return r};var actionBar_ChatMessageRetryActionButton=e=>{let{chat:a,message:t,bot:i,viewer:s}=e,r=(0,p.useFragment)(n(41110),t),l=(0,p.useFragment)(n(13585),a),o=(0,p.useFragment)(n(36575),i),d=(0,p.useFragment)(n(36866),s),c=useRetryMessage(l,o,r),m=(0,X.el)(c,{viewer:d,bot:o,viewObjectType:er.Z.limited_access_bot});return(0,u.jsx)(Y.oM,{icon:(0,u.jsx)(redo,{}),onClick:m})},eu=n(52344),eg=n(18462),ep=n(95582),eh=n(30038),actionBar_ChatMessageShareActionButton=e=>{let{message:a}=e,{setSelectionMode:t,addSelection:i}=(0,eg.ZP)(),{messageId:s}=(0,p.useFragment)(n(82748),a),r=(0,g.useCallback)(()=>{i(s),t(eg.oW.share),(0,T.Z)("poe/action_log",{action_type:eh.Z.share_button_click,message_id:s,action_metadata:{context:ep.Z.chat_message}})},[i,s,t]);return(0,u.jsx)(Y.oM,{onClick:r,icon:(0,u.jsx)(eu.Z,{})})};let useShareButton=e=>{let{state:a,isOptimistic:t,...i}=(0,p.useFragment)(n(97506),e),s=(0,I.OE)(i);return s&&!t&&(a===J.Z.complete||a===J.Z.cancelled)?(0,u.jsx)(actionBar_ChatMessageShareActionButton,{message:i}):null},useRegenerateButton=(e,a,t,i,s)=>{let{state:r,isOptimistic:l,...o}=(0,p.useFragment)(n(85728),e),d=(0,p.useFragment)(n(28380),a),c=(0,p.useFragment)(n(91216),t),m=(0,p.useFragment)(n(98275),i),g=message_useIsViewerMessageCreator(o,m),h=(0,I.OE)(o);return h&&!l&&r!==J.Z.incomplete&&r!==J.Z.error_no_retry&&g&&(0,u.jsx)(actionBar_ChatMessageRegenerateActionButton,{chat:d,message:o,bot:c,viewer:m,scrollToLastMessageTuple:s})},useRetryButton=(e,a,t,i)=>{let{state:s,isOptimistic:r,bot:l,...o}=(0,p.useFragment)(n(44651),e),{isOptimistic:d,...c}=(0,p.useFragment)(n(89659),a),m=(0,p.useFragment)(n(8195),t),g=(0,p.useFragment)(n(59099),i),h=message_useIsViewerMessageCreator(o,m),k=(0,I.OE)(o);return!d&&k&&r&&g&&!g.isOptimistic&&l&&(s===J.Z.error||s===J.Z.error_llm)&&h?(0,u.jsx)(actionBar_ChatMessageRetryActionButton,{chat:c,message:g,bot:l,viewer:m}):null},useResendButton=(e,a,t,i)=>{let s=(0,p.useFragment)(n(24420),e),{isOptimistic:r,state:l,...o}=(0,p.useFragment)(n(80567),a),d=(0,p.useFragment)(n(10617),t),c=(0,p.useFragment)(n(37736),i),m=(0,I.Q1)(o),g=readMessageCreateStatus(o);return m&&r&&g!==$.Z.mentioned_bot_does_not_exist&&(l===J.Z.error||l===J.Z.error_llm)?(0,u.jsx)(actionBar_ChatMessageResendActionButton,{bot:s,message:o,chat:d,viewer:c}):null},useActionBarItems=(e,a,t,i,s,r)=>{let l=(0,p.useFragment)(n(65288),e),o=(0,p.useFragment)(n(31184),a),d=(0,p.useFragment)(n(68422),t),c=(0,p.useFragment)(n(7987),i),m=(0,p.useFragment)(n(2303),s);return g.Children.toArray([useShareButton(l),useRegenerateButton(l,o,d,c,r),useRetryButton(l,o,c,m),useResendButton(d,l,o,c)])};var actionBar_ChatMessageActionBar=e=>{let{chat:a,message:t,bot:i,viewer:s,pairedUserMessage:r,scrollToLastMessageTuple:l}=e,o=(0,p.useFragment)(n(94853),t),d=(0,p.useFragment)(n(9543),a),c=(0,p.useFragment)(n(31069),i),m=(0,p.useFragment)(n(26879),s),g=(0,p.useFragment)(n(34882),r),h=poeJob_useChatHasActiveJobs(d),k=useActionBarItems(o,d,c,m,g,l),f=(0,I.Q1)(o);return!h&&k.length>0?(0,u.jsx)("section",{className:(0,_.$)(q().actionBar,f&&q().reverse),children:k}):null},ek=n(23839);(s=c||(c={}))[s.ACTION_BAR=0]="ACTION_BAR",s[s.ACTION_BAR_AND_FOLLOW_UP_ACTIONS=1]="ACTION_BAR_AND_FOLLOW_UP_ACTIONS";let ChatLastMessageAreaInner=e=>{let{chat:a,defaultBot:t,message:i,pairedUserMessage:s,viewer:r,fileHandlerRef:l,chatInputRef:o,isSelecting:d,scrollToLastMessageTuple:c}=e,m=(0,p.useFragment)(n(62259),r),h=(0,p.useFragment)(n(83451),s),{id:k,isOptimistic:f}=(0,p.useFragment)(n(25986),a),{id:_,isOptimistic:b}=(0,p.useFragment)(n(17203),i),{messageNode:F,chatNode:v}=(0,p.useLazyLoadQuery)(n(71650),{messageNodeId:_,chatNodeId:k},{fetchPolicy:f||b?"store-only":"store-or-network"}),C=(0,p.useFragment)(n(50102),F),S=(0,p.useFragment)(n(23917),v),y=(0,p.useFragment)(n(21506),F),M=(0,g.useCallback)(()=>{(0,T.Z)("poe/statsd_event",{category:"count",key:"poe.web.chat.no_message_data_in_last_message_area",value:1,extra_data:{isOptimistic:f,chatId:k}})},[f,k]);C||(console.log(C),M()),Z()(C,"No message data"),Z()(S,"No chat data"),Z()(y,"No message followup actions data");let w=(0,p.useFragment)(n(29741),C.bot||t),x=(0,H.Z)(S),B=poeJob_useChatHasActiveJobs(S);return(0,u.jsxs)(u.Fragment,{children:[!(0,I.hb)(C)&&!d&&(0,u.jsx)(actionBar_ChatMessageActionBar,{chat:S,message:C,bot:w,viewer:m,pairedUserMessage:h,scrollToLastMessageTuple:c}),!x&&!f&&(0,I.OE)(C)&&!B&&(d?(0,u.jsx)("div",{className:W().suggestedRepliesPlaceholder}):(0,u.jsx)(ek.Z,{message:y,chat:S,viewer:m,fileHandlerRef:l,chatInputRef:o}))]})},ChatLastMessageArea=e=>{let a=(0,G.Z)();return a?(0,u.jsx)(V.Z,{fallback:null,children:(0,u.jsx)(g.Suspense,{fallback:null,children:(0,u.jsx)(ChatLastMessageAreaInner,{...e})})}):null};var message_ChatLastMessageArea=e=>{let a,{placeholderType:n,...t}=e;return 0===n?a=W().actionBarPlaceholder:1===n&&(a=W().actionBarAndFollowUpActionsPlaceholder),(0,u.jsx)("div",{className:a,children:(0,u.jsx)(ChatLastMessageArea,{...t})})},ef=n(65059),e_=n(81045),eb=n(8097),eF=n(95309),message_ChatReferencedMessage=e=>{let{message:a}=e,t=(0,p.useFragment)(n(44883),a);if("DeletedMessage"===t.__typename)return(0,u.jsx)(eF.K,{});if("Message"===t.__typename){let{messageId:e,text:a,bot:n,authorUser:i,attachments:s,isDeleted:r}=t;return r?(0,u.jsx)(eF.K,{}):(0,u.jsx)(eF.Z,{messageId:e,text:a,bot:n,poeUser:i,attachments:s,showPrivateTag:!0})}return null},ev=n(25098),eC=n(66953),eS=n(28473),ey=n(36900);let eM={};setInterval(()=>{let e=Date.now();for(let a in eM)e-eM[a][1]>18e5&&delete eM[a]},3e5);let getFirstCanvasMessageForJob=e=>eM[e]?eM[e][0]:null,setFirstCanvasMessageForJob=(e,a)=>{eM[e]=[a,Date.now()]};var ew=n(29664),eI=n(67824),ex=n(34478),eT=n(80418);function handleResponseStreaming(e){var a,n;let{data:t,frame:i,event:s,_chatId:r,iframeUrl:l}=e,o=null===(a=t.messageEdgeCreate.job)||void 0===a?void 0:a.id,d=(null===(n=t.messageEdgeCreate.chat)||void 0===n?void 0:n.id)||r;if(!o||!d){(0,ex.q$)(i,l,{source:"poeFrame",type:"miniAppAPI",eventType:"jobUpdate",subType:"event",data:{requestId:s.requestId,job:{status:"complete"}}});return}(0,eT.qB)({frame:i,jobId:o,embedApiRequestId:s.requestId,iframeUrl:l})}var eB=n(58143),eL=n(60919),eD=n(51882),ej=n(78410),eP=n(73337),eA=n(76303),eN=n.n(eA),eR=n(77338),eO=n(98077),eE=n(50241),eU=n(28871),eZ=n(71953);function useOnSendUserMessageConfirmed(e,a){let{shouldShowSignupWall:t,openSignupWall:i}=(0,eE.zl)(),s=(0,ee.ZP)(),{t:r}=(0,R.$G)(),l=function(){let e=(0,p.useRelayEnvironment)(),{t:a}=(0,R.$G)(),t=(0,ee.ZP)(),i=(0,g.useCallback)(async i=>{var s;let{event:r,bot:l,chat:o,viewer:d,sourceMetaData:c}=i,m=(0,p.readInlineData)(n(55735),l),u=(0,p.readInlineData)(n(940),d),g=o||await getOptimisticChat(e,m),h=(null===(s=r.data.attachments)||void 0===s?void 0:s.flatMap(e=>e instanceof File?[e]:[]))||[];return new Promise((n,i)=>(0,eU.bG)({environment:e,bot:m,chat:g,viewer:u,prompt:r.data.text,files:h,updateChatHistory:!!o,t:a,source:{sourceType:"preview_triggered",chatInputMetadata:{useVoiceRecord:!1},previewTriggeredMetadata:c},onFailedMessageSend:e=>{i(Error(e.messageEdgeCreate.statusMessage))},onSuccessfulMessageSend(e){n(e)},onError:e=>{i(e)},setToast:t}))},[e,a,t]);return i}(),o=(0,g.useCallback)(async o=>{let{event:d,source:c,clearOverlay:m,setIsLoading:u}=o;try{var g,h,k;if(!e||t||!(null==e?void 0:e.loggedIn)||!e.defaultBot){i(eE.dh.previewTriggeredMessage);return}d.data.stream?m():u(!0),null===(g=e.onSendStart)||void 0===g||g.call(e,d);let s=await l({event:d,bot:e.defaultBot,chat:(k=e.chat,(0,p.readInlineData)(n(40870),k)),viewer:e.viewer,sourceMetaData:e.sourceMetaData});if("success"!==s.messageEdgeCreate.status)throw Error(s.messageEdgeCreate.statusMessage);null===(h=e.onSuccessfulMessageSend)||void 0===h||h.call(e,s,c,d),(0,eD.T)(c,d,{success:!0,hostWillSendResults:e.streamingEnabled},a)}catch(n){(0,eD.T)(c,d,{success:!1,code:"unknown",message:n instanceof Error?n.message:r("Something went wrong.")},a),(null==e?void 0:e.chat)||s({content:n instanceof Error?n.message:r("Something went wrong."),type:ee.pC.error}),console.error("Could not send preview triggered message",n)}finally{m(),u(!1)}},[l,e,t,i,s,r,a]);return o}async function getOptimisticChat(e,a){let t=(0,p.readInlineData)(n(65304),a),i=(0,eZ.tR)({environment:e,bot:t}),s=await (0,p.fetchQuery)(e,n(13746),{optimisticChatId:i},{fetchPolicy:"store-or-network"}).toPromise();return Z()(null==s?void 0:s.optimisticChat,"Optimistic chat ".concat(i," not found in store")),s.optimisticChat}var preview_PreviewRequestedMessageOverlay=e=>{let{logger:a,previewApiContext:n,event:t,source:i,clearOverlay:s,iframeUrl:r}=e,l=useOnSendUserMessageConfirmed(n,r),[o,d]=(0,g.useState)(!1),{t:c}=(0,R.$G)(),m=(0,g.useCallback)(()=>{l({event:t,source:i,setIsLoading:d,clearOverlay:s}),a&&(a.logPreviewInteraction(eR.Z.confirm_preview_triggered_message),a.logAction(eh.Z.confirm_preview_triggered_message))},[a,l,t,i,d,s]),p=(0,g.useCallback)(()=>{s(),(0,eD.T)(i,t,{code:"userRejected",message:c("You cancelled this request."),success:!1},r),a&&(a.logPreviewInteraction(eR.Z.reject_preview_triggered_message),a.logAction(eh.Z.reject_preview_triggered_message))},[a,s,i,t,c,r]);return(0,u.jsx)(eO.Z,{icon:(0,u.jsx)(eP.Z,{linked:!1,className:eN().logo}),text:(0,u.jsx)("p",{children:c("You are about to send a new message.")}),isNarrow:!0,actions:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ej.Z,{as:"button",theme:"primary",isLoading:o,onClick:m,children:c("Confirm")}),(0,u.jsx)(ej.Z,{as:"button",theme:"outline",isDisabled:o,onClick:p,children:c("Cancel")})]})})},eH=n(64468);function MaybeAutoOpenStreamedContentInCanvas(e){return!function(e){let{markdownWasStreaming:a,isFirstCanvasMessageForJob:n,isInsideBlockquote:t,canvasHelpers:i,previewContentType:s,previewLanguage:r,logger:l}=e,o=(0,g.useRef)(i);o.current=i;let d=(0,g.useRef)(!1);(0,g.useEffect)(()=>{o.current&&a&&s&&r&&!t&&!d.current&&(d.current=!0,n&&(o.current.openInCanvas(),l.logPreviewInteraction(eR.Z.auto_open_preview_in_canvas)))},[a,n,s,r,o,l,t])}(e),(0,u.jsxs)(u.Fragment,{children:[e.children," "]})}var eV=n(87973),eG=n(45392),eK=n(22641);let importConfirmationModal=()=>n.e(3323).then(n.bind(n,23323));var hooks_useCanvasTabCloseConfirmationModal=()=>{let[e,a]=(0,g.useState)(!1),[n,t]=(0,g.useState)(null),i=(0,g.useCallback)(e=>{t(()=>e),a(!0)},[]),s=(0,g.useCallback)(()=>{a(!1),t(null)},[]),r=(0,g.useMemo)(()=>({close:s,onConfirm:n||(()=>{})}),[s,n]),l=(0,u.jsx)(eK.Z,{isOpen:e,onRequestClose:s,body:importConfirmationModal,bodyProps:r});return{modal:l,openModal:i}},eW=n(82306),ez=n(21592),eq=n(46245);function useCloseCanvasTab(e){let a=(0,p.useFragment)(n(37976),e),[t,i]=(0,p.useMutation)(n(26500)),s=(0,eW.Qd)(),r=a.id,{modal:l,openModal:o}=hooks_useCanvasTabCloseConfirmationModal(),d=(0,H.Z)(a),c=(0,g.useCallback)(e=>{let{tabNodeId:n,tabToOpenNodeId:i}=e;t({variables:{chatId:a.chatId,tabNodeId:n,tabToOpenNodeId:i,tabInput:{},connections:[(0,ez.N)(r)]},optimisticUpdater(e){let a=e.get(n);if(!a)return null;if((0,eq.aq)(a,eV.Z.closed),(0,eq.kA)(e,r,a),(0,eq.mq)(e,{canvasTab:a,chatNodeId:r})){let a=i?e.get(i):null;a&&((0,eq.Xp)(e,r).forEach(e=>{e&&(0,eq.aq)(e,eV.Z.background)}),(0,eq.aq)(a,eV.Z.foreground)),(0,eq.vf)(e,{canvasTab:a||null,chatNodeId:r}),!a&&s&&s(eW.YU.canvasHidden)}},updater(e,a){var n,t;Z()(a,"Expected data for useCloseCanvasTabMutation mutation");let l=null===(n=a.closeCanvasTab.closedCanvasTab)||void 0===n?void 0:n.id;if(!l)return;let o=e.get(l);if(!o)return;(0,eq.kA)(e,r,o);let d=null===(t=a.closeCanvasTab.openedCanvasTab)||void 0===t?void 0:t.id,c=d?e.get(d):null;(0,eq.aq)(o,eV.Z.closed),c&&i?((0,eq.Gy)(e,r),(0,eq.aq)(c,eV.Z.foreground),(0,eq.vf)(e,{canvasTab:c,chatNodeId:r})):(0,eq.mq)(e,{canvasTab:o,chatNodeId:r})&&((0,eq.vf)(e,{canvasTab:null,chatNodeId:r}),s&&s(eW.YU.canvasHidden))}})},[a.chatId,r,s,t]),m=(0,g.useCallback)(e=>{let{tabNodeId:a,tabToOpenNodeId:n}=e;d?o(()=>{c({tabNodeId:a,tabToOpenNodeId:n})}):c({tabNodeId:a,tabToOpenNodeId:n})},[o,c,d]);return[m,i,d?l:null]}var e$=n(75338),eJ=n(8453);let useOpenCanvasTab=e=>{let a=(0,p.useFragment)(n(69905),e),[t,i]=(0,p.useMutation)(n(69438)),s=a.chatId,r=a.id,{setIsCollapsed:l}=(0,e$.p)(),o=(0,eW.Qd)(),d=(0,g.useCallback)(e=>{let a,{tabInput:n,optimisticData:i}=e;if(!s)return;let d=(0,eJ.Zr)();t({variables:{chatId:s,tabInput:n,openedAt:1e3*Date.now()-1e3,contentObject:i.previewContentObject,connections:[(0,ez.N)(r)]},optimisticUpdater:e=>{if(!n.message)return;l(!0),(0,eq.Gy)(e,r);let t=(0,eq.a$)(e,i,d);a||(a=t.getDataID()),(0,eq.oL)(e,t,n.message.messageId),(0,eq.qo)(e,r,t),(0,eq.aq)(t,eV.Z.foreground),(0,eq.vf)(e,{chatNodeId:r,canvasTab:t}),o&&o(eW.YU.splitPrioritizeCanvas)},updater:(e,n)=>{var t;Z()(n,"Empty data for useOpenCanvasTabMutation");let i=null===(t=n.openCanvasTabInChat.canvasTabEdge)||void 0===t?void 0:t.node;if(!i)return;(0,eq.Gy)(e,r);let s=e.get(i.id);Z()(s,"Cannot find canvas tab record with id ".concat(i.id)),(0,eq.aq)(s,eV.Z.foreground),s.getValue("idWhenWasOptimistic")||s.setValue(a,"idWhenWasOptimistic"),(0,eq.qo)(e,r,s),"number"==typeof i.codeblockIndex&&i.messageId&&(0,eq.oL)(e,s,i.messageId),(0,eq.vf)(e,{chatNodeId:r,canvasTab:s}),o&&o(eW.YU.splitPrioritizeCanvas)}})},[s,r,o,t,l]);return[d,i]};function CanvasEnabledPreviewFrame(e){let{codeblockIdx:a,messageNodeId:t,contentType:i,language:s,content:r,markdownWasStreaming:l,logger:o,showPreviewShareButton:d,showSaveAsFile:c,disableShareButton:m,chatNodeId:h,messageState:k,isFirstCanvasMessageForJob:f,messageId:_,title:b,...F}=e,v=(0,g.useMemo)(()=>({__isNode:"MessageCanvasTab",title:b,clientNonce:(0,w.C)(),codeblockIndex:a,messageId:_,isOptimistic:!0,previewContentObject:{contentType:i,language:s,content:r},message:{id:t,state:k,messageId:_},state:eV.Z.foreground,globalId:Math.floor(9999999*Math.random()),canvasCode:"OPTIMISTIC_CANVAS_CODE"}),[a,_,k,t,i,b,s,r]),C=function(e){let a=(0,p.useLazyLoadQuery)(n(8805),{messageNodeId:e.messageNodeId,chatNodeId:e.chatNodeId});return Z()(a.message,"unable to load message"),Z()(a.chat,"unable to load chat"),function(e,a,t,i){let s=(0,p.useFragment)(n(53281),t),r=(0,p.useFragment)(n(76206),a),[l,o]=useOpenCanvasTab(s),d=(0,g.useCallback)(()=>{l({tabInput:{message:{messageId:r.messageId,codeblockIndex:e}},optimisticData:i})},[l,r.messageId,e,i]),[c,m,u]=useCloseCanvasTab(s),h=(0,g.useCallback)(()=>{c({tabNodeId:btoa("MessageCanvasTab:".concat(r.messageId,":").concat(e))})},[c,r.messageId,e]),k=function(e,a){let t=(0,p.useFragment)(n(90954),e);if(!t.canvasTabs)return null;let i=t.canvasTabs.find(e=>e.codeblockIndex===a);return i||null}(null!=r?r:null,e);return(0,g.useMemo)(()=>{var e,a;return{title:null!==(e=null==k?void 0:k.title)&&void 0!==e?e:"",isOpenedInCanvas:k&&k.state!==eV.Z.closed,openInCanvas:d,closeInCanvas:h,canvasTabState:null!==(a=null==k?void 0:k.state)&&void 0!==a?a:eV.Z.closed,openMutationIsInflight:o||m,closeModal:u}},[k,d,h,o,m,u])}(e.codeblockIndex,a.message,a.chat,e.optimisticData)}({messageNodeId:t,codeblockIndex:a,chatNodeId:h,optimisticData:v}),S=(0,g.useContext)(eG.Y);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(MaybeAutoOpenStreamedContentInCanvas,{isInsideBlockquote:S,messageIsComplete:"complete"===k,isFirstCanvasMessageForJob:f,canvasHelpers:C,previewContentType:i,previewLanguage:s,markdownWasStreaming:l,logger:o,children:(0,u.jsx)(ey.Z,{...F,title:C.title||b,canvasHelpers:C,content:r,contentType:i,language:s,messageNodeId:t,disableShareButton:m,logger:o,codeblockIdx:a,showPreviewShareButton:!!d,showSaveAsFile:!!c})}),C.closeModal]})}function InChatIFrame(e){var a,t,i;let{language:s,content:r,contentType:l,blockIndex:o,blockType:d,markdownWasStreaming:c,messageKey:m,chatKey:h,viewerKey:k,botKey:f,onSuccessfulMessageSend:_}=e,b=(0,p.useFragment)(n(72238),k),F=(0,p.useFragment)(n(12346),f),v=(0,p.useFragment)(n(90871),h),C=(0,p.useFragment)(n(68353),m),S=null===(a=C.responsibleJob)||void 0===a?void 0:a.jobId,y=!0;if(S){let e=getFirstCanvasMessageForJob(S);null===e?setFirstCanvasMessageForJob(S,C.messageId):e!==C.messageId&&(y=!1)}let M=!0===b.enableCanvasAppDebugMode,w=null!==(t=(0,eB.E)())&&void 0!==t?t:ew.Z.unknown,I=(0,g.useMemo)(()=>{let e={message_id:C.messageId,chat_id:v.chatId,share_id:void 0,preview_language:s,page_type:w,..."codeblock"===d?{codeblock_index:o}:{raw_html_index:o}};return e},[v.chatId,C.messageId,s,o,d,w]),x=(0,g.useRef)(I);x.current=I;let T=(0,g.useMemo)(()=>({getData:()=>x.current,logPreviewInteraction:e=>{(0,eL.Z)({entry_type:e,...x.current})},logAction:e=>{(0,eL.T)({action_type:e,...x.current,bot_id:F.botId})}}),[x,F.botId]),B=(0,eH.X)(b),L=(0,g.useMemo)(()=>{var e;return{chat:v,viewer:b,defaultBot:F,streamingEnabled:!0,loggedIn:!!(null===(e=b.poeUser)||void 0===e?void 0:e.id),sourceMetaData:null,onSuccessfulMessageSend(e,a,n){null==_||_(e),handleResponseStreaming({data:e,frame:a,event:n,_chatId:v.id,iframeUrl:B})}}},[b,v,F,_,B]),D=(0,g.useRef)(L);D.current=L;let[j,P]=(0,g.useState)(0),A=(0,g.useCallback)(()=>{P(e=>e+1)},[]),N=function(e,a,t,i){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:preview_PreviewRequestedMessageOverlay,l=(0,p.useFragment)(n(68418),i),o=(0,eH.X)(l),d=useOnSendUserMessageConfirmed(a,o),[c,m]=(0,g.useState)(null);(0,g.useEffect)(()=>{m(null)},[e]);let h=(0,g.useCallback)(async(e,n)=>{if(c){(0,eD.T)(n,e,{code:"anotherConfirmationIsOpen",message:"Another confirmation is open",success:!1},o);return}if(!a){(0,eD.T)(n,e,{code:"unknown",message:"Not supported on this client",success:!1},o);return}if(s){d({event:e,source:n,setIsLoading:()=>{},clearOverlay:()=>{}});return}m({source:n,event:e})},[a,c,s,d,o]),k=(0,g.useCallback)(()=>{m(null)},[]),f=c&&a?(0,u.jsx)(r,{source:c.source,event:c.event,clearOverlay:k,logger:t,previewApiContext:a,iframeUrl:o}):null;return{onSendUserMessage:h,sendUserMessageOverlay:f}}(j,D.current,T,b);if("rawhtml"===d)return(0,u.jsx)(eS.n,{...N,viewableImpressionType:eI.Z.previews,htmlCode:r,logger:T,showLoadingSpinner:!1,previewLanguage:s,viewer:b});let R={chatNodeId:v.id,canvasHelpers:null,codeblockIdx:o,messageNodeId:C.id,previewContentType:l,previewLanguage:s,previewContent:r,previewApiContext:D.current,markdownWasStreaming:c,content:r,contentType:l,language:s,disableShareButton:"complete"!==C.state,actionLogData:I,showPreviewShareButton:!0,showSaveAsFile:!0,title:"".concat(l),debugMode:M};return(0,u.jsx)(V.Z,{fallback:(0,u.jsx)("p",{children:"Unexpected error while rendering"}),children:(0,u.jsx)(g.Suspense,{fallback:(0,u.jsx)(eC.p,{}),children:v.isOptimistic||C.isOptimistic?(0,u.jsx)(ey.Z,{initialIsCollapsed:!0,...R,...N,onRefresh:A,showNewTabButton:!0,logger:T,botId:F.botId,codeEditorCanvasBotId:null!==(i=b.codeEditorCanvasBotId)&&void 0!==i?i:void 0,viewer:b}):(0,u.jsx)(CanvasEnabledPreviewFrame,{...R,...N,logger:T,onRefresh:A,canvasHelpers:C.isOptimistic?null:R.canvasHelpers,initialIsCollapsed:!0,showNewTabButton:!1,messageId:C.messageId,messageState:C.state,isFirstCanvasMessageForJob:y,viewer:b})})})}var eQ=n(234),eY=n(4290),eX=n(30965),e0=n(46309),e1=n(61258),e2=n.n(e1),e3=n(39609),message_CitationFooter=e=>{let{message:a}=e,{hasCitations:t,messageId:i,state:s,...r}=(0,p.useFragment)(n(63377),a),{modal:l,openModal:o}=(0,e3.Z)({messageId:i}),d=(0,I.OE)(r)&&t&&s!==J.Z.incomplete,{t:c}=(0,R.$G)();return d?(0,u.jsxs)("div",{className:e2().container,children:[(0,u.jsxs)(Y.PL,{className:e2().sourceButton,onClick:o,children:[c("View sources"),(0,u.jsx)(e0.Z,{size:12})]}),l]}):null},e5=n(12278),e4=n(650),e8=n(72110),e9=n(11803),e7=n(96744),e6=n(15601),ae=n(67646),aa=n(35715),an=n(99391);let getUserMessageTimeoutCap=e=>{let{attachments:a}=(0,p.readInlineData)(n(2258),e),t=(a||[]).filter(e=>e.isOptimistic).reduce((e,a)=>e+a.file.size,0);return 3+Math.ceil(t/1e6)},useTimeoutLevel=(e,a,t,i,s)=>{var r;let l=(0,p.useFragment)(n(39990),e),o=(0,p.useFragment)(n(68248),a),d=(0,p.useFragment)(n(83712),t),c=(0,p.useFragment)(n(43267),i),m=(0,p.useFragment)(n(94286),s),u=(0,p.useRelayEnvironment)();return(0,g.useEffect)(()=>{if(l.isOptimistic&&l.author===aa.Z.human){var e;let a=getUserMessageTimeoutCap(l);if(null!==(e=l.timeoutLevel)&&void 0!==e?e:0<a){let e=window.setTimeout(()=>{(0,p.commitLocalUpdate)(u,e=>{var n;let t=e.get(l.id);Z()(t,"node is ".concat(t));let i=null!==(n=t.getValue("timeoutLevel"))&&void 0!==n?n:0,s=i+1;t.setValue(s,"timeoutLevel"),s===a&&t.setValue(J.Z.error,"state")})},5e3);return()=>{window.clearTimeout(e)}}}},[l,u]),(0,g.useEffect)(()=>{var e;let a=Math.floor(d.messageTimeoutSecs/5);if(l.state===J.Z.incomplete&&(!l.isOptimistic||l.author!==aa.Z.human)&&(null!==(e=l.timeoutLevel)&&void 0!==e?e:0)<a){let e=window.setTimeout(()=>{(0,p.commitLocalUpdate)(u,e=>{var n,t,i,s,r,u;let g=e.get(l.id);Z()(g,"node is ".concat(g));let p=null!==(u=g.getValue("timeoutLevel"))&&void 0!==u?u:0,h=p+1;g.setValue(h,"timeoutLevel"),(0,an.Si)();let k={message_id:l.messageId,platform:"web",bot_id:d.botId,chat_id:o.chatId,default_bot_nickname:d.nickname,user_agent:window.navigator.userAgent,paired_message_id:null==m?void 0:m.messageId,uid:c.uid,isCurrentlyOnline:window.navigator.onLine,hasBeenOffline:(0,e6.q)(),timeSinceOrigin:window.performance.now(),connection:{downlink:null===(n=window.navigator.connection)||void 0===n?void 0:n.downlink,effectiveType:null===(t=window.navigator.connection)||void 0===t?void 0:t.effectiveType,rtt:null===(i=window.navigator.connection)||void 0===i?void 0:i.rtt,saveData:null===(s=window.navigator.connection)||void 0===s?void 0:s.saveData,type:null===(r=window.navigator.connection)||void 0===r?void 0:r.type},messageLength:l.text.length};h===a?((0,T.Z)("poe/statsd_event",{key:"poe.message.timeout",value:1,category:"count",extra_data:k}),(0,ae.ZP)().then(e=>{var a,n;if(null===(a=e.tchannelData)||void 0===a?void 0:a.channel){let a=null===(n=e.tchannelData)||void 0===n?void 0:n.channel.split("-")[1];(0,T.Z)("poe/statsd_event",{key:"poe.message.timeout_channel.".concat(a),value:1,category:"count",extra_data:k})}})):(0,T.Z)("poe/statsd_event",{key:"poe.message.timeout_level.".concat(h),value:1,category:"count",extra_data:k})})},5e3);return()=>{window.clearTimeout(e)}}},[l,u,o,d,m,c]),null!==(r=l.timeoutLevel)&&void 0!==r?r:0};var at=n(64291),ai=n(48901),as=n(11704),ar=n.n(as),al=n(5152),ao=n.n(al),ad=n(49091),ac=n.n(ad);let am=ao()(()=>Promise.all([n.e(5430),n.e(3345)]).then(n.bind(n,43345)),{loadableGenerated:{webpack:()=>[43345]}}),au=ao()(()=>n.e(5495).then(n.bind(n,45495)),{loadableGenerated:{webpack:()=>[45495]}});var message_ChatMessageContextMenu=e=>{let{message:a,bot:t,chat:i,rootRef:s,viewer:r,fileHandlerRef:l,chatInputRef:o,setIsBranchingLoading:d}=e,c=(0,p.useFragment)(n(68126),a),m=(0,p.useFragment)(n(78033),t),h=(0,p.useFragment)(n(82457),r),k=(0,p.useFragment)(n(41100),i),f=(0,C.Oi)(),_=(0,g.useMemo)(()=>{let e;return(null==f?void 0:f.current)&&(e=f.current),{boundary:e,padding:{left:10,right:10}}},[f]);return(0,I.VQ)(c)?null:(0,u.jsx)(au,{classNames:ac().container,rootRef:s,body:(0,u.jsx)(am,{message:c,bot:m,viewer:h,chat:k,fileHandlerRef:l,chatInputRef:o,setIsBranchingLoading:d}),flipOptions:_,shiftOptions:_,scrollRootRef:f})};let ag=(0,g.createContext)(null);var ap=n(45193),floating_useBorderBoxSize=e=>{let[a,n]=(0,g.useState)();return(0,g.useEffect)(()=>{if(!(null==e?void 0:e.current))return;let a=new ResizeObserver(e=>{if(!e)return;let a=e[0].borderBoxSize;a&&n(e[0].borderBoxSize[0])});return a.observe(e.current),()=>{a.disconnect()}},[e]),a},ah=n(10582),ak=n.n(ah);let af=ao()(()=>Promise.all([n.e(5430),n.e(3345)]).then(n.bind(n,43345)),{loadableGenerated:{webpack:()=>[43345]}});var message_ChatMessageOverflowButton=e=>{let{message:a,bot:t,chat:i,dropdownMenuOpen:s,setDropdownMenuOpen:r,className:l,viewer:o,iconSize:d="md",actionTheme:c="ghost",chatInputRef:m,fileHandlerRef:h,setIsBranchingLoading:k,onClose:f}=e,_=(0,p.useFragment)(n(91781),a),b=(0,p.useFragment)(n(25243),t),F=(0,p.useFragment)(n(12506),o),v=(0,p.useFragment)(n(79111),i),C=(0,g.useContext)(ag),S=floating_useBorderBoxSize(C),y=(0,g.useMemo)(()=>({padding:{left:10,right:10,...S?{bottom:S.blockSize}:{}}}),[S]),M={menuBody:(0,u.jsx)(af,{message:_,bot:b,viewer:F,chat:v,chatInputRef:m,fileHandlerRef:h,setIsBranchingLoading:k,onClose:f}),alignment:(0,I.OE)(_)?"right":"left",menuOpen:s,setMenuOpen:r,wrapperClassName:ak().overflowButtonWrapper};return(0,u.jsx)(ap.Z,{...M,className:l,flipOptions:y,size:d,theme:c})},a_=n(65438),ab=n(94370),aF=n(46932),av=n(87935),aC=n.n(av);let UndoContextClearButton_importConfirmationModal=()=>n.e(8089).then(n.bind(n,78089));var message_UndoContextClearButton=e=>{let{connectionId:a,messageId:n,isDisabled:t}=e,{t:i}=(0,R.$G)(),[s,r]=(0,g.useState)(!1),l=(0,g.useCallback)(()=>{r(!0)},[r]),o=(0,g.useCallback)(()=>{r(!1)},[r]),d=(0,g.useMemo)(()=>({connectionId:a,messageId:n,close:o}),[a,n,o]),c=(0,g.useRef)(null),[m,p]=(0,g.useState)(null),h=(0,g.useMemo)(()=>(0,aF.Z)([c,p]),[c,p]),k=i("Undo");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ej.Z,{as:"button",size:"x-sm",theme:"secondary",className:aC().button,onClick:l,showIconOnly:"always",iconLeft:(0,u.jsx)(ab.WL,{}),"aria-label":k,ref:h,isDisabled:t,"data-button-chat-break":!0}),!s&&(0,u.jsx)(Q.u,{anchorRef:m,label:k}),(0,u.jsx)(eK.Z,{isOpen:s,onRequestClose:o,body:UndoContextClearButton_importConfirmationModal,bodyProps:d,modalHeight:60,useMinHeight:!0})]})},aS=n(20724),message_useChatLastMessageImpressionTracker=(e,a,t)=>{let i=(0,g.useRef)(!1),s=(0,g.useRef)(!1),r=(0,g.useRef)(),l=(0,g.useRef)(!0),{clearChat:o}=(0,aS.I)(),d=(0,g.useCallback)(()=>i.current&&!s.current&&l.current,[]),[c]=(0,p.useMutation)(n(75807)),{chatId:m}=(0,p.readInlineData)(n(84623),e),{messageId:u}=(0,p.readInlineData)(n(55209),a),h=(0,g.useCallback)(()=>{var e;s.current=!0,c({variables:{chatId:m,lastSeenMessageId:u},optimisticUpdater:()=>{m&&o(m)}}),null==r||null===(e=r.current)||void 0===e||e.call(r)},[c,m,o,u]),k=(0,g.useCallback)(()=>{d()&&h()},[d,h]);(0,g.useEffect)(()=>{if(!t)return;let handleFocus=()=>{l.current=!0,k()},handleBlur=()=>{l.current=!1};return l.current=document.hasFocus(),window.addEventListener("focus",handleFocus),window.addEventListener("blur",handleBlur),()=>{window.removeEventListener("focus",handleFocus),window.removeEventListener("blur",handleBlur)}},[k,t]);let f=(0,g.useCallback)(e=>{let[a]=e;i.current=a.isIntersecting,k()},[k]),{refCallback:_,unobserve:b}=(0,x.S1)(f,{rootMargin:"0px",threshold:0});return(r.current=b,t)?_:null};let ChatMessageFooter=e=>{var a;let{message:t,isHumanMessage:i,viewer:s}=e,{state:r,attachments:l,...o}=(0,p.useFragment)(n(32122),t),d=(0,p.useFragment)(n(73147),s);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eY.Z,{attachments:l,showMedia:!!d.showInteractiveMedia||!i,messageIsComplete:r!==J.Z.incomplete,showInteractiveMedia:null!==(a=d.showInteractiveMedia)&&void 0!==a&&a}),(0,u.jsx)(message_CitationFooter,{message:o})]})},ChatMessageInner=e=>{var a,t,i,s,r,l,o,d;let{root:c,chat:m,defaultBotOfChat:h,message:k,viewer:f,isLastMessage:b,pairedUserMessage:F,fileHandlerRef:v,chatInputRef:C,scrollToLastMessageTuple:S,onSuccessfulMessageSend:y,lastMessageAreaPlaceholderTypeForBotMessage:M,hideMessageHeader:w,setIsBranchingLoading:x}=e,{supportedExecutableLanguages:T,...D}=(0,p.useFragment)(n(89975),c),j=(0,p.useFragment)(n(80916),m),P=(0,p.useFragment)(n(92559),k),A=(0,p.useFragment)(n(27268),h),N=(0,p.useFragment)(n(73511),P.bot||A),R=(0,p.useFragment)(n(5619),f),O=(0,p.useFragment)(n(90199),F),E=(0,g.useMemo)(()=>({chat_id:j.chatId,bot_id:N.botId,message_id:P.messageId}),[j.chatId,N.botId,P.messageId]),U=(0,g.useRef)(null),{selectionMode:Z,toggleSelection:H,selectedIds:V,isSelecting:K}=(0,eg.ZP)(),W=(0,g.useMemo)(()=>V.includes(P.messageId),[V,P]),z=null===(a=P.usersCanDelete)||void 0===a?void 0:a.some(e=>e.uid===R.uid),q=z&&!(0,I.VQ)(P),$=(0,g.useCallback)(()=>{(Z===eg.oW.share||Z===eg.oW.delete&&q)&&H(P.messageId)},[Z,H,P,q]),Q=(0,g.useCallback)(e=>{e.stopPropagation()},[]),{setIsHovered:Y}=(0,e8.q)(),X=(0,g.useCallback)(()=>{null==Y||Y(!1)},[Y]),ee=useTimeoutLevel(P,j,N,R,O),{isMessageCancelled:ea,textLengthOnCancellation:en}=(0,at.Z)(P),et=message_useChatLastMessageImpressionTracker(j,P,b&&!P.isOptimistic&&!j.isOptimistic&&(R.badgeAtBotMessageCreationEnabled||P.state!==J.Z.incomplete)),[ei,es]=(0,g.useState)(!1),{editingMessageData:er}=(0,B.m)(),el=!(0,I.VQ)(P)&&P.author===aa.Z.chat_break,eo=(0,g.useMemo)(()=>ea&&en?P.text.substring(0,en):P.text,[ea,P.text,en]),ed=(0,g.useMemo)(()=>{if((0,I.hb)(P)&&!z||(0,I.VQ)(P))return el?(0,u.jsx)(message_UndoContextClearButton,{connectionId:j.id,messageId:P.messageId,isDisabled:!0}):null;if(K)return null;if(el)return(0,u.jsx)(message_UndoContextClearButton,{connectionId:j.id,messageId:P.messageId});let e=(0,I.hb)(P)?"ghost":R.poeHideLeftSideMessageHeaderIfSameSender?"transparent":"ghost",a=(0,I.hb)(P)?"sm":R.poeHideLeftSideMessageHeaderIfSameSender?"x-sm":"sm";return(0,u.jsx)(message_ChatMessageOverflowButton,{message:P,chat:j,dropdownMenuOpen:ei,setDropdownMenuOpen:es,bot:N,className:(0,_.$)(ar().messageOverflowButton,(0,I.hb)(P)&&ar().alwaysVisibleMessageOverflowButton,R.poeHideLeftSideMessageHeaderIfSameSender&&ar().inBubbleButton),viewer:R,setIsBranchingLoading:x,fileHandlerRef:v,chatInputRef:C,iconSize:a,actionTheme:e,onClose:X})},[K,P,z,ei,es,N,R,j,el,C,v,x,X]),ec=(0,g.useMemo)(()=>{var e;return{messageId:P.messageId,botId:(null===(e=P.bot)||void 0===e?void 0:e.botId)||null,messageRef:U}},[P,U]),em=Z!==eg.oW.none,eu=(null===(t=P.command)||void 0===t?void 0:t.commandType)&&P.command.commandType,ep=(0,I.pF)(P),eh=(0,I.k0)(P,R),ek=null!==(l=null===(i=P.authorUser)||void 0===i?void 0:i.fullName)&&void 0!==l?l:void 0,eF=(0,ev.Z)({chat:j,message:P,viewer:R});(0,L.XD)(P.messageId);let eS=function(e,a,n,t,i){let s=(0,G.Z)();return(0,g.useCallback)(r=>{let{language:l,contentType:o}=r;return o&&l?s?(0,u.jsx)(InChatIFrame,{...r,onSuccessfulMessageSend:i,messageKey:e,chatKey:a,viewerKey:n,botKey:t}):(0,u.jsx)(eC.p,{}):null},[e,a,n,t,i,s])}(P,j,R,A,y),ey=P.parameters,eM=ey&&JSON.parse(ey),ew=!!eM&&Object.keys(eM).length>0,eI=(0,eQ.f)(D);return(0,u.jsx)(eX.Z.Provider,{value:ec,children:(0,u.jsx)(eb.Z,{chat:j,message:P,children:(0,u.jsx)(ef.Z,{message:P,chat:j,fileHandlerRef:v,chatInputRef:C,children:(0,u.jsxs)(e_.Z,{message:P,children:[(0,u.jsxs)("div",{className:ar().chatMessage,"data-complete":P.state!==J.Z.incomplete,id:(0,ai.n)(P.messageId),children:[!eh&&!w&&(0,u.jsx)(e5.Z,{author:P.author,authorUser:P.authorUser,bot:N,overflowButton:R.poeHideLeftSideMessageHeaderIfSameSender?null:ed}),(0,u.jsxs)("div",{ref:U,className:ar().messageRow,onClick:$,children:[(0,u.jsx)("div",{children:em&&(0,u.jsx)(e7.Z,{isDisabled:Z===eg.oW.delete&&!q,isChecked:W,className:ar().checkbox,onClick:Q})}),(0,u.jsxs)("div",{className:(0,_.$)(ar().messageWrapper,eh&&!(0,I.hb)(P)&&ar().rightSideMessageWrapper,ep&&ar().commandMessageWrapper,w&&ar().decreasedTopMargin),ref:et,children:[(0,u.jsx)(e4.Z,{supportedIframeContentTypes:eI,renderIframe:eS,text:eo,actionLogData:E,author:P.author,sourceType:P.sourceType,messageCreationTime:P.creationTime,messageSeenState:eF,isSentByViewer:eh,messageTimeoutSecs:N.messageTimeoutSecs,isOptimistic:null!==(o=P.isOptimistic)&&void 0!==o&&o,timeoutLevel:ee,state:P.state,overflowButton:ed,viewer:R,bot:N,chat:j,referencedMessage:P.referencedMessageV2&&(0,u.jsx)(message_ChatReferencedMessage,{message:P.referencedMessageV2}),contentType:P.contentType,isCancelled:ea,messageId:P.messageId,footer:(0,u.jsx)(ChatMessageFooter,{message:P,isHumanMessage:(0,I.Q1)(P),viewer:R}),subline:(0,u.jsx)(a_.s,{align:eh?"right":"left",messageData:P}),errorMessage:P.errorMessage||void 0,hasAttachments:((null===(s=P.attachments)||void 0===s?void 0:s.length)||0)>0,commandType:eu,messageStateText:null!==(d=P.messageStateText)&&void 0!==d?d:void 0,clientMessageStateText:P.clientMessageStateText||void 0,authorFullName:ek,supportedExecutableLanguages:T,isChatAnnouncement:(0,I.VQ)(P),isEdited:P.isEdited,isEditing:(null==er?void 0:er.messageId)===P.messageId,hasParameters:ew,messageCode:P.messageCode,responsibleJobState:null===(r=P.responsibleJob)||void 0===r?void 0:r.state}),!eh&&ep&&ed]})]})]}),(0,u.jsx)(e9.Z,{className:eh?ar().rightSideIdAnnotation:void 0,node:P}),b&&!((0,I.Q1)(P)&&![J.Z.error,J.Z.error_llm].includes(P.state))&&(0,u.jsx)(message_ChatLastMessageArea,{chat:j,defaultBot:A,message:P,pairedUserMessage:O,viewer:R,fileHandlerRef:v,chatInputRef:C,isSelecting:K,scrollToLastMessageTuple:S,placeholderType:(0,I.OE)(P)?M:void 0}),(0,u.jsx)(message_ChatMessageContextMenu,{message:P,bot:N,chat:j,rootRef:U,viewer:R,fileHandlerRef:v,chatInputRef:C,setIsBranchingLoading:x})]})})})})};var message_ChatMessage=e=>(0,u.jsx)(e8.F,{children:(0,u.jsx)(ChatMessageInner,{...e})}),ay=n(23282),aM=n(15844),aw=n.n(aM),message_ChatMessageDate=e=>{let{messageCreationTime:a}=e,n=(0,eW.fo)();return(0,u.jsx)(ay.Z,{className:(0,_.$)(n===eW.YU.splitPrioritizeCanvas&&aw().hiddenOnMobile,n===eW.YU.canvasFullWidth&&aw().hidden),messageCreationTime:a})},aI=n(75817),ax=n(84080),aT=n(446);let hasSameAuthorAsPreviousMessage=(e,a,n,t,i,s)=>{var r,l,o,d,c;if(0===a&&0===n&&0===t)return!1;let m=null;if(t>0){let e=i[a][n];m=e[t-1]}else if(n>0){let e=i[a][n-1];m=e[e.length-1]}return!!m&&!(e.creationTime-m.creationTime>36e8)&&((0,I.Q1)(e)&&(0,I.Q1)(m)&&(null===(r=e.authorUser)||void 0===r?void 0:r.uid)&&(null===(l=m.authorUser)||void 0===l?void 0:l.uid)?e.authorUser.uid===m.authorUser.uid:(0,I.Q1)(e)&&(0,I.Q1)(m)&&e.isOptimistic&&(null===(o=m.authorUser)||void 0===o?void 0:o.uid)&&s?s===m.authorUser.uid:!!((0,I.OE)(e)&&(0,I.OE)(m))&&null!==(d=e.bot)&&void 0!==d&&!!d.botId&&null!==(c=m.bot)&&void 0!==c&&!!c.botId&&e.bot.botId===m.bot.botId)};var aB=n(11238),aL=n(95358),aD=n(89582),aj=n(87809),aP=n.n(aj),aA=n(18802),aN=n(41664),aR=n.n(aN),aO=n(32084),aE=n(44223),aU=n.n(aE),aZ=n(66335),chat_ContinueLastChat=e=>{let{chats:a}=e,t=(0,p.useFragment)(n(95352),a),{t:i}=(0,R.$G)(),s=(0,aZ.K)();if(0===t.length)return null;let{chatCode:r,title:l,hasMultipleUsers:o}=t[0].node;return(0,u.jsx)(aR(),{href:"/chat/".concat(encodeURIComponent(r)),children:(0,u.jsxs)("div",{className:aU().container,children:[(0,u.jsxs)("div",{className:aU().left,children:[(0,u.jsx)("div",{className:aU().title,children:(0,aO.U)(l,o,i)}),(0,u.jsx)("p",{children:i(s?"Continue your last chat with this app":"Continue your last chat with this bot")})]}),(0,u.jsx)(ej.Z,{as:"button",className:aU().chevronButton,iconLeft:(0,u.jsx)(ab.VG,{}),theme:"secondary",showIconOnly:"always",children:i("Continue your last chat")})]})})};let useUnreadMessageHandler=e=>{let{viewerLastSeenMessageId:a,unseenItemCount:n,messageTuples:t,hasMoreMessageToLoad:i,isBotPage:s}=e,{t:r}=(0,R.$G)(),l=(0,ee.ZP)(),o=(0,C.Oi)(),[d,c]=(0,g.useState)(null),[m,u]=(0,g.useState)(!1),[p,h]=(0,g.useState)(!1),[k]=(0,g.useState)(a),[f]=(0,g.useState)(n),_=(0,g.useRef)(null);return(0,g.useEffect)(()=>{if(f&&(null==o?void 0:o.current)&&!m&&p&&!s){if(u(!0),_.current){let e=_.current.offsetTop-o.current.offsetTop-aL.v;o.current.scroll({top:e,behavior:"auto"})}else l({content:r("{{initialUnseenItemCount}} unread messages above",{initialUnseenItemCount:f}),type:ee.pC.base})}},[o,f,m,l,r,u,_,p,s]),(0,g.useEffect)(()=>{if(f&&null===d&&!s){if(k){let e=!1;for(let a=0;a<t.length;a++){let n=t[a];for(let a of n)if(a.messageId===k)e=!0;else if(a.messageId>k&&e){c(a.messageId),h(!0);return}}}else if(t.length>0&&!i){var e;let a=null===(e=t[0])||void 0===e?void 0:e[0];a&&c(a.messageId)}h(!0)}},[f,k,t,i,d,s]),{oldestUnreadMessageRef:_,oldestUnreadMessageId:d}};var aH=n(41480),aV=n.n(aH),chat_UnreadMessagesDivider=()=>{let{t:e}=(0,R.$G)();return(0,u.jsxs)("div",{className:aV().divider,children:[(0,u.jsx)("div",{className:aV().line}),(0,u.jsx)("span",{className:aV().text,children:e("Unread messages")}),(0,u.jsx)("div",{className:aV().line})]})};let aG=/^(?:@[A-Za-z0-9_-]+|\/[A-Za-z0-9_-]+)/,useMessageTuples=e=>{let a=(0,p.useFragment)(n(78959),e),[t,i]=(0,g.useState)(!1);return(0,g.useEffect)(()=>{if(!t){let e=[...a].sort((e,a)=>e.creationTime<a.creationTime?-1:1);e.every((e,n)=>!(n>=a.length)&&e===a[n]||((0,T.Z)("poe/statsd_event",{category:"count",key:"poe.web.out_of_order.messages_list.not_ordered_by_creation_time",value:1}),i(!0),!1))}},[t,a]),(0,g.useMemo)(()=>[...a].reduce((e,a)=>{let n=e[e.length-1];return(0,I.OE)(a)&&(null==n?void 0:n.length)>0&&((0,I.Q1)(n[0])||(0,I.pF)(n[0]))?e[e.length-1].push(a):e.push([a]),e},[]),[a])},aK=(0,u.jsx)("div",{className:aP().loaderWrapper,children:(0,u.jsx)(aT.ZP,{withText:!0})},"loader"),ErrorState=e=>{let{clearError:a}=e,{t:n}=(0,R.$G)();return(0,u.jsx)("div",{onClick:a,className:aP().errorState,children:n("Something went wrong while loading more messages. Click here to try again...")},"errorState")},EmptyChat=e=>{var a;let{chats:t=null,bot:i,viewer:s,chat:r}=e,l=(0,p.useFragment)(n(68250),i),o=(0,p.useFragment)(n(61495),null!=r?r:null),d=(0,p.useFragment)(n(33265),s),c=(0,p.useFragment)(n(64834),t);return(0,u.jsxs)("div",{className:aP().emptyView,children:[(!d.shouldHideBotInfoCardWithAutoReplyOff||null===(a=o.shouldBotAutoRespond)||void 0===a||a)&&(0,u.jsx)(O.Z,{bot:l,viewer:d,showFollowerCount:!0,showMonthlyActiveUserCount:!0}),(0,u.jsx)("div",{className:aP().inviteSection,children:(0,u.jsx)(aI.Z,{botId:l.botId,chatId:o.isOptimistic?void 0:o.chatId,viewer:d,inviteFlowEntryType:aA.Z.page_surface,sourcePage:ew.Z.bot_chat})}),c&&(0,u.jsx)(chat_ContinueLastChat,{chats:c})]})},ChatMessagesGroupedByDate=e=>{let{messageTuples:a,root:t,chat:i,defaultBot:s,viewer:r,fileHandlerRef:l,chatInputRef:o,scrollToLastMessageTuple:d,onSuccessfulMessageSend:m,lastMessageTupleDivRef:h,oldestUnreadMessageId:k,oldestUnreadMessageRef:f,isEligibleForBottomSpaceChecksOnLastMessageTuple:b,setIsBranchingLoading:F}=e,v=(0,p.useFragment)(n(4681),t),C=(0,p.useFragment)(n(83011),i),S=(0,p.useFragment)(n(53347),r),y=(0,p.useFragment)(n(61309),s),M=(0,H.Z)(C),w=(0,g.useRef)(new Date),x=(0,g.useRef)(new Map),T=(0,g.useMemo)(()=>(0,aB.x3)(a,w.current,x.current),[a]),B=(0,g.useMemo)(()=>({showMessageOnTopWithSpaceBelow:(e,a)=>{var n,t,i;return"default"===S.poeWebChatNewScrollBehavior||"animate_jump"===S.poeWebChatNewScrollBehavior&&e&&((0,I.Q1)(a[0])||(0,I.OE)(a[0]))&&b&&((null===(t=a[0])||void 0===t?void 0:null===(n=t.authorUser)||void 0===n?void 0:n.uid)===S.uid||(null===(i=a[0])||void 0===i?void 0:i.isOptimistic))&&(C.shouldBotAutoRespond||aG.test(a[0].text))},shouldAnimateMessageJumpOnSpaceChange:()=>"animate_jump"===S.poeWebChatNewScrollBehavior&&b}),[S.poeWebChatNewScrollBehavior,S.uid,C.shouldBotAutoRespond,b]),L=(0,E.X)(C.lastMessage),D=(0,g.useMemo)(()=>{if("animate_jump"===S.poeWebChatNewScrollBehavior&&!b&&!L)return M?c.ACTION_BAR:c.ACTION_BAR_AND_FOLLOW_UP_ACTIONS},[L,S.poeWebChatNewScrollBehavior,b,M]);return(0,u.jsx)(u.Fragment,{children:T.map((e,a)=>{let n=e[0][0],t=(0,aB.MF)(n,w.current,x.current);return(0,u.jsxs)("div",{className:(0,_.$)(aP().tupleGroupContainer,S.poeHideLeftSideMessageHeaderIfSameSender&&aP().largerGap),suppressHydrationWarning:!0,children:[(0,u.jsx)(message_ChatMessageDate,{messageCreationTime:n.creationTime}),e.map((n,t)=>{let i=a===T.length-1&&t===e.length-1,s=B.showMessageOnTopWithSpaceBelow(i,n),r=B.shouldAnimateMessageJumpOnSpaceChange();return(0,u.jsx)("div",{ref:i?h:void 0,className:(0,_.$)(aP().messageTuple,S.poeHideLeftSideMessageHeaderIfSameSender&&aP().largerGap),"data-full-height":s||"animate_jump"===S.poeWebChatNewScrollBehavior&&C.isOptimistic,"data-animate-jump":r,children:n.map((e,s)=>{let r=i&&s===n.length-1,c=k===e.messageId,p=!!S.poeHideLeftSideMessageHeaderIfSameSender&&hasSameAuthorAsPreviousMessage(e,a,t,s,T,S.uid);return(0,u.jsxs)(g.Fragment,{children:[c&&(0,u.jsx)("div",{ref:f,children:(0,u.jsx)(chat_UnreadMessagesDivider,{})}),(0,u.jsx)(message_ChatMessage,{root:v,onSuccessfulMessageSend:m,message:e,pairedUserMessage:s>0?n[0]:null,isLastMessage:r,chat:C,defaultBotOfChat:y,viewer:S,fileHandlerRef:l,chatInputRef:o,scrollToLastMessageTuple:d,setIsBranchingLoading:F,lastMessageAreaPlaceholderTypeForBotMessage:D,hideMessageHeader:p})]},e.id)})},n[0].id)})]},t)})})};var chat_ChatMessagesView=e=>{var a,t,i,s,r,l,o,d,c,m,h,k,f;let{root:_,chat:b,chats:F=null,defaultBot:v,edges:S,viewer:y,loadPrevious:M,hasPrevious:w,isLoadingPrevious:x,fileHandlerRef:B,chatInputRef:L,onSuccessfulMessageSend:D,setIsBranchingLoading:j}=e,P=(0,p.useFragment)(n(79964),_),A=(0,p.useFragment)(n(91596),b),N=(0,p.useFragment)(n(68207),F),R=(0,p.useFragment)(n(15054),v),U=(0,p.useFragment)(n(1755),S),Z=(0,p.useFragment)(n(47579),y),[H,V]=(0,g.useState)(null),G=(0,C.Oi)(),K=(0,g.useRef)(null),W=(0,g.useCallback)(()=>{M(25,{onComplete:e=>{var a,n;K.current=null!==(n=null==G?void 0:null===(a=G.current)||void 0===a?void 0:a.scrollTop)&&void 0!==n?n:null,requestAnimationFrame(()=>{(null==G?void 0:G.current)&&K.current&&(G.current.scrollTop=K.current)}),e&&V(e)}})},[M,V,G]),z=(0,g.useCallback)(()=>{V(null)},[V]),q=useMessageTuples(U.map(e=>e.node));(0,g.useEffect)(()=>{q.length&&Z.lastAtMentionEnabled&&q.flat().map(e=>{var a;if((null===(a=e.authorUser)||void 0===a?void 0:a.uid)===Z.uid&&(0,I.Q1)(e)){(0,aD.DU)(e.text,A.chatId,!!Z.lastAtMentionEnabled);return}})},[Z.uid,q,A.chatId,Z.lastAtMentionEnabled]);let $=(0,g.useRef)(null),J=q[q.length-1],Q=(null==J?void 0:null===(a=J[0])||void 0===a?void 0:a.clientNonce)||(null==J?void 0:null===(t=J[0])||void 0===t?void 0:t.id),Y=(null==J?void 0:null===(s=J[0])||void 0===s?void 0:null===(i=s.authorUser)||void 0===i?void 0:i.uid)===Z.uid||(null==J?void 0:null===(r=J[0])||void 0===r?void 0:r.isOptimistic),X=(null==J?void 0:null===(o=J[0])||void 0===o?void 0:null===(l=o.authorUser)||void 0===l?void 0:l.uid)&&(null==J?void 0:null===(c=J[0])||void 0===c?void 0:null===(d=c.authorUser)||void 0===d?void 0:d.uid)!==Z.uid&&(0,I.OE)(null==J?void 0:J[J.length-1]),ee=0===U.length||1===U.length&&(0,I.OE)(U[0].node),{getUnseenChatInfo:ea}=(0,aS.I)(),en=ea(A.chatId),et=1===Z.badgingEnabledProportion&&null!==(h=null==en?void 0:en.unseenMessageIds.length)&&void 0!==h?h:0,{oldestUnreadMessageRef:ei,oldestUnreadMessageId:es}=useUnreadMessageHandler({viewerLastSeenMessageId:null===(m=A.viewerLastSeenMessage)||void 0===m?void 0:m.messageId,unseenItemCount:et,messageTuples:q,hasMoreMessageToLoad:w,isBotPage:ee}),er=(0,g.useCallback)(()=>{if(!(null==G?void 0:G.current)||!$.current)return;let e=$.current.offsetTop-G.current.offsetTop-aL.v;G.current.scroll({top:e,behavior:"auto"})},[G]),el=(0,g.useCallback)(()=>{if(!(null==G?void 0:G.current))return;let e=G.current.scrollTop;G.current.scroll({top:e-5,behavior:"auto"})},[G]),eo=A.creationTime/1e3>new Date(Date.now()-5e3).getTime(),ed=(0,E.X)(A.lastMessage),ec=null!==(k=ed&&Y)&&void 0!==k&&k,[em,eu]=(0,g.useState)(eo||ec),eg=(0,g.useRef)(null),ep=(0,g.useCallback)(()=>{let e=null==G?void 0:G.current;if(!e)return!1;let a=e.scrollTop,n=e.scrollHeight,t=e.clientHeight,i=(n-t-a)/(n-t)*100;return i>=99&&i<=100},[G]),eh=(0,p.useRelayEnvironment)();(0,g.useEffect)(()=>{let e=q[q.length-1],a=null==e?void 0:e[e.length-1],n=null==a?void 0:a.id,t=new Set(q.flatMap(e=>e.map(e=>e.id).filter(Boolean)));if(null!==eg.current&&eg.current!==n){if(n&&!eg.current)eu(!0);else if(n&&eg.current&&eg.current!==n){if(t.has(eg.current))eu(!0);else{let e=eh.getStore();if(e){let a=e.getSource().get(eg.current);a&&a.isDeleted&&eu(!1)}}}}a&&!a.isOptimistic&&(eg.current=n||null)},[q,eh]),(0,g.useEffect)(()=>{Y&&!ee&&("default"===Z.poeWebChatNewScrollBehavior||"animate_jump"===Z.poeWebChatNewScrollBehavior&&em)&&er()},[Y,Q,er,ee,Z.poeWebChatNewScrollBehavior,em]),(0,g.useEffect)(()=>{"animate_jump"===Z.poeWebChatNewScrollBehavior&&X&&!ee&&ep()&&em&&(null==J?void 0:J.length)>1&&el()},[X,Q,el,ee,Z.poeWebChatNewScrollBehavior,em,null==J?void 0:J.length,ep]);let ek=(0,g.useRef)(null),ef=(0,g.useRef)(performance.now()),e_=(0,g.useRef)(!1);return(0,g.useEffect)(()=>{if(e_.current)return;let e=performance.now(),a=e-ef.current;ee||((0,T.Z)("poe/web_chat_messages_view_initial_render_time",{message_count:U.length,render_duration_ms:a}),e_.current=!0)},[]),(0,u.jsxs)(u.Fragment,{children:[0===q.length?(0,u.jsx)(EmptyChat,{chat:A,chats:N,bot:R,viewer:Z}):(0,u.jsxs)(ax.Z,{ref:ek,className:aP().infiniteScroll,loadMore:W,hasMore:w,isLoading:x,loadingState:aK,error:!!H,errorState:(0,u.jsx)(ErrorState,{clearError:z}),threshold:1e3,reverse:!0,children:[!w&&(0,u.jsxs)(u.Fragment,{children:[(!Z.shouldHideBotInfoCardWithAutoReplyOff||null===(f=A.shouldBotAutoRespond)||void 0===f||f)&&(0,u.jsx)(O.Z,{bot:R,viewer:Z,showFollowerCount:!0,showMonthlyActiveUserCount:!0}),(0,u.jsx)("div",{className:aP().inviteSection,children:(0,u.jsx)(aI.Z,{chatId:A.isOptimistic?void 0:A.chatId,viewer:Z,botId:R.botId,inviteFlowEntryType:aA.Z.page_surface,sourcePage:ew.Z.bot_chat})})]}),!!N&&(0,u.jsx)(chat_ContinueLastChat,{chats:N}),(0,u.jsx)(ChatMessagesGroupedByDate,{messageTuples:q,root:P,chat:A,defaultBot:R,viewer:Z,fileHandlerRef:B,chatInputRef:L,scrollToLastMessageTuple:er,onSuccessfulMessageSend:D,lastMessageTupleDivRef:$,oldestUnreadMessageId:es,oldestUnreadMessageRef:ei,isEligibleForBottomSpaceChecksOnLastMessageTuple:em,setIsBranchingLoading:j})]}),(0,u.jsx)(e9.Z,{node:A})]})};let aW=ao()(()=>n.e(6881).then(n.bind(n,46881)),{loadableGenerated:{webpack:()=>[46881]},ssr:!1});var chatModal_ChatModalWrapper=e=>(0,u.jsx)(g.Suspense,{fallback:null,children:(0,u.jsx)(aW,{...e})}),az=n(74182),aq=n(80378),a$=n.n(aq),aJ=n(75789),aQ=n.n(aJ),animatedStopIcon=()=>(0,u.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",children:[(0,u.jsx)("defs",{children:(0,u.jsxs)("linearGradient",{id:"fadeGradient",gradientTransform:"rotate(100 0 0)",children:[(0,u.jsx)("stop",{offset:"0%",stopColor:"#777777",stopOpacity:"0"}),(0,u.jsx)("stop",{offset:"30%",stopColor:"#777777",stopOpacity:".4"}),(0,u.jsx)("stop",{offset:"100%",stopColor:"#777777",stopOpacity:"1"})]})}),(0,u.jsx)("g",{className:aQ().spinnerCircle,children:(0,u.jsx)("path",{d:"M 50 10 A 40 40 0 1 1 10 50",fill:"none",stroke:"url(#fadeGradient)",strokeWidth:"10",strokeLinecap:"round"})}),(0,u.jsx)("rect",{x:"35",y:"35",width:"30",height:"30",rx:"5",ry:"5"})]}),aY=n(54135),poeJob_clearViewerActiveJobHeartbeatTimers=(e,a,n)=>{let t=e.get(a);if(!t)return;let i=t.getLinkedRecords("activeJobs")||[];i.forEach(e=>{e.getValue("viewerCanCancel")&&null!==e.getValue("jobId")&&void 0!==e.getValue("jobId")&&(0,ei.vA)(e.getValue("jobId").toString(),{source:n,jobState:String(aY.Z.cancelled)})})},poeJob_removeCancellableJobsFromActiveJobs=(e,a)=>{let n=e.get(a);if(!n)return;let t=n.getLinkedRecords("activeJobs")||[],i=t.filter(e=>!e.getValue("viewerCanCancel"));n.setLinkedRecords(i,"activeJobs")};let useCancelViewerActiveJobs=e=>{let a=(0,p.useRelayEnvironment)(),t=(0,g.useCallback)(()=>{let t=(0,h.readInlineData)(n(3768),e||null);if(!t)return;let updater=e=>{poeJob_clearViewerActiveJobHeartbeatTimers(e,t.id,"cancelViewerActiveJobs"),poeJob_removeCancellableJobsFromActiveJobs(e,t.id)};(0,h.commitMutation)(a,{mutation:n(8057),variables:{chatId:t.chatId},optimisticUpdater:updater,updater})},[a,e]);return t};var poeJob_useViewerCanCancelJobs=e=>{let a=(0,p.useFragment)(n(97957),e);return a.activeJobs.some(e=>e.viewerCanCancel)},chat_ChatStopMessageButton=e=>{let{chat:a,className:t}=e,{t:i}=(0,R.$G)(),s=(0,p.useFragment)(n(78517),a),r=useCancelViewerActiveJobs(s),l=poeJob_useViewerCanCancelJobs(s);return l?(0,u.jsx)(ej.Z,{as:"button",theme:"outline","aria-label":i("Stop message"),className:t,onClick:r,iconLeft:(0,u.jsx)(animatedStopIcon,{}),style:{background:"var(--pdl-bg-base)",boxShadow:"0 0 8px 1px var(--shadow-black)"},children:i("Stop")}):null},aX=n(78954),a0=n.n(aX),a1=n(76861),a2=n(37457),a3=n.n(a2);function useSwitchToCanvasTab(e){let a=(0,p.useFragment)(n(79699),e.chat),t=(0,p.useFragment)(n(42608),e.canvasTab),[i,s]=(0,p.useMutation)(n(27300)),r=(0,g.useCallback)(()=>{t&&a&&i({variables:{tabNodeId:t.id,chatId:a.chatId},updater:e=>{(0,eq.DG)(e,{canvasTab:t,chat:a})}})},[t,a,i]);return[r,s]}function ShowCanvasFAB(e){var a,t,i;let s=(0,p.useFragment)(n(4618),e.chat),r=s.canvasTabInForeground||(null===(i=s.canvasTabsConnection)||void 0===i?void 0:null===(t=i.edges)||void 0===t?void 0:null===(a=t[0])||void 0===a?void 0:a.node);return r?(0,u.jsx)(ShowCanvasFABInner,{canvasTab:r,chat:s,className:e.className,style:e.style}):null}function ShowCanvasFABInner(e){let a=(0,p.useFragment)(n(25682),e.chat),t=(0,p.useFragment)(n(11074),e.canvasTab),[i]=useSwitchToCanvasTab({canvasTab:t,chat:a}),{t:s}=(0,R.$G)(),r=(0,eW.Qd)(),{setIsCollapsed:l}=(0,e$.p)(),o=(0,a1.L)(a,t),d=(0,g.useCallback)(()=>{r&&r(eW.YU.splitPrioritizeCanvas),l(!0),o.logPreviewInteraction(eR.Z.show_canvas_using_fab),o.logAction(eh.Z.show_canvas_using_fab),a.isOptimistic||null==i||i()},[r,i,o,a.isOptimistic,l]),c=(0,eW.fo)();return(0,u.jsx)(ej.Z,{as:"button","aria-label":"Canvas",iconLeft:(0,u.jsx)(ab.C7,{size:"sm"}),showIconOnly:"medium-below",className:(0,_.$)(a3().fab,e.className),size:"md",theme:"outline",onClick:d,style:e.style,"data-canvas-sidebar-state":c,children:s("Canvas")})}var chat_ChatFooterHoveringButtonSection=e=>{let{chat:a}=e,t=(0,p.useFragment)(n(18548),a),i=(0,g.useContext)(ag),s=floating_useBorderBoxSize(i),r=(0,g.useMemo)(()=>({bottom:((null==s?void 0:s.blockSize)||74)+10}),[null==s?void 0:s.blockSize]);return(0,u.jsxs)("div",{className:a0().section,style:r,children:[(0,u.jsx)("span",{className:a0().left}),(0,u.jsx)("span",{className:a0().center}),(0,u.jsx)("span",{className:a0().right}),(0,u.jsx)(chat_ChatStopMessageButton,{chat:t,className:a0().center}),(0,u.jsx)(ShowCanvasFAB,{chat:t,className:a0().right})]})},a5=n(42093),a4=n(22782),a8=n.n(a4),message_ChatPageSuggestedMessage=e=>{let{prompt:a,onClick:n}=e,t=(0,a5.Rj)(a),i=(0,a5.bi)(a);return(0,u.jsx)(ej.Z,{full:!0,as:"button",size:"sm",theme:"outline",justify:"left",onClick:n,iconRight:(0,u.jsx)(ab.Kq,{}),className:a8().suggestedMessage,children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:a8().bot,children:t?"@".concat(t," "):""}),i]})})},a9=n(54344),a7=n(23595),a6=n(64516),ne=n(25483),na=n.n(ne);let ChatPageConversationStarter=e=>{let{conversationStarter:a,bot:t,chat:i,viewer:s,onSuccessfulMessageSend:r}=e,l=(0,p.useFragment)(n(12370),t),o=(0,p.useFragment)(n(76130),i),d=(0,p.useFragment)(n(6477),s),c=(0,eU.$3)({bot:l,chat:o,viewer:d,source:{sourceType:"conversation_starter"}}),m=(0,g.useCallback)(()=>{c({prompt:a,onSuccessfulMessageSend:r})},[r,a,c]),h=(0,X.el)(m,{viewer:d,viewObjectType:er.Z.limited_access_bot,bot:l});return(0,u.jsx)(message_ChatPageSuggestedMessage,{onClick:h,prompt:a})};var chat_ChatPageConversationStarters=e=>{var a;let{chat:t,bot:i,edges:s,chatInputRef:r,viewer:l,onSuccessfulMessageSend:o}=e,d=(0,p.useFragment)(n(40053),t),c=(0,p.useFragment)(n(88249),i),m=(0,p.useFragment)(n(73339),l),h=(0,p.useFragment)(n(16544),s),{isLoggedInUser:k}=(0,a9.b)(),{t:f}=(0,R.$G)(),_=(0,g.useRef)(c.conversationStarters),[b,F]=(0,g.useState)(!1),v=(0,a6.F)(),C=c.introduction?1:0;return((0,g.useEffect)(()=>{if((0,a7.s2)(v)){let e=r.current,setKeyboardOpen=()=>F(!0),setKeyboardClosed=()=>F(!1);return null==e||e.addEventListener("focus",setKeyboardOpen),null==e||e.addEventListener("blur",setKeyboardClosed),()=>{null==e||e.removeEventListener("focus",setKeyboardOpen),null==e||e.removeEventListener("blur",setKeyboardClosed)}}},[v,F,r]),(null===(a=_.current)||void 0===a?void 0:a.length)&&k&&!(h.length-C>0)&&!b)?(0,u.jsxs)("div",{className:na().conversationStarters,children:[(0,u.jsx)("div",{className:na().header,children:f("Try saying...")}),(0,u.jsx)("div",{className:na().container,children:_.current.map(e=>(0,u.jsx)(ChatPageConversationStarter,{conversationStarter:e,bot:c,chat:d,viewer:m,onSuccessfulMessageSend:o},e))})]}):null},nn=n(97665),nt=n.n(nn),ni=n(79767),ns=n.n(ni),chat_ChatPageFooterSelectedCount=()=>{let{t:e}=(0,R.$G)(),{selectedIds:a}=(0,eg.ZP)(),n=a.length,t=e("footerSelectedCount",{count:n,defaultValue:"{{count}} items selected",defaultValue_one:"{{count}} item selected"});return(0,u.jsx)("div",{className:ns().selectedCountText,children:t})};let ChatPageDeleteFooter_importConfirmationModal=()=>n.e(2967).then(n.bind(n,42967));var chat_ChatPageDeleteFooter=e=>{let{chat:a}=e,{t}=(0,R.$G)(),{chatCode:i}=(0,p.useFragment)(n(24294),a),{selectedIds:s}=(0,eg.ZP)(),[r,l]=(0,g.useState)(!1),o=(0,g.useCallback)(()=>{l(!0)},[l]),d=(0,g.useCallback)(()=>{l(!1)},[l]),c=(0,g.useMemo)(()=>({chatCode:i,close:d}),[i,d]);return(0,u.jsxs)("div",{className:nt().container,children:[(0,u.jsx)(chat_ChatPageFooterSelectedCount,{}),(0,u.jsx)(ej.Z,{as:"button",theme:"danger",onClick:o,className:nt().button,isDisabled:0===s.length,iconLeft:(0,u.jsx)(ab.Fz,{}),full:!0,children:t("Delete")}),(0,u.jsx)(eK.Z,{isOpen:r,onRequestClose:d,body:ChatPageDeleteFooter_importConfirmationModal,bodyProps:c,modalHeight:60,useMinHeight:!0})]})},nr=n(19644),nl=n(96094),no=n(87095),nd=n.n(no),chat_ChatPageShareFooter=e=>{let{chat:a}=e,{t}=(0,R.$G)(),{chatId:i}=(0,p.useFragment)(n(92013),a),{selectedIds:s}=(0,eg.ZP)(),r=(0,nl.T)({chatId:i,selectedIds:s}),l=(0,g.useMemo)(()=>(0,u.jsx)("div",{className:nd().buttonWrapper,children:(0,u.jsxs)(Y.DF,{onClick:r,className:nd().button,disabled:0===s.length,children:[(0,u.jsx)(nr.Z,{className:nd().linkIcon}),t("Copy share link")]})}),[r,t,s]);return(0,u.jsxs)("div",{className:nd().container,children:[(0,u.jsx)(chat_ChatPageFooterSelectedCount,{}),l]})},nc=n(32880),nm=n(21980),nu=n(33952),ng=n.n(nu),np=n(67280);let useSendChatBreak=e=>{let a=(0,p.useRelayEnvironment)();return(0,g.useCallback)(()=>sendChatBreak({environment:a,chat:e}),[a,e])},sendChatBreak=e=>{let{environment:a,chat:t}=e,{id:i,chatId:s,isOptimistic:r,...l}=(0,h.readInlineData)(n(58343),t),o=(0,w.C)(),{optimisticChatBreakId:d,optimisticIntroMessageId:c}=onChatBreakSend({environment:a,chat:l,clientNonce:o});r||(0,h.commitMutation)(a,{mutation:n(46688),variables:{chatId:s,clientNonce:o},updater:(e,a)=>(Z()(a,"Empty data for sendChatBreakMutation"),mutationUpdater(e,a,{chatNodeId:i,optimisticChatBreakId:d,optimisticIntroMessageId:c})),onError:()=>{(0,h.commitLocalUpdate)(a,e=>{onMutationFailure(e,{chatNodeId:i,optimisticChatBreakId:d,optimisticIntroMessageId:c})})}})},mutationUpdater=(e,a,n)=>{let{chatNodeId:t,optimisticChatBreakId:i,optimisticIntroMessageId:s}=n,r=e.get(t);if(Z()(r,"Cannot find chat record with id ".concat(t)),a.messageBreakEdgeCreate.message){if((0,es.Ci)(e,r,i,a.messageBreakEdgeCreate.message.node),a.messageBreakEdgeCreate.introductionMessage){if(s)(0,es.Ci)(e,r,s,a.messageBreakEdgeCreate.introductionMessage.node);else{let n=e.get(a.messageBreakEdgeCreate.introductionMessage.node.id);Z()(n,"Cannot find introduction message record with id ".concat(a.messageBreakEdgeCreate.introductionMessage.node.id)),(0,es.n3)(e,r,n)}}else s&&((0,es.T5)(r,s),e.delete(s))}else onMutationFailure(e,{chatNodeId:t,optimisticChatBreakId:i,optimisticIntroMessageId:s})},onMutationFailure=(e,a)=>{let{chatNodeId:n,optimisticChatBreakId:t,optimisticIntroMessageId:i}=a,s=e.get(n);Z()(s,"Cannot find chat record with id ".concat(n)),(0,es.T5)(s,t),e.delete(t),i&&((0,es.T5)(s,i),e.delete(i))},onChatBreakSend=e=>{let a,t,{environment:i,chat:s,clientNonce:r}=e,{id:l,defaultBotObject:o}=(0,h.readInlineData)(n(51915),s);return(0,h.commitLocalUpdate)(i,e=>{let n=e.get(l);Z()(n,"Cannot find chat record with id ".concat(l));let i=(0,em.sC)(e,{clientNonce:r});(0,es.n3)(e,n,i),a=i.getDataID();let s=createOptimisticIntroMessage(e,o);s&&((0,es.n3)(e,n,s),t=s.getDataID())}),Z()(a,"Cannot find optimistic chat break id"),{optimisticChatBreakId:a,optimisticIntroMessageId:t}},createOptimisticIntroMessage=(e,a)=>{let{introduction:t,hasMarkdownRendering:i,...s}=(0,h.readInlineData)(n(81333),a);return t?(0,em.dS)(e,{text:t,contentType:i?np.Z.text_markdown:np.Z.text_plain,state:J.Z.complete,bot:s}):null};var inputFooter_ChatBreakButton=e=>{let{chat:a,bot:t,lastMessage:i,viewer:s,chatInputRef:r,className:l,disabled:o}=e,d=(0,p.useFragment)(n(4664),a),c=(0,p.useFragment)(n(6582),t),m=(0,p.useFragment)(n(82611),i),h=(0,p.useFragment)(n(58993),s),{t:k}=(0,R.$G)(),f=(0,C.Oi)(),_=useCancelViewerActiveJobs(d),b=useSendChatBreak(d),F=(0,g.useCallback)(()=>{var e;(null==f?void 0:f.current)&&(null===(e=r.current)||void 0===e||e.focus(),f.current.scroll({top:"animate_jump"===h.poeWebChatNewScrollBehavior?0:-aL.v,behavior:"smooth"}))},[r,f,h.poeWebChatNewScrollBehavior]),v=poeJob_useViewerCanCancelJobs(d),S=(0,I.hb)(m),[y]=useCheckLastMessageAndRefetch(d,optimisticLastMessageExists),M=(0,g.useCallback)(()=>{var e;v?(_(),b()):!i||S||d.isOptimistic?F():b(),y(void 0,null==m?void 0:m.id),null===(e=r.current)||void 0===e||e.focus()},[v,i,S,r,F,b,_,y,null==m?void 0:m.id,d.isOptimistic]),[w,x]=(0,g.useState)(null),T=k("Clear context"),B=(0,e6.Z)();return c.allowsClearContext?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ej.Z,{as:"button",size:"sm",theme:"ghost",ref:x,onClick:M,isDisabled:B||o,showIconOnly:"always",iconLeft:(0,u.jsx)(ab.$E,{}),"aria-label":T,className:l,"data-button-chat-break":!0}),(0,u.jsx)(Q.u,{anchorRef:w,label:T,placement:"top"})]}):null},nh=n(36809),nk=n(64913);let useSubmitMessage=(e,a,t,i)=>{let{...s}=(0,p.useFragment)(n(28824),e),r=(0,p.useFragment)(n(41257),a),l=(0,p.useFragment)(n(89929),t),o=(0,g.useMemo)(()=>({sourceType:"chat_input",chatInputMetadata:{useVoiceRecord:!1}}),[]),{setInputFooterReferencedMessage:d,inputFooterReferencedMessage:c}=(0,az._)(),m=(0,g.useCallback)(()=>d(null),[d]),u=(0,p.useFragment)(n(70139),c),h=(0,eU.$3)({bot:s,chat:r,viewer:l,source:o,referencedMessage:u}),{chatContextLoggingValue:k}=(0,nc.t)();return(0,g.useCallback)((e,a,n,t,s,r)=>{var l,o,d;let c=null===(l=e.current)||void 0===l?void 0:l.getValue();if(void 0===c||!c&&0===n.length)return;!s&&t&&(c=(0,nk.yJ)(c,t));let u={sourceType:"chat_input",chatInputMetadata:{useVoiceRecord:(null===(o=a.current)||void 0===o?void 0:o.getVoiceInputUsed())||!1,...k?{newChatContext:k}:{}}};h({prompt:c,parameters:s?t:void 0,files:n,source:u,onSuccessfulMessageSend:i}),null===(d=e.current)||void 0===d||d.setValue(""),null==r||r(),m()},[k,h,i,m])};var nf=(0,g.forwardRef)((e,a)=>{let{chat:t,defaultBot:i,targetedBot:s,edges:r,lastMessage:l,viewer:o,onSuccessfulMessageSend:d,setTargetedBot:c,fileHandlerRef:m}=e,h=(0,p.useFragment)(n(84087),t),{noAccessMessage:k,...f}=(0,p.useFragment)(n(23813),i),{..._}=(0,p.useFragment)(n(35858),s),b=(0,g.useRef)(null),F=(0,g.useCallback)((e,a)=>{let t;if((0,aD.rw)(e))t=e.mentionWithAt;else{let a=(0,p.readInlineData)(n(55023),e);t=(null==a?void 0:a.handle)||null,c(a)}t&&b.current&&(0,E.A)(b,t,a)},[c]),v=(0,p.useFragment)(n(3178),r),C=(0,p.useFragment)(n(27259),l),S=(0,p.useFragment)(n(59948),o),[y,M]=(0,g.useState)(k||null);(0,g.useEffect)(()=>{M(k||null)},[k]);let[w]=useCheckLastMessageAndRefetch(h,optimisticLastMessageExists),I=(0,g.useCallback)(e=>{var a;null==d||d(e),w(void 0,null===(a=e.messageEdgeCreate.message)||void 0===a?void 0:a.id)},[d,w]),x=useSubmitMessage(_,h,S,I),{t:T}=(0,R.$G)(),{editingMessageData:L,cancelEditing:D,initialMessageDraftValue:j}=(0,B.m)(),P=!!L,A=(0,B.tv)(),N=(0,g.useCallback)(()=>{var e;D(),b.current&&b.current.setValue(j),null==m||null===(e=m.current)||void 0===e||e.clearAllFiles()},[D,b,m,j]),O=(0,g.useCallback)((e,a,n,t,i,s)=>{var r;return P&&L?A({messageId:L.messageId,newText:(null===(r=e.current)||void 0===r?void 0:r.getValue())||"",viewer:S,chatInputRef:e,chatId:h.chatId,voiceButtonRef:a,files:n,clearFiles:s,cancelEditing:D,onSuccess:a=>{var n;e.current&&e.current.setValue(j),w(void 0,null===(n=a.messageEdgeEdit.message)||void 0===n?void 0:n.node.id)}}):x(e,a,n,t,i,s)},[P,L,A,x,D,h,w,j,S]),U=(0,E.X)(C),Z=T(P?"Edit message":"Message"),H=(0,g.useCallback)(()=>{k&&M(k)},[k]);(0,g.useEffect)(()=>{"virtualKeyboard"in navigator&&navigator.virtualKeyboard&&(navigator.virtualKeyboard.overlaysContent=!0)});let V=(0,g.useMemo)(()=>(0,aF.Z)([b,a]),[b,a]);return(0,u.jsxs)(u.Fragment,{children:[y&&!1!==h.shouldBotAutoRespond&&(0,u.jsx)("div",{className:ng().warningBannerHolder,children:(0,u.jsx)(nm.Z,{className:ng().invalidMentionedBotWarning,text:y})}),(0,u.jsx)("div",{className:ng().footer,children:(0,u.jsx)(nh.Z,{ref:V,edges:v,viewer:S,chat:h,bot:_,onSubmitMessage:O,isBotResponding:U,placeholderText:Z,fileHandlerRef:m,selectBot:F,setTargetedBot:c,setInputErrorMessage:M,onInputCleared:H,handleCancelEdit:N,accessoryChatBreakButton:(0,u.jsx)(inputFooter_ChatBreakButton,{chat:h,bot:f,lastMessage:C,viewer:S,chatInputRef:b,disabled:P})})})]})}),n_=n(57758),nb=n(63318),nF=n.n(nb);let importRemixImageHintsModal=()=>n.e(9867).then(n.bind(n,99867));(r=m||(m={}))[r.remix=0]="remix",r[r.edit=1]="edit";let nv={0:{getText:e=>e("Remix image"),getModal:()=>importRemixImageHintsModal},1:{getText:e=>e("Editing")}};var inputFooter_ChatMessageInputUserHintButton=e=>{let{userHintType:a}=e,{t:n}=(0,R.$G)(),{getText:t,getModal:i}=nv[a],s=t(n),r=i?i():null,[l,o]=(0,g.useState)(!1),d=(0,g.useCallback)(()=>{o(!0)},[o]),c=(0,g.useCallback)(()=>{o(!1)},[o]),m=(0,g.useMemo)(()=>({close:c}),[c]);return(0,u.jsxs)("div",{className:nF().userHintContainer,children:[(0,u.jsx)("div",{className:nF().userHintTypeText,children:s}),r&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:nF().userHintSeeTipsText,onClick:d,children:[n("See tips"),(0,u.jsx)(n_.Z,{className:nF().chevronIcon})]}),(0,u.jsx)(eK.Z,{isOpen:l,onRequestClose:c,body:r,bodyProps:m})]})]})},nC=n(38033),nS=n(39620),ny=n(17421),nM=n.n(ny),inputFooter_InputFooterReferencedMessageHeader=()=>{let{setInputFooterReferencedMessage:e,inputFooterReferencedMessage:a}=(0,az._)(),t=(0,p.useFragment)(n(71472),a),i=(0,g.useCallback)(()=>e(null),[e]);if(!t)return null;let{messageId:s,bot:r,authorUser:l,attachments:o,text:d}=t;return(0,u.jsx)(nC.Z,{isReferencingMessageSentByViewer:!1,isReferencingMessageErrored:!1,isInInputHeader:!0,children:(0,u.jsxs)("div",{className:nM().container,children:[(0,u.jsx)("div",{className:nM().referencedMessage,children:(0,u.jsx)(eF.Z,{messageId:s,bot:r,poeUser:l,attachments:o,text:d,showPrivateTag:!1})}),(0,u.jsx)(Y.t9,{className:nM().closeButton,onClick:i,icon:(0,u.jsx)(nS.Z,{})})]})})},nw=n(19156);let nI=n(75177),useReferencedMessageDraftLoader=()=>{let[e,a]=(0,p.useQueryLoader)(nI),{draft:n}=(0,nw.cX)(),{referencedMessageId:t}=n;return(0,g.useEffect)(()=>{t&&a({referencedMessageId:t})},[a,t]),e};var inputFooter_ReferencedMessageDraftLoader=e=>{let{queryReference:a}=e,{message:n}=(0,p.usePreloadedQuery)(nI,a),{setInputFooterReferencedMessage:t}=(0,az._)();return(0,g.useEffect)(()=>{t(n)},[n,t]),null},nx=n(47450),nT=(0,g.forwardRef)((e,a)=>{let{chat:t,defaultBot:i,targetedBot:s,edges:r,lastMessage:l,viewer:o,onSuccessfulMessageSend:d,setTargetedBot:c,fileHandlerRef:h,chatInputRef:k}=e,f=(0,p.useFragment)(n(51023),t),_=(0,p.useFragment)(n(56308),i),b=(0,p.useFragment)(n(99205),s),F=(0,p.useFragment)(n(48645),r),v=(0,p.useFragment)(n(25066),l),C=(0,p.useFragment)(n(56530),o),{selectionMode:S}=(0,eg.ZP)(),[y]=(0,nx.cy)(),M=y.mainAttachments,{editingMessageData:w}=(0,B.m)(),{inputFooterReferencedMessage:I}=(0,az._)(),x=useReferencedMessageDraftLoader(),T=(0,g.useMemo)(()=>S!==eg.oW.none?null:I?(0,u.jsx)(inputFooter_InputFooterReferencedMessageHeader,{}):w?(0,u.jsx)(inputFooter_ChatMessageInputUserHintButton,{userHintType:m.edit}):b.supportsRemix&&M.find(e=>{var a;return null===(a=e.type)||void 0===a?void 0:a.startsWith("image")})?(0,u.jsx)(inputFooter_ChatMessageInputUserHintButton,{userHintType:m.remix}):null,[I,w,S,b,M]);return(0,u.jsxs)("footer",{ref:a,className:a$().footer,children:[x&&(0,u.jsx)(inputFooter_ReferencedMessageDraftLoader,{queryReference:x}),(0,u.jsxs)("div",{className:a$().footerWrapper,children:[(0,u.jsx)(chat_ChatFooterHoveringButtonSection,{chat:f}),(0,u.jsxs)("div",{className:a$().footerInner,children:[(0,u.jsx)(chat_ChatPageConversationStarters,{chat:f,bot:_,edges:F,viewer:C,onSuccessfulMessageSend:d,chatInputRef:k}),T,(0,u.jsx)("div",{className:S===eg.oW.none?void 0:a$().hide,children:(0,u.jsx)(nf,{ref:k,chat:f,defaultBot:_,targetedBot:b,edges:F,lastMessage:v,viewer:C,onSuccessfulMessageSend:d,setTargetedBot:c,fileHandlerRef:h})}),S===eg.oW.share&&(0,u.jsx)(chat_ChatPageShareFooter,{chat:f}),S===eg.oW.delete&&(0,u.jsx)(chat_ChatPageDeleteFooter,{chat:f})]})]})]})});let useTargetedBotState=e=>{let[a,t]=(0,g.useState)(),i=(0,p.useFragment)(n(70107),a||e);return[i,t]},useFilterDuplicateMessageEdges=e=>{let a=(0,p.useFragment)(n(42297),e);if(!a||!e)return[];let t=new Set,i=e.filter((e,n)=>{var i;let s=null===(i=a[n].node)||void 0===i?void 0:i.id;return!(!s||t.has(s))&&(t.add(s),!0)});return i};let ChatPageMainRefetchError=class ChatPageMainRefetchError extends M.IL{static fromError(e){let a=new ChatPageMainRefetchError(e.message,{});return a.stack=e.stack,a}constructor(e,a){super(e),this.metadata=a,this.name="ChatPageMainRefetchError"}};let useRefetchMessageWhenOutOfSync=(e,a)=>{let[n]=useCheckLastMessageAndRefetch(e,(e,a,n)=>{let t=e!==a;return t?(0,T.Z)("poe/statsd_event",{category:"count",key:"poe.web.out_of_sync.last_message_id.mismatched",value:1,extra_data:{elapsedTime:n,path:window.__NEXT_DATA__.page}}):(0,T.Z)("poe/statsd_event",{category:"count",key:"poe.web.out_of_sync.last_message_id.matched",value:1,extra_data:{elapsedTime:n,path:window.__NEXT_DATA__.page}}),t},a);(0,j.q)(n),(0,x.og)(n,18e5,216e5)};var chat_ChatPageMain=e=>{let{root:a,chat:t,chats:i=null,viewer:s,onSuccessfulMessageSend:r,debug_parentHasOptimisticChat:l,debug_parentChatNodeId:o,setIsBranchingLoading:d}=e,c=(0,p.useFragment)(n(33441),a),{id:m,chatId:h,isOptimistic:k,defaultBotObject:f,..._}=(0,p.useFragment)(n(31748),t),b=l!==(null!=k&&k),F=(0,g.useRef)({});F.current.isOptimistic=k,F.current.debug_parentHasOptimisticChat=l,F.current.chatId=h,F.current.chatNodeId=m,F.current.debug_parentChatNodeId=o,(0,g.useEffect)(()=>{b&&(0,T.Z)("poe/statsd_event",{category:"count",key:"poe.web.chat.has_optimistic_mismatch",value:1,extra_data:{...F.current}})},[b]);let{lastMessage:x,...j}=(0,p.useFragment)(n(70447),_),P=(0,p.useRelayEnvironment)(),R=(0,g.useCallback)(()=>{(0,p.fetchQuery)(P,n(63212),{id:m},{fetchPolicy:"network-only"}).toPromise().catch(e=>{(0,M.H)(ChatPageMainRefetchError.fromError(e))})},[m,P]),O=(0,p.useFragment)(n(80082),x),{data:E,loadPrevious:U,hasPrevious:Z,isLoadingPrevious:H}=(0,p.usePaginationFragment)(n(14009),j),V=(0,p.useFragment)(n(14002),i),G=(0,p.useFragment)(n(68311),f),K=(0,p.useFragment)(n(52178),s),W=useFilterDuplicateMessageEdges(E.messagesConnection.edges),z=(0,g.useRef)(null),q=(0,g.useRef)(null),$=(0,g.useRef)(null),{elementProps:J,providerProps:Q}=(0,C.GO)();(0,L.fM)(h),(0,L.B1)(h),(0,L.by)(h),(0,L.o3)(h),(0,L.vI)(h,w.U),(0,L.Gm)(h),(0,L.vY)(h),(0,L.PT)(h,w.U),(0,L.xM)(),(0,L.g6)(_),(0,L.fx)(_),(0,D.VJ)(()=>{k||R()}),(0,y.e)(),useRefetchMessageWhenOutOfSync(_,R);let Y=(0,g.useCallback)(()=>{window.location.replace("/")},[]);(0,L.z8)(h,Y),(0,L.Wx)(h),(0,L.Z6)(h,Y),(0,L.Ck)(h),(0,L.Y3)(h),(0,L.Rr)(Y);let X=(0,g.useMemo)(()=>({markdownLinkRef:E,chatId:h,botId:G.botId,model:G.model}),[E,h,G.botId,G.model]),ee=G.allowsImageAttachments||G.uploadFileSizeLimit>0,[ea,en]=useTargetedBotState(G),et=0===W.length||1===W.length&&(0,I.OE)(W[0].node);return(0,u.jsx)(B.l7,{children:(0,u.jsx)(v.Z.Provider,{value:X,children:(0,u.jsxs)(S.Z,{bot:G,viewer:K,children:[!k&&(0,u.jsx)(chatModal_ChatModalWrapper,{chat:_,viewer:K}),(0,u.jsxs)(ag.Provider,{value:z,children:[(0,u.jsxs)(C.yp,{...Q,children:[(0,u.jsx)(ChatMessagesScrollWrapper,{startAtTop:et,scrollRootElementProps:J,children:(0,u.jsx)(chat_ChatMessagesView,{root:c,chat:_,chats:V,defaultBot:G,edges:W,viewer:K,loadPrevious:U,hasPrevious:Z,isLoadingPrevious:H,fileHandlerRef:q,chatInputRef:$,onSuccessfulMessageSend:r,setIsBranchingLoading:d},E.id)}),(0,u.jsx)("div",{className:A().flexGrow}),(0,u.jsx)(nx.$8,{children:(0,u.jsx)(nT,{ref:z,chat:_,defaultBot:G,targetedBot:ea,edges:W,lastMessage:O,viewer:K,setTargetedBot:en,onSuccessfulMessageSend:r,fileHandlerRef:q,chatInputRef:$})})]}),ee&&(0,u.jsx)(N.Z,{isInsideRelativeContainer:!0,fileHandlerRef:q})]})]})})})},nB=n(25012),nL=n.n(nB),layout_ChatPageMainColumn=e=>{let{header:a,children:n,banner:t=null}=e,i=(0,a6.F)(),s=!(0,a7.k6)(i)&&nL().scrollSectionOverflow;return(0,u.jsxs)(u.Fragment,{children:[a,t,(0,u.jsx)("div",{className:(0,_.$)(s),children:(0,u.jsx)("div",{className:nL().column,children:n})})]})},nD=n(1528),nj=n(71258),nP=n(15117),nA=n(4694),nN=n(59657),nR=n(1646),nO=n(71959);function HideCanvasButton(e){let{className:a,sideEffect:n,logger:t}=e,i=(0,eW.Qd)(),s=(0,eW.fo)(),{t:r}=(0,R.$G)(),l=(0,g.useCallback)(()=>{null==i||i(eW.YU.canvasHidden),null==n||n(),t.logPreviewInteraction(eR.Z.hide_canvas)},[i,n,t]),o=r("Hide canvas"),[d,c]=(0,g.useState)(null);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ej.Z,{as:"button",iconLeft:(0,u.jsx)(ab.zU,{}),theme:"ghost",size:"sm",showIconOnly:"always","aria-label":o,onClick:l,className:a,ref:c,children:o}),s!==eW.YU.canvasHidden&&(0,u.jsx)(Q.u,{anchorRef:d,label:o})]})}var nE=n(42550),nU=n.n(nE),nZ=n(79399),nH=n(99371),nV=n(45570),nG=n.n(nV);function InCanvasToggleMenuButton(e){let a=(0,p.useFragment)(n(67575),e.viewer);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(nZ.Z,{viewer:a,className:nG().overlayMenuButton}),(0,u.jsx)(nH.Z,{className:nG().sidebarMenuButton})]})}function CanvasHeader(e){let a=(0,p.useFragment)(n(13272),e.viewer);return(0,u.jsxs)("div",{className:nU().header,children:[(0,u.jsxs)("div",{className:nU().headerGroup,children:[(0,u.jsx)(InCanvasToggleMenuButton,{viewer:a}),(0,u.jsx)("h2",{className:nU().title,children:e.title}),(0,u.jsx)("div",{className:nU().hideMediumBelow,children:e.headerLeftActions})]}),(0,u.jsx)("div",{className:(0,_.$)(nU().headerGroup,nU().headerGroupRight),children:e.headerRightActions})]})}var nK=n(84669),nW=n.n(nK);let nz=(0,g.forwardRef)((e,a)=>{let t=(0,p.useFragment)(n(13323),e.viewer);return(0,u.jsxs)("div",{className:nW().container,ref:a,children:[(0,u.jsx)(CanvasHeader,{title:e.title,headerLeftActions:e.headerLeftActions,headerRightActions:e.headerRightActions,viewer:t}),(0,u.jsx)("div",{className:nW().body,children:e.body})]})});function CanvasLoadingPlaceholder(e){let{viewer:a}=e,t=(0,p.useFragment)(n(73394),a),i=(0,g.useMemo)(()=>({getData:()=>({}),logAction:()=>{},logPreviewInteraction:()=>{}}),[]);return(0,u.jsx)(nz,{viewer:t,body:(0,u.jsx)(aT.Sz,{}),headerRightActions:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(HideCanvasButton,{logger:i})})})}nz.displayName="CanvasLayout";var nq=n(83169),n$=n(86363),nJ=n.n(n$);function CopyDropdownMenuItem(e){let{content:a}=e,{t:n}=(0,R.$G)(),t=(0,ee.ZP)(),i=(0,g.useCallback)(()=>{navigator.clipboard.writeText(a),t({content:n("Copied to clipboard"),type:ee.pC.success})},[a,t,n]);return(0,u.jsxs)(nq.ZP,{onClick:i,shrink:!0,children:[(0,u.jsx)(ab.vU,{size:"md",className:nJ().icon}),(0,u.jsx)("p",{children:n("Copy code")})]})}function useIsCanvasTabOptimistic(e){let a=(0,p.useFragment)(n(94083),e);return!!(null==a?void 0:a.isOptimistic)}var dropdown_BudgetDropdownMenuItem=e=>{let{canvasTab:a}=e,{canvasCode:t,...i}=(0,p.useFragment)(n(10948),a),{t:s}=(0,R.$G)(),r=useIsCanvasTabOptimistic(i),l=(0,g.useCallback)(()=>{eo().push("/budget/canvas/".concat(encodeURIComponent(t)))},[t]);return(0,u.jsxs)(nq.ZP,{onClick:l,isDisabled:r,shrink:!0,children:[(0,u.jsx)(ab.ik,{size:"md",className:(0,_.$)(nJ().icon)}),(0,u.jsx)("p",{children:s("Budget")})]})},nQ=n(97057),nY=n(86880),nX=n(17552),n0=n(96225);let RemixDropdownMenuItem=e=>{let{canvasTab:a,chatId:t,className:i}=e,s=(0,p.useFragment)(n(3525),a),{t:r}=(0,R.$G)(),l=(0,ee.ZP)(),o=(0,a6.F)(),[d,c]=(0,p.useMutation)(n(22946)),m=(0,g.useCallback)(()=>{if(!s||!s.id||!s.bot.canvasContent)return null;let{canvasContent:e,botId:a}=s.bot,{content:n,contentType:i}=e;d({variables:{botId:a,canvasContent:(0,nX.B)(n,i),isRemixFlow:!0},onCompleted:e=>{if(e.continueChatToEditCanvasBot.chat){let n="/chat/".concat(encodeURIComponent(e.continueChatToEditCanvasBot.chat.chatCode),"?left_sidebar_collapsed=1");(0,a7.pE)(o)?(0,n0.Ec)(e.continueChatToEditCanvasBot.chat.chatId,e.continueChatToEditCanvasBot.chat.defaultBotObject.displayName):(0,a7.G6)(o)?window.location.href=n:window.open(n,"_blank"),(0,T.Z)("poe/action_log",{action_type:eh.Z.remix_button_click,bot_id:a,chat_id:t})}else l({type:ee.pC.warning,content:r("Something went wrong.")})}})},[s,t,d,l,r,o]);return s&&s.id&&s.bot.canvasContent?(0,u.jsxs)(nq.ZP,{className:i,isDisabled:c,onClick:m,shrink:!0,children:[(0,u.jsx)(ab.oO,{size:"md"}),(0,u.jsx)("p",{children:r("Remix")})]}):null};var n1=n(39170),n2=n(91917),n3=n(45444),n5=n(77546),n4=n(36796),n8=n(39781),n9=n(36383),n7=n(6305),n6=n(58705),te=n(63266),ta=n(41156),tn=n(12001),tt=n(67209),ti=n(65478);let ts={[eR.Z.viewable_impression_10s]:1e4,[eR.Z.viewable_impression_30s]:3e4,[eR.Z.viewable_impression_60s]:6e4,[eR.Z.viewable_impression_300s]:3e5},tr=[eR.Z.viewable_impression_10s,eR.Z.viewable_impression_30s,eR.Z.viewable_impression_60s,eR.Z.viewable_impression_300s];var tl=n(96458),to=n(66135),td=n.n(to);function AbsolutelyPositionedLoadingIndicator(){return(0,u.jsx)("div",{className:td().wrapper,children:(0,u.jsx)(aT.ZP,{})})}var tc=n(59404),tm=n(37160),tu=n(44459),tg=n.n(tu);function useIsCanvasBotTab(e){let a=(0,p.useFragment)(n(25385),e);return(null==a?void 0:a.__typename)==="BotCanvasTab"}var tp=n(14858),header_getPublishAsNewUrl=e=>"/create_bot?type=canvas&canvas_node_id=".concat(function(e){try{return encodeURIComponent(e)}catch(a){return e}}(e)),th=n(63758);let ConfirmationModal=()=>n.e(4402).then(n.bind(n,34402));var header_useUpdateCanvasBotConfirmationModal=e=>{let{chat:a,bot:t,canvasTab:i}=e,{chatId:s}=(0,p.useFragment)(n(20660),a),r=(0,p.useFragment)(n(62874),t),l=(0,p.useFragment)(n(90629),i),[o,d]=(0,g.useState)(!1),c=(0,g.useCallback)(()=>{d(!0)},[d]),m=(0,g.useCallback)(()=>{d(!1)},[d]),h=(0,g.useMemo)(()=>r?{botId:r.botId,chatId:s,canvasTabNodeId:l.id,onClose:m}:null,[r,s,l.id,m]),k=h?(0,u.jsx)(eK.Z,{isOpen:o,onRequestClose:m,body:ConfirmationModal,bodyProps:h,useMinHeight:!0}):null;return{modal:k,openModal:c,isOpen:o}},header_CanvasTabShareOrPublishButton=e=>{let{canvasTab:a,chat:t,viewer:i,logger:s}=e,r=(0,p.useFragment)(n(24979),a),l=(0,p.useFragment)(n(84765),t),o=(0,p.useFragment)(n(20154),i),{t:d}=(0,R.$G)(),[c,m]=(0,g.useState)(null),h=(0,th.ZP)({chat:l}),k=header_useUpdateCanvasBotConfirmationModal({chat:l,bot:l.chatSettingsFieldBotToEdit||null,canvasTab:r}),f=d("Publish"),_=(0,g.useMemo)(()=>({isDisabled:!!r.isOptimistic,iconLeft:(0,u.jsx)(ab.zc,{}),size:"sm",theme:"ghost",showIconOnly:"medium-below","aria-label":f,ref:m,...h||l.chatSettingsFieldBotToEdit?{as:"button",onClick:k.openModal}:{as:"a",href:header_getPublishAsNewUrl(r.id)}}),[r.id,r.isOptimistic,l.chatSettingsFieldBotToEdit,k.openModal,h,f]),b=useIsCanvasBotTab(r);return b?(0,u.jsx)(tp.R,{canvasTab:r,viewer:o,logger:s}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:nU().hideMediumBelow,children:(0,u.jsx)(tp.R,{canvasTab:r,viewer:o,logger:s})}),(0,u.jsxs)("div",{className:nU().showMediumBelow,children:[(0,u.jsx)(ej.Z,{..._,children:f}),(0,u.jsx)(Q.u,{anchorRef:c,label:f})]}),k.modal]})};function EditBotButton(e){let a=(0,p.useFragment)(n(90688),e.tab),{t}=(0,R.$G)(),i=(0,aZ.K)();return a.bot?(0,u.jsxs)(nq.ZP,{href:"/edit_bot?bot=".concat(encodeURIComponent(a.bot.handle)),shrink:!0,className:e.className,children:[(0,u.jsx)(ab.U3,{size:"md"}),(0,u.jsx)("p",{children:t(a.bot.isCanvasOnlyBot&&i?"Edit app":"Edit bot")})]},"editBot"):null}function EditButtonInHeader(e){let{canvasTab:a}=e,t=(0,p.useFragment)(n(34366),a),{t:i}=(0,R.$G)(),[s,r]=(0,g.useState)(null);if(!t.bot||!t.bot.viewerIsCreator)return null;let l=i("Edit");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ej.Z,{as:"a",href:"/edit_bot?bot=".concat(encodeURIComponent(t.bot.handle)),size:"sm","aria-label":l,ref:r,iconLeft:(0,u.jsx)(ab.U3,{}),theme:"outline",className:nU().hideMediumBelow,"data-canvas-tab-primary-button-type":"edit",children:l}),(0,u.jsx)(Q.u,{anchorRef:s,label:l})]})}var tk=n(74192),tf=n.n(tk);function ExpandCanvasButton(){let e=(0,eW.Qd)(),{setIsCollapsed:a}=(0,e$.p)(),n=(0,eW.fo)(),t=(0,g.useCallback)(()=>{e&&e(e=>(e!==eW.YU.canvasFullWidth&&a(!0),e===eW.YU.canvasFullWidth?eW.YU.splitPrioritizeCanvas:eW.YU.canvasFullWidth))},[e,a]),{t:i}=(0,R.$G)(),s=i(n===eW.YU.canvasFullWidth?"Collapse":"Expand"),[r,l]=(0,g.useState)(null),o=n===eW.YU.canvasFullWidth?(0,u.jsx)(ab.bt,{}):(0,u.jsx)(ab.qp,{});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ej.Z,{as:"button",iconLeft:o,className:tf().hideCompactBelow,theme:"ghost",size:"sm",showIconOnly:"always","aria-label":s,onClick:t,ref:l,children:s}),(0,u.jsx)(Q.u,{anchorRef:r,label:s})]})}var header_PublishAsNewDropdownMenuItem=e=>{let a=(0,p.useFragment)(n(8525),e.tab),{t}=(0,R.$G)(),i=useIsCanvasBotTab(a);return!a.id||i?null:(0,u.jsxs)(nq.ZP,{className:nU().showMediumBelow,href:header_getPublishAsNewUrl(a.id),shrink:!0,children:[(0,u.jsx)(ab.zc,{size:"md"}),(0,u.jsx)("p",{children:t("Publish as new app")})]},"publishNewBot")};function PublishButton(e){var a;let{canvasTab:t}=e,i=(0,p.useFragment)(n(35939),t),{t:s}=(0,R.$G)(),[r,l]=(0,g.useState)(null),o=s("Publish");return i&&i.id?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ej.Z,{as:"a",isDisabled:null!==(a=i.isOptimistic)&&void 0!==a&&a,iconLeft:(0,u.jsx)(ab.zc,{}),size:"sm",href:header_getPublishAsNewUrl(i.id),"aria-label":o,ref:l,className:nU().hideMediumBelow,children:o}),(0,u.jsx)(Q.u,{anchorRef:r,label:o})]}):null}var t_=n(85832),tb=n(33859),tF=n(17663),tv=n(47282),tC=n.n(tv),header_PublishButtonGroup=e=>{let{canvasTab:a,chat:t}=e,i=(0,p.useFragment)(n(50852),a),s=(0,p.useFragment)(n(15837),t),r=header_useUpdateCanvasBotConfirmationModal({chat:s,bot:s.chatSettingsFieldBotToEdit||null,canvasTab:i}),{t:l}=(0,R.$G)(),[o,d]=(0,g.useState)(!1),c=(0,g.useCallback)(()=>{eo().push(header_getPublishAsNewUrl(i.id))},[i.id]),m=(0,g.useRef)(null),[h,k]=(0,g.useState)(null),f=(0,g.useMemo)(()=>(0,aF.Z)([m,k]),[m,k]);return i&&i.id&&r.modal?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(tF.h,{children:[(0,u.jsx)(ej.Z,{as:"button",isDisabled:!!i.isOptimistic,iconLeft:(0,u.jsx)(ab.zc,{}),size:"sm",onClick:r.openModal,children:l("Publish")}),(0,u.jsxs)(tb.Z,{isOpen:o,setIsOpen:d,placement:"bottom-start",body:(0,u.jsx)(t_.Z,{children:(0,u.jsxs)(nq.ZP,{onClick:c,shrink:!0,children:[(0,u.jsx)(ab.zc,{size:"md",className:(0,_.$)(tC().icon)}),(0,u.jsx)("p",{children:l("Publish as new app")})]})}),children:[(0,u.jsx)(ej.Z,{as:"button","aria-label":l("More Options"),ref:f,"aria-expanded":o,iconLeft:(0,u.jsx)(ab.C2,{}),showIconOnly:"always",size:"sm",className:tC().secondaryButton,isDisabled:!!i.isOptimistic}),!o&&(0,u.jsx)(Q.u,{anchorRef:h,label:l("More Options")})]})]}),r.modal]}):null};function RemixButton(e){let{canvasTab:a,chatId:t}=e,i=(0,p.useFragment)(n(33370),a),{t:s}=(0,R.$G)(),r=(0,ee.ZP)(),l=(0,a6.F)(),[o,d]=(0,p.useMutation)(n(27269)),c=(0,g.useCallback)(()=>{if(!i||!i.id||!i.bot.canvasContent)return null;let{canvasContent:e,botId:a}=i.bot,{content:n,contentType:d}=e;o({variables:{botId:a,canvasContent:(0,nX.B)(n,d),isRemixFlow:!0},onCompleted:e=>{if(e.continueChatToEditCanvasBot.chat){let n="/chat/".concat(encodeURIComponent(e.continueChatToEditCanvasBot.chat.chatCode),"?left_sidebar_collapsed=1");(0,a7.pE)(l)?(0,n0.Ec)(e.continueChatToEditCanvasBot.chat.chatId,e.continueChatToEditCanvasBot.chat.defaultBotObject.displayName):(0,a7.G6)(l)?window.location.href=n:window.open(n,"_blank"),(0,T.Z)("poe/action_log",{action_type:eh.Z.remix_button_click,bot_id:a,chat_id:t})}else r({type:ee.pC.warning,content:s("Something went wrong.")})}})},[i,t,o,r,s,l]);return i&&i.id&&i.bot.canvasContent?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(ej.Z,{as:"button",size:"sm",theme:"outline",isLoading:d,onClick:c,iconLeft:(0,u.jsx)(ab.oO,{}),className:nU().hideMediumBelow,children:s("Remix")})}):null}var tS=n(19673),ty=n(27382),header_ShareDropdownMenuItem=e=>{let{canvasTab:a,viewer:t,logger:i}=e,{messageId:s,message:r,codeblockIndex:l,canvasCode:o,...d}=(0,p.useFragment)(n(91952),a),c=(0,p.useFragment)(n(71270),t),{t:m}=(0,R.$G)(),h=(0,ee.ZP)(),k=useIsCanvasBotTab(d),[f]=(0,tS.Z)(),{openModal:_}=(0,tm.Z)(),b=(0,g.useCallback)(()=>{_({canvasCode:o})},[_,o]),F=(0,g.useCallback)(async()=>{if(!s||null==l)return;let e=f({messageId:s,codeblockIdx:l,onCompleted:()=>{i.logPreviewInteraction(eR.Z.share),i.logAction(eh.Z.share_preview)}});await (0,ty.n9)(e)&&h({type:ee.pC.success,content:m("Copied link to clipboard.")})},[l,f,i,s,h,m]),v=c.poeEnableMultiUserInvite&&o?b:F;return!s||k?null:(0,u.jsxs)(nq.ZP,{className:nU().showMediumBelow,onClick:v,isDisabled:(null==r?void 0:r.state)==="incomplete",shrink:!0,children:[(0,u.jsx)(ab.MS,{size:"md"}),(0,u.jsx)("p",{children:m("Share")})]},"share")},header_useHideCanvasTab=e=>{let a=(0,p.useFragment)(n(65545),e.chat),t=(0,p.useFragment)(n(73863),e.canvasTab),[i,s]=(0,p.useMutation)(n(96916)),r=(0,g.useCallback)(()=>{i({variables:{chatId:a.chatId,tabInput:{},tabNodeId:t.id}})},[t,a.chatId,i]);return[r,s]};function ViewBotDetailsButton(e){let a=(0,p.useFragment)(n(96479),e.tab),{t}=(0,R.$G)();return a.bot?(0,u.jsxs)(nq.ZP,{href:"/".concat(a.bot.handle,"?canvas_hidden=1"),target:"_blank",shrink:!0,children:[(0,u.jsx)(ab.aU,{size:"md"}),(0,u.jsx)("p",{children:t("View app details")})]}):null}var tM=n(78714),tw=n.n(tM),tI=n(14380),tx=n.n(tI);function CanvasTabSelectorItemUncontrolled(e){return(0,u.jsxs)("div",{className:tx().container,children:[e.children,(0,u.jsxs)("button",{className:tx().primaryButton,onClick:e.onOpenClick,children:[(0,u.jsx)("span",{className:tx().primaryButtonText,children:e.name}),e.isActive&&(0,u.jsx)("span",{"aria-label":"Active tab",className:tx().activeIndicator})]}),(0,u.jsx)("div",{className:tx().closeButton,children:(0,u.jsx)(ej.Z,{as:"button",onClick:e.onCloseClick,theme:"secondary",size:"sm",children:"Close"})})]})}let CanvasTabSelectorItemDivider=()=>(0,u.jsx)("div",{className:tx().divider});function CanvasTabSelectorItem(e){var a,t;let{canvasTab:i,canvasTabToOpen:s,chat:r,popoverShouldCloseOnCloseClick:l,logger:o}=e,d=(0,p.useFragment)(n(30048),i),c=(0,p.useFragment)(n(47653),s),m=(0,p.useFragment)(n(58501),r),[h]=useSwitchToCanvasTab({canvasTab:d,chat:m}),k=d.id===(null===(a=m.canvasTabInForeground)||void 0===a?void 0:a.id),f=(0,g.useCallback)(()=>{k||(h(),o.logPreviewInteraction(eR.Z.switch_canvas_tab))},[h,o,k]),[_,,b]=useCloseCanvasTab(m),F=(0,g.useCallback)(e=>{l||e.stopPropagation(),_({tabNodeId:d.id,tabToOpenNodeId:null==c?void 0:c.id}),o.logPreviewInteraction(eR.Z.close_canvas_tab)},[o,_,d.id,null==c?void 0:c.id,l]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(CanvasTabSelectorItemUncontrolled,{isActive:k,name:null!==(t=d.title)&&void 0!==t?t:"Unknown",onOpenClick:f,onCloseClick:F,children:(0,u.jsx)(e9.Z,{node:d})}),b]})}function CanvasTabSelector_CanvasTabSelectorItemUncontrolled(e){let{children:a,onClick:n,isOpen:t,setIsOpen:i,iconLeft:s,isDisabled:r}=e,{t:l}=(0,R.$G)(),o=l("See tabs");return(0,u.jsx)(ap.Z,{size:"sm",tooltipLabel:o,onClick:n,setMenuOpen:i,menuOpen:t,isDisabled:r,iconLeft:s||(0,u.jsx)(ab.ky,{}),alignment:"center",menuBody:(0,u.jsx)(t_.Z,{children:a})})}function getIconLeft(e){if("number"!=typeof e)return(0,u.jsx)(ab.n0,{});switch(e){case 0:return(0,u.jsx)(ab.Cm,{});case 1:return(0,u.jsx)(ab.n0,{});case 2:return(0,u.jsx)(ab.$p,{});case 3:return(0,u.jsx)(ab.Bx,{});case 4:return(0,u.jsx)(ab.Vq,{});case 5:return(0,u.jsx)(ab.To,{});case 6:return(0,u.jsx)(ab.WY,{});case 7:return(0,u.jsx)(ab.I6,{});case 8:return(0,u.jsx)(ab.rO,{});case 9:return(0,u.jsx)(ab.aF,{});default:return(0,u.jsx)(ab.oe,{})}}let tT=n(68801);function CanvasTabSelectorInner(e){let{logger:a,queryReference:t}=e,{chat:i}=(0,p.usePreloadedQuery)(tT,t);Z()(i,"chat is required");let{data:s,loadNext:r,hasNext:l,isLoadingNext:o}=(0,p.usePaginationFragment)(n(90684),i),d=(0,g.useCallback)(()=>{r(20)},[r]),c=(0,H.Z)(i);return(0,u.jsx)(ax.Z,{className:tw().infiniteScrollContainer,loadMore:d,hasMore:l,isLoading:o,error:!1,threshold:100,children:s.canvasTabsConnection.edges.map((e,n)=>e.node?(0,u.jsxs)(g.Fragment,{children:[(0,u.jsx)(CanvasTabSelectorItem,{canvasTab:e.node,logger:a,chat:i,popoverShouldCloseOnCloseClick:!c&&1===s.canvasTabsConnection.edges.length,canvasTabToOpen:s.canvasTabsConnection.edges.length<=1||"foreground"!==e.node.state?null:0===n?s.canvasTabsConnection.edges[1].node:s.canvasTabsConnection.edges[0].node}),n!==s.canvasTabsConnection.edges.length-1&&(0,u.jsx)(CanvasTabSelectorItemDivider,{})]},e.node.id):null)})}function CanvasTabSelector(e){let{chat:a,isOpen:t,setIsOpen:i,logger:s}=e,r=(0,p.useFragment)(n(8081),a),l=(0,G.Z)(),[o,d]=(0,p.useQueryLoader)(tT),c=(0,g.useCallback)(()=>{d({id:r.id})},[r.id,d]),m=(0,g.useCallback)(()=>{},[]);return r.isOptimistic||!l?(0,u.jsx)(CanvasTabSelector_CanvasTabSelectorItemUncontrolled,{onClick:c,isOpen:!1,setIsOpen:m,iconLeft:getIconLeft(r.canvasTabsCount),isDisabled:!0,children:(0,u.jsx)(u.Fragment,{})}):(0,u.jsx)(g.Suspense,{fallback:(0,u.jsx)(CanvasTabSelector_CanvasTabSelectorItemUncontrolled,{onClick:c,isOpen:!1,setIsOpen:i,iconLeft:getIconLeft(r.canvasTabsCount),children:(0,u.jsx)(u.Fragment,{})},"susfb"),children:(0,u.jsx)(CanvasTabSelector_CanvasTabSelectorItemUncontrolled,{onClick:c,isOpen:t,setIsOpen:i,iconLeft:getIconLeft(r.canvasTabsCount),children:o?(0,u.jsx)(CanvasTabSelectorInner,{logger:s,queryReference:o}):(0,u.jsx)(u.Fragment,{})},"inner")})}function useHasTimeInMsPassed(e,a){let[n,t]=(0,g.useState)(!1);return(0,g.useEffect)(()=>{t(!1);let e=setTimeout(()=>{t(!0)},a);return()=>clearTimeout(e)},[e,a]),n}var tB=n(20761),tL=n(39558);let importDeleteBotModal=()=>n.e(8358).then(n.bind(n,88358));function CanvasTab(e){var a,t,i,s,r,l;let{viewer:o,canvasTab:d,chat:c,onSuccessfulMessageSend:m}=e,h=(0,p.useFragment)(n(10043),o),k=(0,p.useFragment)(n(9532),d),{t:f}=(0,R.$G)(),b=(0,p.useFragment)(n(48056),c),F=useIsCanvasBotTab(k),v=!!k.bot&&k.bot.deletionState!==tl.Z.not_deleted,C=(0,a6.F)(),S=!0===h.enableCanvasAppDebugMode,y=function(e){let a=(0,p.useFragment)(n(52032),e);return a.isOptimistic?"BotCanvasTab"===a.__typename?{type:"optimisticBotCanvasTab",botId:a.botId,canvasTabNonce:a.clientNonce}:"MessageCanvasTab"===a.__typename?{type:"optimisticMessageCanvasTab",messageId:a.messageId,codeblockIndex:a.codeblockIndex,canvasTabNonce:a.clientNonce}:void 0:{type:"canvasTab",globalId:a.globalId}}(k),M=(0,eH.X)(h),w=(0,n6.Z)(M,k.previewContentObject.content,k.previewContentObject.contentType,{inline:!1,withConsole:!0,allowDownloads:!0,linkInterceptionBehavior:"showConfirmation",interceptCopyEvents:(0,a7.P)(C),debugMode:S,useInFrameCanvasServerRelay:null!==(s=h.useInFrameCanvasServerRelay)&&void 0!==s&&s,datastoreBehavior:h.persistenceAndSyncEnabled?"server_persisted":"disabled",contentSource:y}),I=(0,a1.L)(b,k),x=(0,g.useRef)(null);!function(e,a){let n=(0,g.useRef)(new Set),t=(0,g.useRef)(null),i=(0,g.useRef)(0),s=(0,g.useRef)(null),r=(0,g.useRef)(!1),l=(0,g.useRef)(null),o=(0,g.useCallback)(()=>{if(!r.current)return;t.current&&(clearTimeout(t.current),t.current=null);let a=i.current+(s.current?Date.now()-s.current:0),l=null,d=1/0;for(let e of tr){let t=ts[e];!n.current.has(e)&&t>a&&t<d&&(l=e,d=t)}if(l){let c=d-a;t.current=setTimeout(()=>{r.current&&(e.logPreviewInteraction(l),n.current.add(l),i.current=a+c,s.current=Date.now(),o())},c)}},[e]),d=(0,g.useCallback)(()=>{r.current=!0,s.current=Date.now(),o()},[o]),c=(0,g.useCallback)(()=>{r.current=!1,t.current&&(clearTimeout(t.current),t.current=null),i.current=0,s.current=null,n.current.clear()},[]),m=(0,g.useCallback)(()=>{t.current&&(clearTimeout(t.current),t.current=null),n.current.clear(),i.current=0,r.current?(s.current=Date.now(),o()):s.current=null},[o]),u=(0,g.useCallback)(e=>{l.current&&(l.current.disconnect(),l.current=null),e&&(l.current=new IntersectionObserver(e=>{var a,n;let t=null!==(n=null===(a=e[0])||void 0===a?void 0:a.isIntersecting)&&void 0!==n&&n;t!==r.current&&(t?d():c())},{threshold:.5,root:null}),l.current.observe(e))},[d,c]);(0,g.useEffect)(()=>(a.current&&u(a.current),()=>{l.current&&(l.current.disconnect(),l.current=null)}),[a,u]),(0,g.useEffect)(()=>()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),(0,g.useEffect)(()=>{let handleVisibilityChange=()=>{let e="visible"===document.visibilityState;e?r.current&&(s.current=Date.now(),o()):r.current&&(i.current=0,s.current=null,n.current.clear(),t.current&&(clearTimeout(t.current),t.current=null))};return document.addEventListener("visibilitychange",handleVisibilityChange),()=>{document.removeEventListener("visibilitychange",handleVisibilityChange)}},[o]),(0,g.useMemo)(()=>({...e,resetImpressionTimer:m}),[e,m])}(I,x);let{log:T,clearLog:B,...D}=(0,te.Z)(void 0!==k.botId&&void 0!==h.codeEditorCanvasBotId&&k.botId===h.codeEditorCanvasBotId),[j,P]=(0,ti.J)(B),{safeMode:A,onSecurityPolicyViolation:N,disableSafeMode:O,shouldShowSafeModeOverlay:E,onSafeModeOverlayDismiss:U}=(0,tn.Z)(j),{getFileDownloadInfo:H,...G}=(0,n9.Z)(),{isConsoleOpen:K,toggleConsole:W}=(0,n8.K)(T,{autoOpenOnError:!F}),[z,q]=(0,g.useState)(!1),[$,J]=(0,g.useState)(!1),Q=function(e,a,t,i){let s=(0,p.useFragment)(n(19143),e),r=(0,p.useFragment)(n(1425),t),l=(0,p.useFragment)(n(93578),a),{t:o}=(0,R.$G)(),d=(0,eW.Qd)(),c=(0,g.useRef)(null),m=(0,g.useRef)(s);m.current=s;let u=(0,g.useRef)(r);u.current=r;let h=(0,g.useRef)(l);h.current=l;let k=(0,p.useRelayEnvironment)(),f=(0,eH.X)(l);return(0,g.useCallback)(async(e,a)=>{let args=()=>({environment:k,chat:m.current,bot:m.current.defaultBotObject,viewer:h.current,prompt:e.data.text,source:{sourceType:"preview_triggered",previewTriggeredMetadata:function(e,a){let t=(0,p.readInlineData)(n(81299),e);return t.isOptimistic&&t.botId?{fromBotCanvas:{botId:t.botId},optimisticCanvasTab:t.clientNonce?{optimisticBotCanvasTab:{botId:t.botId,clientNonce:t.clientNonce}}:null}:a?{canvasGlobalId:a,fromBotCanvas:t.botId?{botId:t.botId}:void 0}:{}}(u.current,u.current.globalId),chatInputMetadata:{useVoiceRecord:!1}},files:e.data.attachments||[],parameters:e.data.parameters,setToast:()=>{},onSuccessfulMessageSend:n=>{(0,eD.T)(a,e,{success:!0,hostWillSendResults:!0},f),handleResponseStreaming({data:n,frame:a,event:e,_chatId:m.current.id,iframeUrl:f}),null==i||i(n)},onFailedMessageSend:n=>{(0,eD.T)(a,e,{success:!1,code:"unknown",message:n.messageEdgeCreate.statusMessage||"Something went wrong."},f)},onError:()=>{(0,eD.T)(a,e,{success:!1,code:"unknown",message:"Something went wrong."},f)},t:o});if(!1!==e.data.openChat&&(null==d||d(eW.YU.splitPrioritizeChat)),!c.current){c.current=(async()=>await (0,eU.bG)(args()))();return}if(c.current){await c.current;let e=20;for(;e>0&&m.current.isOptimistic&&u.current.isOptimistic;)await new Promise(e=>setTimeout(e,500)),e-=1}(0,eU.bG)(args())},[k,i,d,o,f])}(b,h,k,m),[Y]=header_useHideCanvasTab({canvasTab:k,chat:b}),[X,ee]=(0,g.useState)(!1),ea=(0,g.useCallback)(()=>{ee(!0)},[]),en=useHasTimeInMsPassed(j,500),et=useHasTimeInMsPassed(j,1e3),{stopTimer:ei}=(0,tt.Z)({language:k.previewContentObject.language,contentType:k.previewContentObject.contentType}),es=(0,g.useCallback)(()=>{ei()},[ei]),er="html"===k.previewContentObject.contentType,el=(0,th.ZP)({chat:b}),[eo,ed]=(0,g.useState)(!1),ec=(0,g.useCallback)(()=>{ed(!1)},[]),em=(0,g.useCallback)(()=>{ed(!0)},[]),eu=(0,g.useMemo)(()=>k.bot?{bot:k.bot,onRequestClose:ec}:null,[k.bot,ec]),eg=(0,n3.te)(j,I),ep=(0,n7.R)(),eh="".concat(j),ek=F&&(null===(a=k.bot)||void 0===a?void 0:a.isPromptPublic),ef=F&&(null===(l=k.bot)||void 0===l?void 0:l.viewerIsCreator)===!0?"edit":!F&&er?"publish":F&&ek?"remix":null,e_=(el||b.chatSettingsFieldBotToEdit)&&(null===(i=b.chatSettingsFieldBotToEdit)||void 0===i?void 0:null===(t=i.creator)||void 0===t?void 0:t.viewerIsUser),eb=function(e,a,t){let i=(0,p.useFragment)(n(80055),a),s=(0,p.useFragment)(n(65554),e),r=(0,p.useFragment)(n(86613),t),l=(0,eH.X)(r),[o]=function(){let[e,a]=(0,p.useMutation)(n(74229));return[e,a]}(),[d]=function(){let[e,a]=(0,p.useMutation)(n(21060));return[e,a]}(),c=useIsCanvasTabOptimistic(s),m=(0,tL.H)();return(0,g.useCallback)((e,a)=>{if(c||i.isOptimistic){(0,tB.WK)();let t=i.id;o({variables:{actions:e.actions,optimisticCanvasTab:function(e){var a,t,i;let s=(0,p.readInlineData)(n(57089),e),r=s.clientNonce;if(Z()(r,"clientNonce is required"),"BotCanvasTab"===s.__typename){let e=null===(a=s.bot)||void 0===a?void 0:a.botId;return Z()(e,"botId is required"),{optimisticBotCanvasTab:{botId:e,clientNonce:r}}}if("MessageCanvasTab"===s.__typename){let e=null===(t=s.message)||void 0===t?void 0:t.messageId;Z()(e,"messageId is required");let a=s.previewContentObject;Z()(a,"contentObject is required");let n=null!==(i=s.codeblockIndex)&&void 0!==i?i:0;return{optimisticMessageCanvasTab:{messageId:e,clientNonce:r,indexOfCodeblockInMessage:n,contentObject:a}}}throw Error("Invalid canvas tab type")}(s)},updater:(e,a)=>{var n;let i=null==a?void 0:null===(n=a.processActionsFromOptimisticCanvasTab.canvasTab)||void 0===n?void 0:n.chat;i&&(0,eU.j)(e,{chat:i,optimisticChatId:t})},onError:n=>{(0,ex.q$)(a,l,{source:"poeFrame",type:"panic",message:"Error processing canvas actions - "+n.message,requestId:e.requestId})},onCompleted:(n,t)=>{var s;if(t){(0,ex.q$)(a,l,{source:"poeFrame",type:"panic",message:"Error processing canvas actions",requestId:e.requestId});return}(0,ex.q$)(a,l,{source:"poeFrame",type:"canvasActionsResponse",requestId:e.requestId,responses:n.processActionsFromOptimisticCanvasTab.dataForCanvasTab||[]});let r=null===(s=n.processActionsFromOptimisticCanvasTab.canvasTab)||void 0===s?void 0:s.chat;i.isOptimistic&&r&&m(r),(0,tB.U3)(5e3)}})}else d({variables:{actions:e.actions,canvasTabGlobalId:s.globalId},onError:n=>{(0,ex.q$)(a,l,{source:"poeFrame",type:"panic",message:"Error processing canvas actions - "+n.message,requestId:e.requestId})},onCompleted:(n,t)=>{if(t){(0,ex.q$)(a,l,{source:"poeFrame",type:"panic",message:"Error processing canvas actions",requestId:e.requestId});return}(0,ex.q$)(a,l,{source:"poeFrame",type:"canvasActionsResponse",requestId:e.requestId,responses:n.processActionsFromCanvasTab.dataForCanvasTab||[]})}})},[c,d,o,s,i.isOptimistic,i.id,m,l])}(k,b,h),[eF,ev]=(0,g.useState)(null),eC=(0,g.useCallback)(e=>{ev(e),w(e)},[w]);!function(e,a,t){let i=(0,p.useFragment)(n(94711),t),s=(0,eH.X)(i),r=(0,p.useFragment)(n(72679),a),l=(0,g.useCallback)(a=>{if(!e)return;let n=a.onDataToForwardToCanvasTab.dataForCanvasTab;n&&0!==n.length&&(0,ex.q$)(e,s,{type:"canvasActionsPush",source:"poeFrame",data:[...n]})},[e,s]);(0,L.D4)(r.globalId,l)}(eF,k,h);let eS=(0,ta.B)(I,eI.Z.canvas);return(0,u.jsx)(tm.o,{children:(0,u.jsx)(nz,{ref:x,title:null!==(r=k.title)&&void 0!==r?r:"".concat(k.previewContentObject.contentType),viewer:h,headerLeftActions:"edit"===ef?(0,u.jsx)(EditButtonInHeader,{canvasTab:k}):"publish"===ef?e_?(0,u.jsx)(header_PublishButtonGroup,{canvasTab:k,chat:b}):(0,u.jsx)(PublishButton,{canvasTab:k}):"remix"===ef?(0,u.jsx)(RemixButton,{canvasTab:k,chatId:b.chatId}):null,headerRightActions:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(e9.Z,{node:k}),(0,u.jsx)(nQ.X,{isOpen:z,setIsOpen:q,menuBody:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(header_PublishAsNewDropdownMenuItem,{tab:k}),(0,u.jsx)(header_ShareDropdownMenuItem,{canvasTab:k,viewer:h,logger:I}),(0,u.jsx)(nY.Z,{onClick:P}),ek&&(0,u.jsx)(RemixDropdownMenuItem,{canvasTab:k,chatId:b.chatId,className:"remix"===ef?nU().showMediumBelow:""}),!F&&(0,u.jsx)(n2.L,{getFileDownloadInfo:H,logger:I}),!F&&k.previewContentObject.contentType&&(0,u.jsx)(CopyDropdownMenuItem,{content:k.previewContentObject.content}),(0,u.jsx)(n1.D,{isConsoleOpen:K,toggleConsole:W}),(0,u.jsx)(dropdown_BudgetDropdownMenuItem,{canvasTab:k}),(0,u.jsx)(ViewBotDetailsButton,{tab:k}),k.bot&&!v&&k.bot.viewerIsCreator&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(nq.ZP,{type:nq.lY.separator,shrink:!0,children:(0,u.jsx)(u.Fragment,{})},"sectionSeparator"),(0,u.jsx)(EditBotButton,{tab:k,className:"edit"===ef?nU().showMediumBelow:""}),(0,u.jsx)(nq.ZP,{shrink:!0,onClick:em,type:nq.lY.destructive,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ab.Fz,{size:"md"}),(0,u.jsx)("p",{children:f("Delete app")})]})})]})]})}),(0,u.jsx)(header_CanvasTabShareOrPublishButton,{canvasTab:k,chat:b,viewer:h,logger:I}),(0,u.jsx)(V.Z,{fallback:(0,u.jsx)("div",{children:"Unable to render tab switcher"}),children:(0,u.jsx)(CanvasTabSelector,{chat:b,logger:I,isOpen:$,setIsOpen:J})}),(0,u.jsx)(ExpandCanvasButton,{}),(0,u.jsx)(HideCanvasButton,{logger:I,sideEffect:Y})]}),body:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tc.Z,{className:tg().banner,canvasTab:k}),eu&&(0,u.jsx)(eK.Z,{isOpen:eo,onRequestClose:ec,body:importDeleteBotModal,bodyProps:eu}),(0,u.jsx)(n4.Z,{ref:eS,inline:!1,iframeClickCaptureIsDisabled:$||z,onReady:eC,safeMode:A,...eg,onCanvasActionsRequest:eb,shouldShowSafeModeOverlay:E,onSafeModeOverlayConfirm:O,onSafeModeOverlayDismiss:U,onSecurityPolicyViolation:N,onDomContentLoaded:ea,onLoaded:es,containerClassName:tg().iframe,onCopyToClipboardDesktopAppOnly:(0,a7.P)(C)?ep:void 0,className:(0,_.$)(tg().iframe,X||et?void 0:tg().hideIFrame),onSendUserMessage:Q,sendUserMessageOverlay:void 0,...D,...G,iframeUrl:M},eh),!X&&en&&(0,u.jsx)(AbsolutelyPositionedLoadingIndicator,{}),(0,u.jsx)(n5.Z,{log:T,isOpen:K,toggleConsole:W})]})})})}function Canvas(e){var a,t,i,s,r;let{viewer:l,chat:o,onSuccessfulMessageSend:d}=e,c=(0,p.useFragment)(n(75427),l),m=(0,p.useFragment)(n(56216),o);!function(e){var a;let t=(0,p.useFragment)(n(75641),e),{setIsCollapsed:i}=(0,e$.p)(),s=t.isOptimistic,r=null===(a=t.canvasTabInForeground)||void 0===a?void 0:a.id;(0,g.useEffect)(()=>{s&&r&&i(!0)},[i,s,r])}(m);let h=(0,eW.Qd)(),k=null===(a=m.canvasTabInForeground)||void 0===a?void 0:a.id;if((0,g.useEffect)(()=>{var e;h&&(k||h(eW.YU.canvasHidden),(null===(e=m.canvasTabInForeground)||void 0===e?void 0:e.state)!=="foreground"&&h(eW.YU.canvasHidden))},[k,h,null===(t=m.canvasTabInForeground)||void 0===t?void 0:t.state]),!(null===(i=m.canvasTabInForeground)||void 0===i?void 0:i.id))return(0,u.jsx)(nz,{viewer:c,body:(0,u.jsx)("div",{})});let f=(null===(s=m.canvasTabInForeground)||void 0===s?void 0:s.idWhenWasOptimistic)||(null===(r=m.canvasTabInForeground)||void 0===r?void 0:r.id);return(0,u.jsx)(g.Suspense,{fallback:(0,u.jsx)(CanvasLoadingPlaceholder,{viewer:c}),children:(0,u.jsx)(CanvasTab,{viewer:c,chat:m,canvasTab:m.canvasTabInForeground,onSuccessfulMessageSend:d},f)})}var tD=n(34389),tj=n(66743),tP=n.n(tj),tA=n(41209),tN=n(45044),tR=n.n(tN);function Sidebar(e){let{children:a}=e;return(0,u.jsx)("div",{className:tP()["canvas-column-wrapper"],children:(0,u.jsx)("aside",{className:tP()["canvas-column"],children:(0,u.jsx)(V.Z,{fallback:nA.StatusCodeErrorFallback,children:(0,u.jsx)(g.Suspense,{fallback:(0,u.jsx)(aT.Sz,{}),children:a})})})})}let CanvasSidebarLayout=e=>{let{aside:a,center:n}=e,t=(0,eW.fo)(),{onDragStart:i,mainColumnRef:s,isResizing:r}=function(){let e=(0,g.useRef)(null),[a,n]=(0,g.useState)(!1),t=(0,g.useRef)(-1),i=(0,g.useRef)(0),s=(0,g.useCallback)(a=>{e.current&&(t.current=a.clientX,i.current=e.current.clientWidth,n(!0))},[]);(0,g.useEffect)(()=>(a&&document.body.classList.add(tR().isResizing),()=>{document.body.classList.remove(tR().isResizing)}),[a]);let r=(0,g.useCallback)(()=>{n(!1)},[]),l=(0,g.useCallback)(n=>{if(!a||!e.current)return;let s=n.clientX-t.current,r=Math.floor(s+i.current);r%2==0&&document.documentElement.style.setProperty("--resized-chat-column-width","".concat(r,"px"))},[a]);return(0,g.useEffect)(()=>(a&&(window.addEventListener("mousemove",l),window.addEventListener("mouseup",r)),()=>{window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",r)}),[l,r,a]),{onDragStart:s,mainColumnRef:e,isResizing:a}}(),l=function(){let e=(0,eW.fo)(),[a,n]=(0,g.useState)(e!==eW.YU.canvasHidden);return(0,g.useEffect)(()=>{n(a=>a||e!==eW.YU.canvasHidden)},[e,a]),a}(),o=(0,tA.I)();return(0,u.jsxs)("div",{className:(0,_.$)(tP().container,tP()[t],(o||r)&&tP().disableTransition),"data-canvas-sidebar-state":t,children:[(0,u.jsx)("div",{className:tP()["chat-column"],ref:s,children:(0,u.jsx)(tD._.Provider,{value:t!==eW.YU.canvasHidden,children:(0,u.jsx)(V.Z,{fallback:nA.StatusCodeErrorFallback,children:(0,u.jsx)(g.Suspense,{fallback:(0,u.jsx)(aT.Sz,{}),children:n})})})}),(0,u.jsx)("div",{className:tP().resizeHandleContainer,children:(0,u.jsx)("div",{className:tP().resizeHandle,onMouseDown:i,children:(0,u.jsx)("div",{className:tP().resizeHandleInner})})}),l?(0,u.jsx)(V.Z,{fallback:nA.StatusCodeErrorFallback,children:(0,u.jsx)(g.Suspense,{fallback:(0,u.jsx)(aT.Sz,{}),children:(0,u.jsx)(Sidebar,{sidebarState:t,children:a})})}):null]})};function SetupCanvasSubscriptions(e){let{chat:a}=e,t=(0,p.useFragment)(n(30564),a);return(0,L.r3)(t.chatId),(0,L.Ad)(t.chatId),(0,L.$l)(t.chatId),function(e){let a=(0,p.useFragment)(n(53598),e),t=(0,g.useCallback)((e,n)=>{Z()(n,"Empty data for message deleted subscription");let t=(0,eq.qH)(e,n.messageDeleted.id);for(let n of t)(0,eq.AM)(e,{chatNodeId:a.id,canvasTabNodeId:n.getDataID()})},[a.id]);(0,L.Lj)(a.chatId,t)}(t),(0,u.jsx)(u.Fragment,{})}function MaybeWithCanvas(e){var a;let{children:t,viewer:i,chat:s,onSuccessfulMessageSend:r}=e,l=(0,p.useFragment)(n(55892),i),o=(0,p.useFragment)(n(13309),s),d=(null===(a=o.canvasTabInForeground)||void 0===a?void 0:a.id)!==null;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(CanvasSidebarLayout,{aside:d?(0,u.jsx)(Canvas,{chat:o,viewer:l,onSuccessfulMessageSend:r}):(0,u.jsx)(u.Fragment,{}),center:(0,u.jsxs)(u.Fragment,{children:[!o.isOptimistic&&(0,u.jsx)(SetupCanvasSubscriptions,{chat:o}),t]})})})}var tO=n(41188),tE=n(91522),tU=n(59108),tZ=n.n(tU),chat_ChatPublishScriptBotBanner=e=>{let{parentChatCode:a,parentChatTitle:n,parentChatId:t,parentChatExistingBotId:i,testBotId:s,testBotPromptPlaintext:r,shouldShowPublishModal:l}=e,{t:o}=(0,R.$G)(),d=(0,el.useRouter)(),{modal:c,openModal:m}=(0,tO.Z)(),p=(0,g.useCallback)(()=>{d.push({pathname:d.pathname,query:{...d.query,chat:a}},"/chat/".concat(a),{shallow:!0})},[a,d]),h=(0,g.useCallback)(()=>{l?m({scriptContent:r,botId:i,chatId:t,onPublishAsNew:()=>{window.location.href=(0,tE.V)(s,t)}}):window.location.href=(0,tE.V)(s,t)},[l,i,t,s,r,m]);return(0,u.jsxs)("div",{className:tZ().publishScriptBotBanner,children:[(0,u.jsx)("div",{className:tZ().message,children:o('Testing bot from "{{parentChatTitle}}"',{parentChatTitle:n})}),(0,u.jsxs)("div",{className:tZ().actionButtons,children:[(0,u.jsx)(ej.Z,{as:"button",onClick:p,theme:"secondary",size:"sm",children:o("Back to chat")}),(0,u.jsx)(ej.Z,{as:"button",size:"sm",onClick:h,children:o("Publish bot")})]}),c]})};let ChatPageColumn=e=>{var a;let{root:t,chat:i,viewer:s,onSuccessfulMessageSend:r,chats:l}=e,o=(0,p.useFragment)(n(96400),t),d=(0,p.useFragment)(n(37678),i),c=(0,p.useFragment)(n(31120),s),m=(0,a5.dC)(d.defaultBotObject),h=(0,nD.ZP)({chat:d.scriptTestSourceChat}),_=(0,g.useMemo)(()=>(0,nN.p)(d.title||m),[m,d.title]),b=function(e){var a,t,i;let s=(0,p.useFragment)(n(75351),e),r=(0,el.useRouter)(),l=r.query.canvas_hidden,o=useIsCanvasBotTab(null!==(t=null==s?void 0:s.canvasTabInForeground)&&void 0!==t?t:null);if(l)return eW.YU.canvasHidden;let d=null==s?void 0:null===(a=s.canvasTabInForeground)||void 0===a?void 0:a.state;return d===eV.Z.foreground?o?(null===(i=s.lastMessage)||void 0===i?void 0:i.id)?eW.YU.splitPrioritizeCanvas:eW.YU.canvasFullWidth:eW.YU.splitPrioritizeCanvas:eW.YU.canvasHidden}(d),[F,v]=(0,g.useState)(!1);if(d.isDeleted)throw new nA.NotFound;return F?(0,u.jsx)(aT.Sz,{}):(0,u.jsx)(eW._A,{initialSidebarState:b,children:(0,u.jsx)(eg.Br,{children:(0,u.jsxs)(MaybeWithCanvas,{chat:d,viewer:c,onSuccessfulMessageSend:null!=r?r:null,children:[(0,u.jsx)(nj.Z,{title:_}),(0,u.jsx)(nw.KN,{storageKey:d.isOptimistic?d.defaultBotObject.handle:d.id,children:(0,u.jsx)(az.Z,{children:(0,u.jsx)(nP.E,{children:(0,u.jsx)(layout_ChatPageMainColumn,{header:(0,u.jsx)(f.Z,{bot:d.defaultBotObject,chat:d,viewer:c,useChatTitle:!0,children:(0,u.jsx)(k.Z,{chat:d,viewer:c})}),banner:(()=>{var e,a;if(!c.enableScriptBotCreation||!d.scriptTestSourceChat)return null;let n=(0,nO.O)(null!==(a=d.defaultBotObject.botCategory)&&void 0!==a?a:null)===nR.Z.script;if(!n)return null;let{chatCode:t,title:i,chatId:s}=d.scriptTestSourceChat,{botId:r,promptPlaintext:l}=d.defaultBotObject,o=null===(e=d.scriptTestSourceChat.chatSettingsFieldBotToEdit)||void 0===e?void 0:e.botId;return(0,u.jsx)(chat_ChatPublishScriptBotBanner,{parentChatCode:t,parentChatTitle:null!=i?i:"",parentChatId:null!=s?s:0,parentChatExistingBotId:null!=o?o:0,testBotId:null!=r?r:0,testBotPromptPlaintext:null!=l?l:"",shouldShowPublishModal:h})})(),children:(0,u.jsx)(chat_ChatPageMain,{root:o,chat:d,viewer:c,onSuccessfulMessageSend:r,chats:l,debug_parentHasOptimisticChat:null!==(a=d.isOptimistic)&&void 0!==a&&a,debug_parentChatNodeId:d.id,setIsBranchingLoading:v},d.id)})})})})]})})})}},8724:function(e,a,n){"use strict";n.d(a,{E:function(){return ChatPrivacyIndicator},S:function(){return ChatPrivacyIndicatorIcon}});var t=n(85893),i=n(94370),s=n(41664),r=n.n(s);n(67294);var l=n(22120),o=n(22578),d=n(38357),c=n(29976),m=n.n(c);let ChatPrivacyIndicatorIcon=e=>{let{chat:a,hasDescription:s=!1}=e,{membersIncludeUntrustedBot:r}=(0,o.useFragment)(n(24093),a),l=s?m().shieldIconHasDescription:m().shieldIcon;return(0,t.jsx)("div",{className:m().shieldContainer,children:r?(0,t.jsx)(i.Y1,{className:l,size:"md"}):(0,t.jsx)(i.F3,{className:l,size:"sm"})})},ChatPrivacyIndicator=e=>{let{chat:a}=e,{membersIncludeUntrustedBot:i,...s}=(0,o.useFragment)(n(35307),a),{t:c}=(0,l.$G)();return(0,t.jsxs)("div",{className:m().privateMessageContainer,children:[(0,t.jsx)(ChatPrivacyIndicatorIcon,{chat:s,hasDescription:!0}),(0,t.jsxs)("p",{className:m().privateMessageText,children:[c(i?"This chat can't be read by other users but contains external server bots; anonymized chats may be used for LLM training.":"This chat can't be read by other users.")," ",(0,t.jsx)(r(),{href:(0,d.qm)("/privacy_center"),className:m().privateMessageLink,target:"_blank",children:c("Learn more")}),"."]})]})}},59404:function(e,a,n){"use strict";n.d(a,{o:function(){return h}});var t=n(85893),i=n(11163),s=n(67294),r=n(22120),l=n(22578),o=n(96948),d=n(8583),c=n(27382),m=n(12251),u=n(38357),g=n(24185),p=n.n(g);let h="app_published_banner";a.Z=e=>{var a,g,k,f,_;let{className:b,canvasTab:F}=e,v=(0,l.useFragment)(n(11784),F),[C,S]=(0,s.useState)(!1),{t:y}=(0,r.$G)(),M=(0,d.ZP)(),w=(0,i.useRouter)();(0,s.useEffect)(()=>{let e=(0,u.CS)(w,h);e&&S(!0)},[w]);let I=(0,s.useCallback)(async()=>{var e;let a="https://poe.com/".concat(null===(e=v.bot)||void 0===e?void 0:e.handle);await (0,c.vQ)(a)&&M({type:d.pC.success,content:y("Copied link to clipboard.")})},[null===(a=v.bot)||void 0===a?void 0:a.handle,M,y]);return(null===(g=v.bot)||void 0===g?void 0:g.handle)&&(null===(k=v.bot)||void 0===k?void 0:k.viewerIsCreator)&&(null===(f=v.bot)||void 0===f||!f.isPrivateBot)&&C?(0,t.jsx)("div",{className:(0,m.$)(b,p().banner),children:(0,t.jsx)(o.Z,{variant:"base",message:(0,t.jsxs)("div",{children:[y("Published. Get 1 or more users to try it for a chance to be recommended on Poe.")," ",(0,t.jsxs)("span",{className:p().underline,onClick:I,children:[y("Share")," ",null===(_=v.bot)||void 0===_?void 0:_.handle]})]})})}):null}},37160:function(e,a,n){"use strict";n.d(a,{Z:function(){return useCanvasShareModal},o:function(){return CanvasShareModalProvider}});var t=n(85893),i=n(67294),s=n(22641);let importCanvasTabShareModal=()=>n.e(7944).then(n.bind(n,67944)),r=(0,i.createContext)(null),useCanvasShareModal=()=>{let e=(0,i.useContext)(r);if(!e)throw Error("useCanvasShareModal must be used within a CanvasShareModalProvider");return e},CanvasShareModalProvider=e=>{let{children:a}=e,[n,l]=(0,i.useState)(!1),[o,d]=(0,i.useState)(null),[c,m]=(0,i.useState)(null),u=(0,i.useCallback)(e=>{let{canvasCode:a,botId:n}=e;a?d(a):n&&m(n),l(!0)},[l,d]),g=(0,i.useCallback)(()=>{l(!1),d(null),m(null)},[l,d,m]),p=(0,i.useMemo)(()=>o?{canvasCode:o}:c?{botId:c}:null,[o,c]),h=(0,i.useMemo)(()=>({openModal:u}),[u]);return(0,t.jsxs)(r.Provider,{value:h,children:[a,p&&(0,t.jsx)(s.Z,{isOpen:n,onRequestClose:g,body:importCanvasTabShareModal,bodyProps:p,variant:"compact"})]})}},14858:function(e,a,n){"use strict";n.d(a,{R:function(){return CanvasTabShareButton},m:function(){return CanvasBotShareButton}});var t=n(85893),i=n(94370),s=n(67172),r=n(67294),l=n(22120),o=n(22578),d=n(31198),c=n(78410),m=n(37160);function CanvasTabShareButton(e){var a,u,g;let{t:p}=(0,l.$G)(),h=(0,o.useFragment)(n(89766),e.canvasTab),k=(0,o.useFragment)(n(8793),e.viewer),{openModal:f}=(0,m.Z)(),[_,b]=(0,r.useState)(null),F=(0,r.useCallback)(()=>{var e;h.canvasCode?f({canvasCode:h.canvasCode}):(null===(e=h.bot)||void 0===e?void 0:e.botId)&&f({botId:h.bot.botId})},[h.canvasCode,f,null===(a=h.bot)||void 0===a?void 0:a.botId]);if(!h)return null;if(k.poeEnableMultiUserInvite){let a=p("Share");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{as:"button",className:e.className,theme:"ghost",size:"sm",iconLeft:(0,t.jsx)(i.MS,{}),showIconOnly:"always",onClick:F,"aria-label":a,ref:b,children:a}),(0,t.jsx)(s.u,{anchorRef:_,label:a})]})}return(null===(u=h.bot)||void 0===u?void 0:u.handle)?(0,t.jsx)(CanvasBotShareButton,{className:e.className,botHandle:h.bot.handle}):h.messageId&&"number"==typeof h.codeblockIndex?(0,t.jsx)(d.T,{logger:e.logger,codeblockIdx:h.codeblockIndex,messageId:h.messageId,disabled:(null===(g=h.message)||void 0===g?void 0:g.state)==="incomplete",showIconOnly:"always"}):null}function CanvasBotShareButton(e){return(0,t.jsx)(d.v,{className:e.className,showIconOnly:"always",shareUrl:"https://poe.com/".concat(e.botHandle),icon:e.icon,theme:e.theme})}},63758:function(e,a,n){"use strict";n.d(a,{BS:function(){return s},Lg:function(){return i},a:function(){return r}});var t=n(22578);let i=5003,s=6443209,r="App-Creator";a.ZP=e=>{let{chat:a}=e,{chatSettingsFieldBotToEdit:r,defaultBotObject:l}=(0,t.useFragment)(n(65176),a);return!!(null==r?void 0:r.botId)&&(l.botId===i||l.botId===s)}},65059:function(e,a,n){"use strict";n.d(a,{M:function(){return useChatMessageFollowupActionsModal}});var t=n(85893),i=n(67294),s=n(22578),r=n(22641);let importChatMessageFollowupActionsModal=()=>n.e(5136).then(n.bind(n,95136)),l=(0,i.createContext)({setChatMessageFollowupActionsModalVisible:()=>{},chatMessageFollowupActionsModalVisible:!1}),useChatMessageFollowupActionsModal=()=>{let{setChatMessageFollowupActionsModalVisible:e}=(0,i.useContext)(l),a=(0,i.useCallback)(()=>{e(!0)},[e]),n=(0,i.useCallback)(()=>{e(!1)},[e]);return{showChatMessageFollowupActionsModal:a,hideChatMessageFollowupActionsModalIfVisible:n}};a.Z=e=>{let{chat:a,message:o,fileHandlerRef:d,chatInputRef:c,children:m}=e,u=(0,s.useFragment)(n(19701),a),g=(0,s.useFragment)(n(72232),o),[p,h]=(0,i.useState)(!1),k=(0,i.useCallback)(()=>{h(!1)},[]),f=(0,i.useMemo)(()=>({messageId:g.messageId,chatId:u.chatId,fileHandlerRef:d,chatInputRef:c}),[g.messageId,u,c,d]),_=(0,i.useMemo)(()=>({setChatMessageFollowupActionsModalVisible:h,chatMessageFollowupActionsModalVisible:p}),[p]);return(0,t.jsxs)(l.Provider,{value:_,children:[m,p&&(0,t.jsx)(r.Z,{isOpen:!0,onRequestClose:k,body:importChatMessageFollowupActionsModal,bodyProps:f})]})}},81045:function(e,a,n){"use strict";n.d(a,{C:function(){return useChatMessageReactionsContext}});var t=n(85893),i=n(67294),s=n(22578),r=n(22641);let importMessageReactionsModal=()=>n.e(3933).then(n.bind(n,33933)),l=(0,i.createContext)({openReactionsModal:()=>{},reactionCounts:[],viewerReaction:void 0}),useChatMessageReactionsContext=()=>{let{openReactionsModal:e,reactionCounts:a,viewerReaction:n}=(0,i.useContext)(l);return{openReactionsModal:e,reactionCounts:a,viewerReaction:n}};a.Z=e=>{let{message:a,children:o}=e,d=(0,s.useFragment)(n(45692),a),[c,m]=(0,i.useState)(!1),u=(0,i.useCallback)(()=>{m(!0)},[]),g=(0,i.useCallback)(()=>{m(!1)},[]),p=(0,i.useMemo)(()=>({messageId:d.messageId,closeModal:g}),[d,g]),h=(0,i.useMemo)(()=>({openReactionsModal:u,reactionCounts:d.reactionCounts,viewerReaction:d.viewerReaction}),[u,d]);return(0,t.jsxs)(l.Provider,{value:h,children:[o,(0,t.jsx)(r.Z,{isOpen:c,onRequestClose:g,body:importMessageReactionsModal,bodyProps:p,modalHeight:270,useMinHeight:!0})]})}},8097:function(e,a,n){"use strict";n.d(a,{g:function(){return useChatMessageReadByMembersModal}});var t=n(85893),i=n(67294),s=n(22578),r=n(46796),l=n(22641);let importChatMessageReadByMembersModal=()=>n.e(3081).then(n.bind(n,93081)),o=(0,i.createContext)({setChatMessageReadByMembersModalVisible:()=>{},chatMessageReadByMembersModalVisible:!1}),useChatMessageReadByMembersModal=()=>{let{setChatMessageReadByMembersModalVisible:e}=(0,i.useContext)(o),a=(0,i.useCallback)(()=>{e(!0)},[e]);return{showChatMessageReadByMembersModal:a}};a.Z=e=>{let{chat:a,message:d,children:c}=e,m=(0,s.useFragment)(n(4399),a),u=(0,s.useFragment)(n(59586),d),[g,p]=(0,i.useState)(!1),h=(0,i.useCallback)(()=>{p(!1)},[]),k=(0,r.Z)(m),f=(0,i.useMemo)(()=>({messageId:u.messageId,closeModal:h}),[u.messageId,h]),_=(0,i.useMemo)(()=>({setChatMessageReadByMembersModalVisible:p,chatMessageReadByMembersModalVisible:g}),[g]);return(0,t.jsxs)(o.Provider,{value:_,children:[c,k&&g&&(0,t.jsx)(l.Z,{isOpen:!0,onRequestClose:h,body:importChatMessageReadByMembersModal,bodyProps:f,useMinHeight:!0,modalHeight:400})]})}},65438:function(e,a,n){"use strict";n.d(a,{s:function(){return ChatMessageSubline}});var t=n(85893),i=n(22120),s=n(22578),r=n(99929),l=n(12251),o=n(74804),d=n.n(o);function ChatMessageSubline(e){let{messageData:a,align:l}=e,o=(0,s.useFragment)(n(35906),a),{t:d}=(0,i.$G)(),c="",m=null;return(["preview_triggered"].includes(o.sourceType)?c=d("Sent by an application"):!o.isOptimistic&&["continue_conversation","quora_machine_answer_interaction","quora_ask_new_question_interaction"].includes(o.sourceType)&&(m=(0,t.jsx)(r.Z,{}),c=d("Imported")),c)?(0,t.jsx)(SublineBase,{icon:m,text:c,align:l}):null}function SublineBase(e){let{icon:a,text:n,align:i}=e;return(0,t.jsxs)("div",{className:(0,l.$)(d().messageSubline,"left"===i?d().alignLeft:d().alignRight),children:[a,(0,t.jsx)("p",{className:d().messageSublineText,children:n})]})}},88373:function(e,a,n){"use strict";var t=n(85893),i=n(41143),s=n.n(i),r=n(18815);a.Z=e=>{let{reaction:a}=e;return s()(Object.keys(r.i).includes(a),"The provided reaction (".concat(a,") should have a corresponding emoji")),(0,t.jsx)(t.Fragment,{children:r.i[a]})}},23839:function(e,a,n){"use strict";n.d(a,{Z:function(){return followupAction_ChatMessageFollowupActions}});var t,i,s,r=n(85893),l=n(67294),o=n(22578),d=n(78295),c=n.n(d),m=n(65059),u=n(4909),g=n(22641),p=n(75014);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var arrowRight=function(e){return l.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=l.createElement("path",{d:"M4 13h14.09l-6.79 6.79a.996.996 0 1 0 1.41 1.41l8.5-8.5c.06-.06.09-.13.13-.2.03-.04.06-.08.08-.13a.91.91 0 0 0 .08-.37c0-.03-.01-.05-.01-.07-.01-.1-.02-.21-.06-.31a.955.955 0 0 0-.22-.33L12.72 2.8c-.2-.2-.45-.29-.71-.29-.26 0-.51.1-.71.29a.996.996 0 0 0 0 1.41L18.08 11H4c-.55 0-1 .45-1 1s.45 1 1 1Z"})))},h=n(41143),k=n.n(h),f=n(22120),_=n(44311),b=n(83193),F=n(69388),v=n(29915),C=n(57403),S=n(53236),y=n(24487),M=n(72210),w=n(27664),I=n(89188);let x=n(99673),sendCommandMessage=e=>{var a,t,i;let{environment:s,chat:r,bot:l,message:o,commandType:d,t:c}=e,{id:m,chatId:u,...g}=(0,_.readInlineData)(n(69105),r),p=(0,_.readInlineData)(n(86574),l),h=(0,_.readInlineData)(n(44704),o),k="@".concat(p.displayName),f="/".concat(d," ").concat(k),F=(0,S.C)(),{optimisticCommandMessageId:v,optimisticCommandMessageEdgeId:C}=onCommandMessageSend({environment:s,chat:g,text:k,clientNonce:F,commandType:d}),y={bot:p.nickname,chatId:u,query:f,referencedMessageId:null==h?void 0:null===(i=h.responsibleJob)||void 0===i?void 0:null===(t=i.trigger)||void 0===t?void 0:null===(a=t.message)||void 0===a?void 0:a.messageId},M=window.navigator.onLine?c("Message failed to send."):c("Unable to send this message. Check your internet connection.");(0,_.commitMutation)(s,{mutation:x,variables:y,updater:(e,a)=>{if(a){let t=a.commandMessageEdgeCreate,i=null==t?void 0:t.message;if((null==t?void 0:t.status)===b.Z.success&&i){var n;onSendSuccessUpdater(e,s,a,{chatNodeId:m,optimisticCommandMessageId:v,optimisticCommandMessageEdgeId:C,errorMessage:null!==(n=null==t?void 0:t.statusMessage)&&void 0!==n?n:M})}else onSendFailureUpdater(e,{chatNodeId:m,optimisticCommandMessageEdgeId:C,errorMessage:null==t?void 0:t.statusMessage})}},onError:()=>{(0,_.commitLocalUpdate)(s,e=>{onSendFailureUpdater(e,{chatNodeId:m,optimisticCommandMessageEdgeId:C,errorMessage:M})})}})},onCommandMessageSend=e=>{let a,t,{environment:i,chat:s,text:r,clientNonce:l,commandType:o}=e,{id:d}=(0,_.readInlineData)(n(55831),s);return(0,_.commitLocalUpdate)(i,e=>{let n=e.get(d);k()(n,"Expected Chat record with id ".concat(d," to exist when sending a message"));let i=(0,I.Xw)(e,{clientNonce:l,text:r,commandType:o}),s=(0,w.n3)(e,n,i);a=s.getDataID(),t=i.getDataID()}),k()(t,"Expected optimistic command message id to exist"),k()(a,"Expected optimistic command message edge id to exist"),{optimisticCommandMessageId:t,optimisticCommandMessageEdgeId:a}},onSendSuccessUpdater=(e,a,n,t)=>{let{chatNodeId:i,optimisticCommandMessageId:s,optimisticCommandMessageEdgeId:r,errorMessage:l}=t,o=e.get(i);k()(o,"Cannot find chat record with id ".concat(i));let d=n.commandMessageEdgeCreate.job;if(d){let handleJobTimeout=(e,n)=>{(0,_.commitLocalUpdate)(a,a=>{(0,C.Z)(a,e,n,()=>{(0,w.Cc)(a,n)})})};(0,y.QX)(d.jobId.toString(),{source:"sendCommandMessage"},()=>handleJobTimeout(d.id,i)),(0,v.Z)(e,d.id,i)}n.commandMessageEdgeCreate.message?(0,w.Ci)(e,o,s,n.commandMessageEdgeCreate.message.node):onSendFailureUpdater(e,{chatNodeId:i,optimisticCommandMessageEdgeId:r,errorMessage:l})},onSendFailureUpdater=(e,a)=>{var n;let{chatNodeId:t,optimisticCommandMessageEdgeId:i,errorMessage:s}=a,r=e.get(t),l=null===(n=e.get(i))||void 0===n?void 0:n.getLinkedRecord("node");k()(r,"Expected Chat record with id ".concat(t," to exist when sending a message")),k()(l,"Expected optimistic command message to exist after sending a message"),(0,M.f3)(l,F.Z.error),l.setValue(s,"errorMessage")},useSendCommandMessage=e=>{let{chat:a,bot:n,message:t,commandType:i}=e,s=(0,o.useRelayEnvironment)(),{t:r}=(0,f.$G)();return(0,l.useCallback)(()=>sendCommandMessage({environment:s,chat:a,bot:n,message:t,commandType:i,t:r}),[s,a,n,i,r,t])};var T=n(12251),B=n(23595),L=n(68374),D=n(64516),j=n(36249),P=n.n(j),A=n(86927),N=n(23738),R=n(93581);function film_extends(){return(film_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var film=function(e){return l.createElement("svg",film_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=l.createElement("path",{d:"M19.5 3.5h-15C2.57 3.5 1 5.07 1 7v10c0 1.93 1.57 3.5 3.5 3.5h15c1.93 0 3.5-1.57 3.5-3.5V7c0-1.93-1.57-3.5-3.5-3.5ZM21 7v1.5h-2v-3h.5c.827 0 1.5.673 1.5 1.5Zm-4 4H7V5.5h10V11ZM5 13.5H3v-3h2v3Zm2-.5h10v5.5H7V13Zm12-2.5h2v3h-2v-3Zm-14.5-5H5v3H3V7c0-.827.673-1.5 1.5-1.5ZM3 17v-1.5h2v3h-.5c-.827 0-1.5-.673-1.5-1.5Zm16.5 1.5H19v-3h2V17c0 .827-.673 1.5-1.5 1.5Z"})))},O=n(57887),E=n.n(O),followupAction_FollowupActionImageSources=e=>{let{imageSources:a}=e,t=(0,o.useFragment)(n(65021),a);return(0,r.jsx)("div",{className:E().imageAttachmentsContainer,children:t.slice(0,5).map(e=>{if("MessageAttachment"==e.__typename){var a;let n=null===(a=e.file)||void 0===a?void 0:a.mimeType;return(null==n?void 0:n.startsWith("video"))?(0,r.jsx)("div",{className:E().attachmentsContainer,children:e.file.thumbnailUrl?(0,r.jsx)("img",{className:E().imageAttachment,src:e.file.thumbnailUrl,alt:e.name}):(0,r.jsx)(film,{className:E().filmIcon})},e.id):(null==n?void 0:n.startsWith("image"))?(0,r.jsx)("div",{className:E().attachmentsContainer,children:(0,r.jsx)("img",{className:E().imageAttachment,src:e.url,alt:e.name})},e.id):null}return"Bot"==e.__typename?(0,r.jsx)("div",{className:E().botPreviewContainer,children:(0,r.jsx)(R.Z,{bot:e,size:"xx-sm"})},e.id):null})})},U=n(58143),Z=n(9729),H=n(12107),V=n(38429),G=n(66050),K=n(6231),W=n(98943),z=n(3468),q=n(67824);let importAddBotToChatModal=()=>n.e(4300).then(n.bind(n,83126));var followupAction_CommandMessageFollowupAction=function(e){let{followupAction:a,chat:t,viewer:i,message:s,chatInputRef:d,actionIndex:c}=e,h=(0,o.useFragment)(n(29043),a),k=(0,o.useFragment)(n(49333),t),f=(0,o.useFragment)(n(51705),i),_=(0,o.useFragment)(n(70196),s),{titleText:b,primaryImageSources:F,commandType:v,bodyText:C}=h,{bot:S}=h.targetBotInfo,{handle:y}=S,{logClick:M,viewableImpressionRef:w}=function(e){let{botId:a,actionIndex:n}=e,t=(0,U.E)(),i=(0,l.useCallback)(()=>({object_component_type:K.Z.in_chat_bot_list_item,object_container:W.Z.in_chat_recommended_bots,page_type:t,object_type:z.Z.bot,bot_id:a,entry_metadata:{object_component_type:K.Z.in_chat_bot_list_item,bot_position_row_index:n,bot_position_column_index:0}}),[t,n,a]);(0,l.useEffect)(()=>{(0,Z.Z)("poe/bot_discovery",{entry_type:G.Z.impression,...i()})},[i]);let s=(0,l.useCallback)(()=>({entry_type:G.Z.viewable_impression,...i()}),[i]),{ref:r}=(0,H.Z)(q.Z.bot_recommendations,{additionalLogData:s}),o=(0,l.useCallback)(()=>{(0,Z.Z)("poe/bot_discovery",{entry_type:G.Z.action,action_type:V.Z.click,...i()})},[i]);return(0,l.useMemo)(()=>({viewableImpressionRef:r,logClick:o}),[r,o])}({botId:S.botId,actionIndex:c}),I=useSendCommandMessage({chat:k,bot:S,message:_,commandType:v}),{hideChatMessageFollowupActionsModalIfVisible:x}=(0,m.M)(),j=(0,D.F)(),R=(0,l.useCallback)(()=>{var e,a;I(),M(),null===(e=d.current)||void 0===e||e.setValue(""),(0,B.s2)(j)||null===(a=d.current)||void 0===a||a.focus()},[I,d,M,j]),[O,E]=(0,l.useState)(!1),$=(0,l.useCallback)(()=>{E(!1)},[E]),J=(0,l.useCallback)(()=>{R(),$()},[R,$]),Q=(0,l.useMemo)(()=>({close:$,botHandle:y,onSubmitAndClose:J}),[y,$,J]),Y=(0,l.useCallback)(()=>{x(),R(),v===A.Z.compare&&(0,L.nL)(L.wy.CompareFollowupActionClicked)},[R,v,x]),X=(0,p.el)(Y,{viewObjectType:N.Z.limited_access_bot,viewer:f,bot:S});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Z,{isOpen:O,onRequestClose:$,body:importAddBotToChatModal,bodyProps:Q,variant:"compact"}),(0,r.jsxs)("div",{ref:w,className:(0,T.$)(P().container,P().newFollowupActionsContainer),onClick:X,children:[!!b&&(0,r.jsx)(u.PL,{className:(0,T.$)(P().left,P().followupButton),children:b}),(0,r.jsxs)(u.oM,{className:(0,T.$)(P().right,P().followupButton,b?P().followupButtonWithTitle:""),children:[(0,r.jsxs)("div",{className:(0,T.$)(P().promptContainer,P().right),children:[F.length>0&&(0,r.jsx)(followupAction_FollowupActionImageSources,{imageSources:F}),(0,r.jsx)("div",{className:P().botAndPromptContainer,children:C&&(0,r.jsx)("div",{className:P().botPromptContainer,children:C})})]}),(0,r.jsx)(arrowRight,{className:P().followUpActionIcon})]})]})]})},$=n(74182);function pen_extends(){return(pen_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var pen=function(e){return l.createElement("svg",pen_extends({viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.493 5.507a3.5 3.5 0 0 0-4.946 0l-11.55 11.55c-.129.128-.222.28-.28.455L4.072 22.47c-.14.42-.035.875.28 1.19.221.222.525.338.828.338.128 0 .245-.023.373-.058l4.947-1.657c.175-.058.327-.151.455-.28l11.55-11.55a3.51 3.51 0 0 0-.012-4.946Zm-1.656 3.301L9.485 20.16l-1.657.548-.548-.548.548-1.657L19.18 7.152a1.176 1.176 0 0 1 1.657 0 1.176 1.176 0 0 1 0 1.656Z"})))},J=n(26246),Q=n(41149),Y=n(47450),followupAction_PrefillMessageFollowupAction=function(e){let{followupAction:a,fileHandlerRef:t,chatInputRef:i}=e,{cancelEditing:s}=(0,Q.m)(),d=(0,o.useFragment)(n(87717),a),{hideChatMessageFollowupActionsModalIfVisible:c}=(0,m.M)(),{setInputFooterReferencedMessage:g}=(0,$._)(),{titleText:p,bodyText:h,prefillText:k,prefillAttachments:f,primaryImageSources:_,secondaryImageSources:b}=d,F=(0,l.useCallback)(async()=>{var e,a,n;c(),(null==t?void 0:t.current)&&(null===(e=i.current)||void 0===e||e.setValue(k),null===(a=i.current)||void 0===a||a.setSelectionRange(k.length,k.length),null===(n=i.current)||void 0===n||n.focus(),(0,Y.IV)(f,t),g(null),f.length&&s())},[t,i,k,f,s,c,g]),{specialSyntax:v,prompt:C}=(0,J.Co)(h||"");return(0,r.jsxs)("div",{className:(0,T.$)(P().container,P().newFollowupActionsContainer),onClick:F,children:[!!p&&(0,r.jsx)(u.PL,{className:(0,T.$)(P().left,P().followupButton),children:p}),(0,r.jsxs)(u.oM,{className:(0,T.$)(P().right,P().followupButton,p?P().followupButtonWithTitle:""),children:[(0,r.jsxs)("div",{className:(0,T.$)(P().promptContainer,P().right),children:[_.length>0&&(0,r.jsx)(followupAction_FollowupActionImageSources,{imageSources:_}),(0,r.jsx)("div",{className:P().botAndPromptContainer,children:(0,r.jsxs)("div",{className:P().prompt,children:[v?(0,r.jsxs)("span",{className:P().specialSyntaxSection,children:[v," "]}):null,C]})})]}),b.length>0&&(0,r.jsx)(followupAction_FollowupActionImageSources,{imageSources:b}),(0,r.jsx)(pen,{className:P().followUpActionIcon})]})]})},X=n(64913),ee=n(28871);let SendMessageFollowupAction_importAddBotToChatModal=()=>n.e(4300).then(n.bind(n,83126)),useFollowupActionMessageSource=e=>{let{messageSource:a}=(0,o.useFragment)(n(32428),e);if(!a)return null;let{sourceType:t,metadata:i}=a;return{sourceType:t,...i?JSON.parse(i):{}}};var followupAction_SendMessageFollowupAction=function(e){let{followupAction:a,chat:t,viewer:i,chatInputRef:s}=e,d=(0,o.useFragment)(n(32815),t),c=(0,o.useFragment)(n(53088),i),h=(0,o.useFragment)(n(65718),a),{bot:k}=h.targetBotInfo,{handle:f}=k,[_,b]=(0,l.useState)(!1),F=(0,l.useCallback)(()=>{b(!1)},[b]),{titleText:v,bodyText:C,bodyTextJson:S,sendText:y,sendTextWhenUsingJsonParams:M,sendParameters:w,sendAttachments:I,primaryImageSources:x,secondaryImageSources:L}=h,j=c.submitMessageParamsAsDict?S:C,A=c.submitMessageParamsAsDict?M:y,R=(0,l.useMemo)(()=>c.submitMessageParamsAsDict&&w?JSON.parse(w):void 0,[w,c.submitMessageParamsAsDict]),O=(0,l.useMemo)(()=>R?(0,X.ci)(R):void 0,[R]),E=useFollowupActionMessageSource(h),{hideChatMessageFollowupActionsModalIfVisible:U}=(0,m.M)(),Z=(0,ee.$3)({source:E,bot:k,chat:d,viewer:c,referencedMessage:null==h?void 0:h.referencedMessage}),H=(0,D.F)(),V=(0,l.useCallback)(()=>{var e,a;Z({prompt:A,existingAttachments:I,parameters:R}),null===(e=s.current)||void 0===e||e.setValue(""),(0,B.s2)(H)||null===(a=s.current)||void 0===a||a.focus()},[Z,A,I,s,H,R]),G=(0,l.useMemo)(()=>({close:F,botHandle:f,onSubmitAndClose:V}),[V,f,F]),K=(0,l.useCallback)(()=>{U(),V()},[V,U]),W=(0,p.el)(K,{viewer:c,viewObjectType:N.Z.limited_access_bot,bot:k}),{specialSyntax:z,prompt:q}=(0,J.Co)(j||"");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Z,{isOpen:_,onRequestClose:F,body:SendMessageFollowupAction_importAddBotToChatModal,bodyProps:G,variant:"compact"}),(0,r.jsxs)("div",{className:P().container,onClick:W,children:[!!v&&(0,r.jsx)(u.PL,{className:(0,T.$)(P().left,P().followupButton),children:v}),(0,r.jsxs)(u.oM,{className:(0,T.$)(v?P().right:P().rightRounded,P().followupButton,v?P().followupButtonWithTitle:""),children:[(0,r.jsxs)("div",{className:(0,T.$)(P().promptContainer,P().right),children:[x.length>0&&(0,r.jsx)(followupAction_FollowupActionImageSources,{imageSources:x}),(0,r.jsx)("div",{className:P().botAndPromptContainer,children:(0,r.jsxs)("div",{className:v?P().prompt:P().truncatedPrompt,children:[z?(0,r.jsxs)("span",{className:P().specialSyntaxSection,children:[z," "]}):null,q,O?(0,r.jsxs)("span",{className:P().parametersSection,children:[" ",O]}):null]})})]}),L.length>0&&(0,r.jsx)(followupAction_FollowupActionImageSources,{imageSources:L}),(0,r.jsx)(arrowRight,{className:P().followUpActionIcon})]})]})]})},followupAction_MessageFollowupActionMain=function(e){let{followupAction:a,chat:t,viewer:i,message:s,fileHandlerRef:l,chatInputRef:d,actionIndex:c}=e,m=(0,o.useFragment)(n(6664),a),u=(0,o.useFragment)(n(51975),t),g=(0,o.useFragment)(n(31137),i),p=(0,o.useFragment)(n(2797),s);switch(m.__typename){case"SendMessageFollowupAction":return(0,r.jsx)(followupAction_SendMessageFollowupAction,{followupAction:m,chat:u,viewer:g,chatInputRef:d});case"PrefillMessageFollowupAction":return(0,r.jsx)(followupAction_PrefillMessageFollowupAction,{followupAction:m,fileHandlerRef:l,chatInputRef:d});case"CommandMessageFollowupAction":return(0,r.jsx)(followupAction_CommandMessageFollowupAction,{actionIndex:c,followupAction:m,chatInputRef:d,chat:u,viewer:g,message:p});default:return null}},followupAction_ChatMessageFollowupActions=e=>{let{chat:a,message:t,viewer:i,fileHandlerRef:s,chatInputRef:l}=e,d=(0,o.useFragment)(n(9977),a),m=(0,o.useFragment)(n(12572),t),u=(0,o.useFragment)(n(70306),i);return(0,r.jsx)("section",{className:c().container,children:m.followupActions.map((e,a)=>(0,r.jsx)(followupAction_MessageFollowupActionMain,{actionIndex:a,followupAction:e,chat:d,viewer:u,message:m,fileHandlerRef:s,chatInputRef:l},a))})}},25098:function(e,a,n){"use strict";n.d(a,{w:function(){return i}});var t,i,s=n(22578),r=n(46796);(t=i||(i={}))[t.seenByAllOtherMembers=1]="seenByAllOtherMembers",t[t.sentToServer=2]="sentToServer",a.Z=e=>{let{chat:a,message:t,viewer:i}=e,l=(0,s.useFragment)(n(48379),a),o=(0,s.useFragment)(n(51457),t),d=(0,s.useFragment)(n(17013),i),c=(0,r.Z)(l),{authorUser:m,messageId:u,isOptimistic:g}=o,{lastMessageSeenByAllOtherMembers:p}=l;return!d.poeEnableMessageReadReceipts||g||(null==m?void 0:m.uid)!==d.uid?void 0:!c||p&&u<=p.messageId?1:2}},234:function(e,a,n){"use strict";n.d(a,{f:function(){return useSupportedPreviewContentTypes}});var t=n(22578);function useSupportedPreviewContentTypes(e){let{supportedPreviewsContentTypes:a}=(0,t.useFragment)(n(50654),e);return a}},75817:function(e,a,n){"use strict";var t=n(85893),i=n(94370),s=n(67294),r=n(22120),l=n(22578),o=n(29154),d=n(80665),c=n(8583),m=n(9729),u=n(15601),g=n(78410),p=n(51466),h=n.n(p),k=n(30038);a.Z=e=>{let{chatId:a,viewer:p,botId:f,inviteFlowEntryType:_,sourcePage:b}=e,F=(0,l.useFragment)(n(25902),p),{t:v}=(0,r.$G)(),C=(0,c.ZP)(),S=(0,u.Z)(),{onInviteLinkClicked:y,isLoading:M}=(0,d.Z)(!0,_,b,a,()=>{},f,void 0),{modal:w,openModal:I}=(0,o.Z)({chatId:null!=a?a:void 0,botId:null!=f?f:void 0,sourcePage:b}),x=(0,s.useCallback)(()=>{if(S){C({content:(0,t.jsx)("p",{children:v("Unable to add people. Check your internet connection.")}),type:c.pC.error});return}(0,m.Z)("poe/action_log",{action_type:k.Z.add_member_button_click,chat_id:a,action_metadata:{entry_type:_,source_page:b}}),I()},[_,I,a,v,C,S,b]);return F.poeEnableMultiUserInvite?(0,t.jsxs)("div",{className:h().inviteSectionContainer,children:[(0,t.jsx)(g.Z,{className:h().inviteSectionButton,size:"sm",theme:"secondary",iconLeft:(0,t.jsx)(i.AF,{}),as:"button",onClick:y,isLoading:M,children:v("Invite link")}),(0,t.jsx)(g.Z,{className:h().inviteSectionButton,size:"sm",theme:"secondary",iconLeft:(0,t.jsx)(i.Po,{}),as:"button",onClick:x,children:v("Add people")}),w]}):null}},4290:function(e,a,n){"use strict";n.d(a,{Z:function(){return message_Attachments}});var t=n(85893),i=n(5152),s=n.n(i),r=n(67294),l=n(22578),o=n(21054),d=n(48675),c=n(22120),m=n(36789),u=n(12251),g=n(87953),p=n.n(g),h=n(24503),patterns_VideoPreview=e=>{let{attachment:a,className:i,messageIsComplete:s}=e,d=(0,l.useFragment)(n(3765),a),[g,k]=(0,r.useState)(!0),f=(0,r.useCallback)(()=>{k(!1)},[k]),{t:_}=(0,c.$G)();return d.file.thumbnailUrl?(0,t.jsxs)("div",{className:p().videoContainer,children:[(0,t.jsx)("div",{className:p().buttonOverlay}),(0,t.jsx)(m.Z,{className:p().playIcon}),g&&(0,t.jsx)("img",{suppressHydrationWarning:!0,className:(0,u.$)(p().thumbnail,i),src:d.file.thumbnailUrl,onError:f,alt:_("Video thumbnail")})]}):s?(0,t.jsx)(o.S1,{file:d,className:i}):(0,t.jsx)("div",{className:p().thumbnailLoader,children:(0,t.jsx)(h.Z,{})})},k=n(23595),f=n(37675),_=n.n(f);let b=s()(()=>Promise.all([n.e(2374),n.e(8020),n.e(1793),n.e(9861)]).then(n.bind(n,19861)),{loadableGenerated:{webpack:()=>[19861]}}),F=s()(()=>Promise.all([n.e(2004),n.e(8971)]).then(n.bind(n,88971)),{loadableGenerated:{webpack:()=>[88971]}}),isPlayableVideo=(e,a,n)=>{if(e.startsWith("video/")){let t=(0,k.au)(navigator.userAgent)||(0,k.eE)(navigator.userAgent);if(t&&(e.includes("avi")||e.includes("mpeg")))return!1;let i=document.createElement("video").canPlayType(e);return""!==i&&a&&n&&a/n>=.5&&a/n<=2.5}return!1};var message_Attachments=e=>{let{attachments:a,showMedia:i,messageIsComplete:s,showInteractiveMedia:c=!1}=e,m=(0,l.useFragment)(n(43181),a),u=(0,r.useMemo)(()=>m.filter(e=>!e.isInline),[m]),[g,p,h]=(0,r.useMemo)(()=>u.reduce((e,a)=>{let[n,t,s]=e;return!i&&a.file.mimeType.startsWith("video/")||i&&isPlayableVideo(a.file.mimeType,a.file.width,a.file.height)?n.push(a):i&&a.file.mimeType.startsWith("audio/")?t.push(a):s.push(a),[n,t,s]},[[],[],[]]),[u,i]);return(0,t.jsxs)(t.Fragment,{children:[(h.length>0||!i&&g.length>0)&&(c?(0,t.jsxs)("div",{className:_().attachments,children:[!i&&g.map(e=>(0,t.jsx)(patterns_VideoPreview,{attachment:e,className:_().attachment,messageIsComplete:s},e.id)),h.map(e=>(0,t.jsx)(o.ZP,{className:_().attachment,file:e,showInteractiveMedia:c},e.id))]}):(0,t.jsxs)(d.Z,{className:_().attachments,children:[!i&&g.map(e=>(0,t.jsx)(patterns_VideoPreview,{attachment:e,className:_().attachment,messageIsComplete:s},e.id)),h.map(e=>(0,t.jsx)(o.ZP,{className:_().attachment,file:e,showInteractiveMedia:c},e.id))]})),i&&p.length>0&&(0,t.jsx)(t.Fragment,{children:p.map(e=>(0,t.jsx)("div",{className:_().audioAttachment,children:(0,t.jsx)(F,{attachment:e,className:_().attachment})},e.id))}),i&&g.length>0&&(0,t.jsx)(t.Fragment,{children:g.map(e=>(0,t.jsx)("div",{className:_().videoAttachment,children:(0,t.jsx)(b,{attachment:e,className:_().attachment})},e.id))})]})}},12278:function(e,a,n){"use strict";var t=n(85893),i=n(22578),s=n(64869),r=n(85972),l=n(4095),o=n(12251),d=n(18462),c=n(50455),m=n.n(c);a.Z=e=>{let a,{bot:c,authorUser:u,author:g,overflowButton:p}=e,h=(0,i.useFragment)(n(90254),c),k=(0,i.useFragment)(n(93142),u),{selectionMode:f}=(0,d.ZP)(),_=f!==d.oW.none,b=(0,o.$)(m().leftSideMessageHeader,_&&m().selectionModeMessageHeader);if((0,l.SX)(g)&&k)a=(0,t.jsx)(r.Z,{poeUser:k,showFollowButton:!0});else{if(!(0,l.y8)(g))return null;a=(0,t.jsx)(s.Z,{bot:h})}return(0,t.jsxs)("div",{className:b,children:[(0,t.jsx)("div",{className:m().headerWrapper,children:a}),p]})}},650:function(e,a,n){"use strict";let t;n.d(a,{Z:function(){return message_Message}});var i,s,r,l,o,d,c=n(85893),m=n(67294),u=n(22120),g=n(16470),p=n(22578);n(44311);var h=n(72110),k=n(94370),f=n(11163),_=n.n(f),b=n(25098),F=n(53968);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var doubleCheckmark=function(e){return m.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=m.createElement("path",{d:"m11.945 12.928 5.362-7.338a1 1 0 1 0-1.615-1.179l-5.002 6.844 1.255 1.673ZM6.204 18.605a.987.987 0 1 0 1.578-1.185l-4.506-6.027a.987.987 0 1 0-1.578 1.185l4.506 6.027Z"})),r||(r=m.createElement("path",{d:"M12 19a1 1 0 0 1-.8-.4l-4.5-6a.998.998 0 1 1 1.599-1.199l3.689 4.919 8.704-11.91a1 1 0 0 1 1.615 1.179l-9.5 13a1.001 1.001 0 0 1-.802.41L12 19Z"})))},v=n(16729),C=n.n(v);let MessageSeenStateIcon=e=>{let{messageSeenState:a}=e;return a===b.w.seenByAllOtherMembers?(0,c.jsx)(doubleCheckmark,{className:C().messageSeenStateIcon}):a===b.w.sentToServer?(0,c.jsx)(F.Z,{className:C().messageSeenStateIcon}):null};var S=n(46044),y=n(69388),message_MessageMetadata=e=>{let{commandType:a,state:n,messageCreationTime:t,seenState:i,isEdited:s,hasParameters:r,messageCode:l,showSendingIcon:o}=e,{t:d}=(0,u.$G)(),g=(0,m.useCallback)(()=>{_().push("/message/"+l)},[l]);return!a&&n!==y.Z.incomplete&&(t||i||s||r)?(0,c.jsxs)("div",{className:C().messageMetadataContainer,children:[r&&l&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("a",{className:C().parametersLink,onClick:g,children:[(0,c.jsx)(k.OP,{size:"x-sm",className:C().messageMetadataText}),(0,c.jsx)("span",{className:C().messageMetadataText,children:d("Parameters")})]}),(0,c.jsx)("span",{className:C().messageMetadataText,children:" \xb7 "})]}),s&&(0,c.jsx)("span",{className:C().messageMetadataText,children:d("Edited")}),s&&t&&(0,c.jsx)("span",{className:C().messageMetadataText,children:" \xb7 "}),t&&(0,c.jsx)(S.ZP,{utime:t,forceSameDayFormat:!0,className:C().messageMetadataText}),o?(0,c.jsx)(k.yp,{size:"x-sm",className:C().sendingIcon}):i&&(0,c.jsx)(MessageSeenStateIcon,{messageSeenState:i})]}):null},M=n(38033),w=n(58143),I=n(78410);function expand_extends(){return(expand_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var icons_expand=function(e){return m.createElement("svg",expand_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 5a1 1 0 1 1 0-2H20a1 1 0 0 1 1 1v5.5a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14.5Zm-3.793 8.293a1 1 0 0 1 0 1.414L6.414 19H9.5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1v-5.5a1 1 0 1 1 2 0v3.086l4.293-4.293a1 1 0 0 1 1.414 0Z"})))};function nosign_extends(){return(nosign_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var nosign=function(e){return m.createElement("svg",nosign_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=m.createElement("path",{d:"M18.364 5.636 5.636 18.364A8.972 8.972 0 0 1 3 12a9 9 0 0 1 9-9 8.972 8.972 0 0 1 6.364 2.636Zm0 0A8.972 8.972 0 0 1 21 12a9 9 0 0 1-9 9 8.972 8.972 0 0 1-6.364-2.636L18.364 5.636Z",className:"nosign_svg__icon_svg-stroke"})))},x=n(26246),T=n(4095),B=n(12251),L=n(54135),D=n(35715),j=n(67280),P=n(29664),A=n(86927);let getBotNameFromCompareCommandText=e=>e.split(" ")[0],CompareCommandMessage=e=>{let{botName:a,authorFullName:n,isSentByViewer:t}=e,i=(0,m.useMemo)(()=>({1:(0,c.jsx)("span",{className:C().commandBotName})}),[]),s=(0,m.useMemo)(()=>({botName:a,authorFullName:n}),[a,n]);return t?(0,c.jsx)(u.cC,{components:i,defaults:"You requested another response from <1>{{ botName }}</1>",values:s}):n?(0,c.jsx)(u.cC,{components:i,defaults:"{{ authorFullName }} requested another response from <1>{{ botName }}</1>",values:s}):(0,c.jsx)(u.cC,{components:i,defaults:"A user requested another response from <1>{{ botName }}</1>",values:s})};var message_CommandMessage=e=>{let{commandType:a,text:n,authorFullName:t,isSentByViewer:i}=e;return a===A.Z.compare?(0,c.jsx)(CompareCommandMessage,{botName:getBotNameFromCompareCommandText(n),authorFullName:t,isSentByViewer:i}):null};n(73150);var N=n(99094),R=n(94713),O=n(24087),E=n(47854),U=n(39257),Z=n(28473),H=n(45598),V=n(52683),G=n.n(V),K=n(65604),W=n(90961);let z=new Set(["iframe","html"]),rawHTMLPlugin=e=>()=>a=>{let n=0;(0,W.Vn)(a,"raw",(a,t,i)=>{if(void 0!==t){if(e&&function(e){let a=e.trim();return 0===a.replace(/^\s*<!doctype\s+[^>]*>/i,"").length}(a.value)){i.children[t]={type:"element",tagName:"div",properties:{style:"display: none"},children:[]};return}if(e&&(null==i?void 0:i.type)==="root"&&function(e){let a=function(e){let a=e.match(/<([a-zA-Z][a-zA-Z0-9_-]*)/);return a?a[1]:null}(e);return!!a&&z.has(a.toLowerCase().trim())}(a.value)){var s,r;i.children[t]={type:"element",tagName:"iframe",properties:{positionEndOffset:null===(r=a.position)||void 0===r?void 0:null===(s=r.end)||void 0===s?void 0:s.offset,srcDoc:a.value,rawHTMLIdx:n++},children:[]};return}if((null==i?void 0:i.type)==="root"){i.children[t]={type:"element",tagName:"div",properties:{},children:a.value.split("\n").map(e=>({type:"element",tagName:"p",properties:{},children:[{type:"text",value:e}]}))};return}}})},codeblockPlugin=()=>e=>{let a=0;(0,W.Vn)(e,"element",(e,n)=>{if(void 0!==n&&"pre"===e.tagName){e.properties.codeblockIdx=a++;let n=e.children[0];if(n&&"element"===n.type&&"code"===n.tagName){let a=n.children[0];a&&"text"===a.type&&(e.properties.code=a.value)}}})};var q=n(45392),message_MarkdownBlockquote=e=>{let{children:a,...n}=e;return(0,c.jsx)(q.Y.Provider,{value:!0,children:(0,c.jsx)("blockquote",{...n,children:a})})},$=n(67172),J=n(5152),Q=n.n(J),Y=n(15382),X=n(73624),ee=n(58281),ea=n(34478),en=n(8583),et=n(41677),ei=n(36789),es=n(91522),er=n(9729),el=n(49231),eo=n.n(el),ed=n(30038),ec=n(96384);(i=d||(d={})).success="success",i.no_access="no_access",i.success_bot_created="success_bot_created",i.success_bot_updated="success_bot_updated";var em=d,eu=n(34389),eg=n(41143),ep=n.n(eg),eh=n(31657),ek=n(30965),ef=n(96324),e_=n(83169),eb=n(85832),eF=n(45193),ev=n(28871),eC=n(5247);let eS=n(4173),ey=n(8904);var message_CodeblockOverflowButton=e=>{let{dropdownMenuOpen:a,setDropdownMenuOpen:n,onCopyCode:t,code:i,codeblockHeaderMetadata:s,className:r,iconSize:l="md",actionLogData:o}=e,{t:d}=(0,u.$G)(),g=(0,m.useContext)(eh.Z),h=(0,m.useContext)(ek.Z),k=(0,m.useContext)(ef.n);ep()(g,"CodeblockOverflowButton requires chat context"),ep()(h,"CodeblockOverflowButton requires message context");let f="string"==typeof g.chatId,{chat:_,viewer:b}=(0,p.useLazyLoadQuery)(eS,{chatId:f?0:g.chatId,isOptimistic:f},{fetchPolicy:"store-or-network"}),{optimisticChat:F}=(0,p.useLazyLoadQuery)(ey,{optimisticChatId:f?g.chatId.toString():""},{fetchPolicy:"store-only"}),v=_||F;ep()(v,"Requires chat context"),ep()(v.defaultBotObject,"Chat must have a default bot");let C=(0,m.useMemo)(()=>({sourceType:eC.Z.executable_codeblock,chatInputMetadata:{useVoiceRecord:!1}}),[]),S=(0,ev.$3)({bot:v.defaultBotObject,chat:v,viewer:b,source:C}),y=(0,m.useCallback)(()=>{t(),k()},[t,k]),M=(0,m.useCallback)(()=>{let e=s?" ".concat(s):"",a="@Code-Editor\n```poepython".concat(e,"\n").concat(i.trim(),"\n```");S({prompt:a}),(0,er.Z)("poe/action_log",{action_type:(0,ec.E)(ed.Z.code_reference_edit_click),...o}),k()},[S,i,s,k,o]),w=(0,m.useMemo)(()=>(0,c.jsxs)(eb.Z,{children:[(0,c.jsx)(e_.HN,{children:(0,c.jsx)(e_.ZP,{onClick:y,children:d("Copy code")})}),(0,c.jsx)(e_.HN,{children:(0,c.jsx)(e_.ZP,{onClick:M,children:d("Edit code")})})]}),[y,M,d]);return(0,c.jsx)(eF.Z,{menuBody:w,alignment:"right",menuOpen:a,setMenuOpen:n,className:r,size:l,theme:"ghost"})},eM=n(1528);let useShouldShowFixWithScriptCreator=e=>{let{chat:a,codeblockHeaderLanguage:t,enableScriptBotCreation:i}=e,s=(0,p.useFragment)(n(2346),a);return!!a&&!!((null==s?void 0:s.scriptTestSourceChat)&&i&&"console"===t)};var message_FixWithScriptCreator=e=>{let{chat:a,code:t,isPartial:i,codeblockHeaderLanguage:s,enableScriptBotCreation:r}=e,{t:l}=(0,u.$G)(),o=(0,f.useRouter)(),d=(0,en.ZP)(),[g,h]=(0,m.useState)(!1),_=(0,p.useFragment)(n(58550),a),[b,F]=(0,p.useMutation)(n(80560)),v=(0,m.useCallback)(e=>{var a,n;let i=!!(e.metaKey||e.ctrlKey||e.shiftKey),s=null==_?void 0:null===(a=_.scriptTestSourceChat)||void 0===a?void 0:a.chatId,r=null==_?void 0:null===(n=_.scriptTestSourceChat)||void 0===n?void 0:n.chatCode;if(!s||!r){d({type:en.pC.error,content:l("Source chat not found.")});return}let c="@".concat(eM.Nm," Fix this issue I ran into while testing the bot:\n`````console\n").concat(t,"\n`````");b({variables:{chatId:s,bot:eM.Nm,query:c,source:{sourceType:"chat_input"}},onCompleted:e=>{if("success"===e.messageEdgeCreate.status){let e="/chat/".concat(encodeURIComponent(r));i?window.open(e,"_blank"):(h(!0),o.push(e))}else d({type:en.pC.error,content:l("Failed to send message.")})},onError:()=>{d({type:en.pC.error,content:l("Something went wrong.")})}})},[_,t,b,d,l,o]);return a&&(null==_?void 0:_.scriptTestSourceChat)&&r&&"console"===s?(0,c.jsx)(I.Z,{className:eo().codeActionButton,as:"button",theme:"secondary",size:"sm",onClick:v,isLoading:F||g,isDisabled:i,iconLeft:(0,c.jsx)(k.UA,{}),children:l("Fix")}):null},ew=n(41188);let collapsedRenderer=e=>{let{rows:a,...n}=e,t=a.slice(-25);return(0,c.jsx)(c.Fragment,{children:t.map((e,a)=>(0,Y.ZP)({key:"collapsed-".concat(a),node:e,...n}))})},RunButtonPlaceholder=()=>(0,c.jsx)(I.Z,{className:eo().codeActionButton,as:"button",theme:"secondary",size:"sm",iconLeft:(0,c.jsx)(ei.Z,{}),isDisabled:!0,showIconOnly:"always"}),eI=Q()(()=>n.e(7090).then(n.bind(n,47090)),{loadableGenerated:{webpack:()=>[47090]},ssr:!1,loading:()=>(0,c.jsx)(RunButtonPlaceholder,{})}),ex=/language-(\w+(?:-\w+)*)/,useLowlight=()=>{let[e,a]=(0,m.useState)(t),i=(0,m.useMemo)(()=>Promise.all([n.e(5957),n.e(125),n.e(7764),n.e(6965),n.e(1708),n.e(6563),n.e(295),n.e(4360),n.e(8967),n.e(3180),n.e(9651)]).then(n.t.bind(n,26912,23)),[]);return(0,m.useEffect)(()=>{e||i.then(e=>{a(t=e)})},[i,e]),e},useDetectLanguage=(e,a)=>{let n=useLowlight(),t=e.substring(0,1e3),i=(0,m.useMemo)(()=>{if(a)return{language:a,showLanguageName:!0};if((0,ea.X_)(t))return{language:"svg",showLanguageName:!0};if((0,ea.vB)(t))return{language:"html",showLanguageName:!0};if(!n)return;let e=n.highlightAuto(t);return{language:e.language,showLanguageName:e.relevance>=10}},[n,t,a]);return i&&"js"===i.language?{...i,language:"javascript"}:i},useCodeblockCollapse=(e,a)=>{let[n,t]=(0,m.useState)(null),i=(0,m.useCallback)(()=>t(!1),[]),s=(0,m.useCallback)(()=>{t(e=>null===e||e)},[]),r=(0,m.useRef)(null),l=(0,m.useRef)(null);return(0,m.useEffect)(()=>{if(a&&e&&null===n&&r.current&&l.current){let e=r.current,a=l.current,measure=()=>e.scrollHeight>a.clientHeight&&(t(e=>null===e||e),!0);if(measure())return;let n=requestAnimationFrame(()=>{measure()}),i=new ResizeObserver(()=>{measure()});return i.observe(e),i.observe(a),()=>{cancelAnimationFrame(n),i.unobserve(e),i.unobserve(a),i.disconnect()}}},[e,n,a]),{collapsed:n,expand:i,collapse:s,preElementRef:r,codeSectionRef:l}},PreBlock=e=>{let{languageMatch:a,getCode:t,code:i,codeblockHeaderMetadata:s,actionLogData:r,collapsible:l=!1,collapsed:o,expand:d,preElementRef:g,codeSectionRef:h,executable:_,isPartial:b,codeblockIdx:F,collapse:v,isHorizontalScrollable:C,enableScriptingCodeReference:S,enableScriptBotCreation:y,supportedExecutableLanguages:M,enableExecutableCodeblock:w,messageId:x,shouldShowPublishModal:T,openPublishModal:L,chat:D,...j}=e,{t:P}=(0,u.$G)(),A=(0,en.ZP)(),N=(0,f.useRouter)(),R=(0,p.useFragment)(n(85989),D),O=useShouldShowFixWithScriptCreator({chat:R,codeblockHeaderLanguage:null==a?void 0:a.language,enableScriptBotCreation:y}),E=(0,m.useCallback)(()=>{navigator.clipboard.writeText(t().trim()),A({content:P("Copied to clipboard"),type:en.pC.success}),(0,er.Z)("poe/action_log",{action_type:(0,ec.E)(ed.Z.copy_code),...r})},[t,r,A,P]),U=(0,eu.C)(),[Z,H]=(0,m.useState)(!1),V=(0,m.useCallback)(()=>{if((0,er.Z)("poe/action_log",{action_type:(0,ec.E)(ed.Z.code_reference_publish_click),...r}),x){if(T){var e;L({scriptContent:t(),botId:(null==R?void 0:null===(e=R.chatSettingsFieldBotToEdit)||void 0===e?void 0:e.botId)||0,chatId:(null==R?void 0:R.chatId)||0,onPublishAsNew:()=>{window.location.href=(0,es.t)(x,F)}})}else window.location.href=(0,es.t)(x,F)}},[x,F,r,T,L,t,R]),[G,K]=(0,p.useMutation)(n(12165)),[W,z]=(0,m.useState)(!1);(0,m.useEffect)(()=>{if(!l||null!==o)return;let e=g.current,a=h.current,checkOverflow=()=>{let n=e?e.scrollHeight:0,t=a?a.clientHeight:0;n>t&&v()};checkOverflow();let n=requestAnimationFrame(()=>checkOverflow()),t=new ResizeObserver(()=>checkOverflow());return e&&t.observe(e),a&&t.observe(a),()=>{cancelAnimationFrame(n),e&&t.unobserve(e),a&&t.unobserve(a),t.disconnect()}},[g,h,F,o,v,l]);let q=(0,m.useCallback)(e=>{G({variables:{chatId:null==R?void 0:R.chatId,scriptContent:i},onCompleted:a=>{if(a.continueChatToTestCodeblock.chat){let n="/chat/".concat(encodeURIComponent(a.continueChatToTestCodeblock.chat.chatCode)),t=a.continueChatToTestCodeblock.status===em.success_bot_created?P("Private bot created. Send a message to test it."):P("Private bot updated. Send a message to test it."),i=(0,en.M5)(new URL(n,window.location.origin),en.BG.testCodeblockSuccess,{[en.J7]:t});e?window.open(i.href,"_blank"):(z(!0),N.push(i.href))}else A({type:en.pC.error,content:P("Something went wrong.")})}})},[i,G,A,P,R,N]),J=(0,m.useCallback)(e=>{let a=!!(e.metaKey||e.ctrlKey||e.shiftKey);q(a)},[q]),Q=(0,m.useMemo)(()=>{if((null==a?void 0:a.language)!=="poepython")return!1;let e=function(e){let a=e.split("\n").slice(0,10);for(let e of a){let a=e.match(/^\s*#\s*poe\s*:\s*name\s*=\s*(.+)\s*$/);if(a)return"@chat/".concat(a[1].trim()," ")}return""}(i);return""!==e},[null==a?void 0:a.language,i]),[Y,X]=(0,m.useState)(null),ee=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(I.Z,{className:eo().codeActionButton,as:"button",ref:X,theme:"secondary",size:"sm",onClick:E,iconLeft:(0,c.jsx)(et.Z,{}),showIconOnly:"always"}),(0,c.jsx)($.u,{anchorRef:Y,label:P("Copy code"),placement:"top"})]});if(!S||!y)return(0,c.jsxs)("div",{className:eo().codeBlock,children:[(0,c.jsxs)("div",{className:eo().codeHeader,children:[(0,c.jsx)("div",{className:eo().languageName,children:(null==a?void 0:a.showLanguageName)&&a.language}),(0,c.jsxs)("div",{className:(0,B.$)(eo().codeActions,U&&eo().codeActionsRightMargin),children:[_&&a&&(0,c.jsx)(m.Suspense,{fallback:(0,c.jsx)(RunButtonPlaceholder,{}),children:(0,c.jsx)(eI,{className:eo().codeActionButton,language:a.language,code:t(),disabled:b,codeblockIdx:F})}),ee]})]}),(0,c.jsxs)("div",{ref:h,className:(0,B.$)(eo().codeSection,l&&eo().collapsible),"data-collapsed":null===o?"unknown":o,onClick:o?d:void 0,children:[o&&(0,c.jsx)("div",{className:eo().expandButtonContainer,children:(0,c.jsx)(I.Z,{as:"button",theme:"secondary",size:"sm",onClick:d,iconLeft:(0,c.jsx)(icons_expand,{}),className:eo().expandButton,children:P("View all")})}),(0,c.jsx)("pre",{...j,ref:g,className:(0,B.$)(eo().preTag,C?eo().horizontalScrollable:eo().horizontalOverflowHidden)})]})]});let ea=checkCanExecute({supportedExecutableLanguages:M,language:"python",enableExecutableCodeblock:w});return(null==a?void 0:a.language)==="poepython"&&ea?(0,c.jsxs)("div",{className:eo().codeBlock,children:[(0,c.jsx)("div",{className:eo().codeHeaderCodeReferencing,children:(0,c.jsx)("div",{className:eo().languageName,children:(null==a?void 0:a.showLanguageName)&&a.language})}),(0,c.jsxs)("div",{ref:h,className:(0,B.$)(eo().codeSection,l&&eo().collapsible),"data-collapsed":null===o?"unknown":o,onClick:o?d:void 0,children:[o&&(0,c.jsx)("div",{className:eo().expandButtonContainer,children:(0,c.jsx)(I.Z,{as:"button",theme:"secondary",size:"sm",onClick:d,iconLeft:(0,c.jsx)(icons_expand,{}),className:eo().expandButton,children:P("View all")})}),(0,c.jsx)("pre",{...j,ref:g,className:(0,B.$)(eo().preTag,C?eo().horizontalScrollable:eo().horizontalOverflowHidden)})]}),(0,c.jsxs)("div",{className:eo().codeFooterPoePython,children:[(0,c.jsx)("div",{className:eo().codeFooterLeftSection,children:y&&(0,c.jsxs)(c.Fragment,{children:[Q&&(0,c.jsx)(I.Z,{className:eo().codeActionButton,as:"button",theme:"primary",size:"sm",iconLeft:(0,c.jsx)(k.$M,{}),onClick:J,isLoading:K||W,isDisabled:b,children:P("Test")}),!Q&&(0,c.jsx)(m.Suspense,{fallback:(0,c.jsx)(RunButtonPlaceholder,{}),children:(0,c.jsx)(eI,{className:eo().codeActionButton,language:a.language,code:t(),disabled:b,codeblockIdx:F})}),(0,c.jsx)(I.Z,{className:eo().codeActionButton,as:"button",theme:"secondary",size:"sm",iconLeft:(0,c.jsx)(k.zc,{}),onClick:V,isDisabled:b,children:P("Publish bot")})]})}),(0,c.jsx)("div",{className:eo().codeFooterRightSection,children:(0,c.jsx)(message_CodeblockOverflowButton,{actionLogData:r,dropdownMenuOpen:Z,setDropdownMenuOpen:H,onCopyCode:E,code:t(),codeblockHeaderMetadata:s,className:eo().codeActionButton,iconSize:"sm"})})]})]}):(0,c.jsxs)("div",{className:eo().codeBlock,children:[(0,c.jsx)("div",{className:eo().codeHeaderCodeReferencing,children:(0,c.jsx)("div",{className:eo().languageName,children:(null==a?void 0:a.showLanguageName)&&a.language})}),(0,c.jsxs)("div",{ref:h,className:(0,B.$)(eo().codeSection,l&&eo().collapsible),"data-collapsed":null===o?"unknown":o,onClick:o?d:void 0,children:[o&&(0,c.jsx)("div",{className:eo().expandButtonContainer,children:(0,c.jsx)(I.Z,{as:"button",theme:"secondary",size:"sm",onClick:d,iconLeft:(0,c.jsx)(icons_expand,{}),className:eo().expandButton,children:P("View all")})}),(0,c.jsx)("pre",{...j,ref:g,className:(0,B.$)(eo().preTag,C?eo().horizontalScrollable:eo().horizontalOverflowHidden)})]}),(0,c.jsxs)("div",{className:eo().codeFooterPoePython,children:[(0,c.jsxs)("div",{className:eo().codeFooterLeftSection,children:[_&&a&&(0,c.jsx)(m.Suspense,{fallback:(0,c.jsx)(RunButtonPlaceholder,{}),children:(0,c.jsx)(eI,{className:eo().codeActionButton,language:a.language,code:t(),disabled:b,codeblockIdx:F})}),O&&R&&(0,c.jsx)(message_FixWithScriptCreator,{chat:R,code:i,isPartial:b,codeblockHeaderLanguage:null==a?void 0:a.language,enableScriptBotCreation:y})]}),(0,c.jsx)("div",{className:eo().codeFooterRightSection,children:ee})]})]})},CodeBlock=e=>(0,c.jsx)("code",{...e,className:eo().codeTag}),getSyntaxHighlighterLanguage=e=>"code_edit_tool"===e.language?"json":"html"===e.language?"xml":"svg"===e.language?"xml":"poepython"===e.language?"python":e.language,checkCanExecute=e=>{let{supportedExecutableLanguages:a,language:n,enableExecutableCodeblock:t}=e;return t&&!!n&&!!a&&a.map(e=>e.language).includes(n)};var message_MarkdownCodeBlock=e=>{var a;let{className:t,codeblockHeaderLanguage:i,codeblockHeaderMetadata:s,code:r,enableExecutableCodeblock:l,actionLogData:o,codeblockIsComplete:d,codeblockIdx:u,supportedExecutableLanguages:g,messageIsComplete:h,renderIframe:k,supportedIframeContentTypes:f,codeblockPreviewIsEnabled:_,markdownWasStreaming:b,enableScriptingCodeReference:F,enableScriptBotCreation:v,messageId:C,chat:S}=e,y=(0,m.useRef)(r);y.current=r;let M=(0,m.useCallback)(()=>y.current,[]),w=useDetectLanguage(r,i),I=(0,p.useFragment)(n(88113),S),x=(0,eM.ZP)({chat:I}),{modal:T,openModal:B}=(0,ew.Z)(),L=(0,m.useRef)(w);L.current=w;let D=(0,ea.lX)({codeblockHeaderLanguage:i,metadata:s,code:r,supportedPreviewsContentTypes:f||[]})||null,j=(a=null!=i?i:null,"html"===D?K.Z.html:a||("react"===D?K.Z.tsx:null)),P=_&&!!j&&!!D&&!!k,A=P||"code_edit_tool"===i||"diff"===i||"console"===i||(null==s?void 0:s.includes("type=code_edit_tool"))||(null==s?void 0:s.includes("type=poeToolResult"))||(null==s?void 0:s.includes("tool_use_id="))||(null==w?void 0:w.language)==="poepython"||(null==w?void 0:w.language)==="python",N="code_edit_tool"!==i,{collapsed:R,expand:O,collapse:E,preElementRef:U,codeSectionRef:Z}=useCodeblockCollapse(null!=A&&A,d),H=checkCanExecute({supportedExecutableLanguages:g,language:null==w?void 0:w.language,enableExecutableCodeblock:l}),V=(0,m.useMemo)(()=>({...o,codeblock_index:u}),[o,u]),G=(0,m.useCallback)(e=>(0,c.jsx)(PreBlock,{...e,actionLogData:V,languageMatch:L.current,getCode:M,code:r,codeblockHeaderMetadata:s,collapsible:A,collapsed:R,expand:O,preElementRef:U,codeSectionRef:Z,executable:H,isPartial:!h,codeblockIdx:u,collapse:E,isHorizontalScrollable:!!N,enableScriptingCodeReference:F,supportedExecutableLanguages:g,enableExecutableCodeblock:l,enableScriptBotCreation:v,messageId:C,shouldShowPublishModal:x,openPublishModal:B,chat:I||null}),[M,r,s,A,H,h,u,V,R,O,U,Z,N,F,g,l,v,C,x,B,I,E]),W=(0,m.useMemo)(()=>{if(w)return getSyntaxHighlighterLanguage(w)},[w]),z=h&&R?collapsedRenderer:void 0;return(0,c.jsxs)("div",{className:eo().container,children:[(0,c.jsx)(X.Z,{language:W,style:ee.Z,className:t,PreTag:G,CodeTag:N?void 0:CodeBlock,renderer:z,children:r}),d&&P&&k({language:"html"===D?K.Z.html:j,contentType:D,content:r,blockIndex:u,blockType:"codeblock",markdownWasStreaming:b}),T]})},eT=n(4909),eB=n(53679),eL=n(99240),eD=n(97341),ej=n(27382),eP=n(3687),eA=n(23595),eN=n(64516),eR=n(6103),eO=n.n(eR);let getSrcSize=e=>{try{if(!e)return null;let a=new URL(e),n=parseInt(a.searchParams.get("w")||""),t=parseInt(a.searchParams.get("h")||"");if(Number.isNaN(n)||Number.isNaN(t))return null;return{width:n,height:t}}catch(e){return null}};var message_MarkdownImage=e=>{let{alt:a,src:n,...t}=e,{t:i}=(0,u.$G)(),s=(0,en.ZP)(),r=(0,m.useRef)(null),[l,o]=(0,eP.O6)(),d=(0,m.useContext)(eh.Z),g=(0,m.useContext)(ek.Z),p=(0,m.useCallback)(()=>{n&&(0,eP.km)(n,eP.Jg.image,{botId:null==g?void 0:g.botId,messageId:null==g?void 0:g.messageId,chatId:(null==d?void 0:d.chatId)||null})},[d,g,n]),h=(0,m.useCallback)(async()=>{n&&await l(n,eP.Jg.image,a,p)},[n,a,l,p]),k=(0,m.useCallback)(async e=>{if(!n)return;let a=!1;if(e===ed.Z.copy_image_link)await (0,ej.n9)(n)?(s({type:en.pC.success,content:i("Copied link to clipboard.")}),a=!0):s({type:en.pC.error,content:i("There was an error copying the image link to your clipboard. Please try again later.")});else if(e===ed.Z.copy_image)try{await (0,ej.VP)(n),s({type:en.pC.success,content:i("Image copied!")}),a=!0}catch(e){s({type:en.pC.error,content:i("There was an error copying the image. Please try again later.")})}a&&(0,er.Z)("poe/action_log",{action_type:(0,ec.E)(e),bot_id:null==g?void 0:g.botId,message_id:null==g?void 0:g.messageId,chat_id:(null==d?void 0:d.chatId)||null,action_metadata:{image_src:n}})},[n,d,g,i,s]),f=(0,m.useCallback)(()=>{(0,er.Z)("poe/statsd_event",{category:"count",key:"poe.web.markdown_image.load.failure",value:1,extra_data:{}})},[]),[_,b]=(0,m.useState)(!1),F=(0,m.useCallback)(()=>{b(!0),(0,er.Z)("poe/statsd_event",{category:"count",key:"poe.web.markdown_image.load.success",value:1,extra_data:{}})},[b]);(0,m.useEffect)(()=>{var e;(null===(e=r.current)||void 0===e?void 0:e.complete)&&b(!0)},[F]);let v=getSrcSize(n),{openImageViewer:C}=(0,eB.z)(),S=(0,m.useCallback)(()=>{n&&C({src:n,alt:a,onDownload:p,onCopy:k})},[n,a,C,p,k]),[y,M]=(0,m.useState)(null),w=i("Download image"),I=(0,eA.pE)((0,eN.F)());return(0,c.jsxs)("span",{className:eO().imageContainer,children:[v?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("img",{className:(0,B.$)(eO().image,eO().withPlaceholder),ref:r,src:n,alt:a,...t,onLoad:F,onError:f,onClick:S}),(0,c.jsx)("canvas",{height:v.height,width:v.width,className:eO().placeholder})]}):(0,c.jsx)("img",{className:eO().image,ref:r,src:n,alt:a,...t,onLoad:F,onError:f,onClick:S}),_&&n&&"server_inject_icon"!=a&&!I&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(eT.Xd,{ref:M,className:eO().downloadImageButton,"data-downloading":o,disabled:o,onClick:o?void 0:h,icon:o?(0,c.jsx)(eD.Z,{}):(0,c.jsx)(eL.Z,{})}),(0,c.jsx)($.u,{anchorRef:y,label:w,placement:"top"})]})]})},eE=n(16593),eU=n(8044),eZ=n.n(eU),eH=n(39609);let parseInlineCitationInfo=e=>{let a="poe.com"===e.hostname,n=(0,eE.Zw)(e.pathname),t=1===n.length&&"citation"===n[0],i=e.searchParams.get("message_id"),s=e.searchParams.get("citation"),r=parseInt(i||""),l=parseInt(s||""),o=a&&t&&Number.isInteger(r)&&Number.isInteger(l);return o?{messageId:r,citationIndex:l}:null},MarkdownLinkCitationInner=e=>{let{messageId:a,citationIndex:n,className:t,...i}=e,{modal:s,openModal:r}=(0,eH.Z)({messageId:a,citationIndex:n});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("a",{...i,className:(0,B.$)(t,eZ().linkifiedLink),onClick:r,href:void 0}),s]})};var message_MarkdownLink=e=>{let{...a}=e,n=(0,m.useContext)(eh.Z),t=(0,m.useContext)(ek.Z);try{let e=a.href;if(e){let i=new URL(e),s=parseInlineCitationInfo(i);if("poe:"===i.protocol)return(0,c.jsx)(c.Fragment,{children:a.children});if(s){let e=(null==t?void 0:t.messageId)===s.messageId;if(!n||!e)return(0,c.jsx)(c.Fragment,{children:a.children});return(0,c.jsx)(MarkdownLinkCitationInner,{...a,messageId:s.messageId,citationIndex:s.citationIndex})}}return(0,c.jsx)("a",{...a,target:"_blank"})}catch(e){return(0,c.jsx)(c.Fragment,{children:a.children})}},eV=n(79568),eG=n.n(eV),message_MarkdownTable=e=>{let{children:a,...n}=e;return(0,c.jsx)("div",{role:"region",tabIndex:0,className:eG().tableContainer,children:(0,c.jsx)("table",{...n,children:a})})};let getImageSrc=(e,a)=>{if(!e)return"";try{let n=new URL(e);if(["qph.fs.quoracdn.net","qph.cf2.quoracdn.net","qph.cf2.poecdn.net"].includes(n.hostname))return e;if(void 0!==a&&!a.includes(n.hostname))return"";return e}catch(e){return""}},eK=[O.Z,E.Z],eW=m.createContext(null),useMarkdownProps=()=>{let e=(0,m.useContext)(eW);if(!e)throw Error("useMarkdownProps must be called inside ComponentsMapContext");return e},ez={a:e=>{let{node:a,...n}=e;return(0,c.jsx)(message_MarkdownLink,{className:G().link,...n})},img:e=>{let{node:a,...n}=e;return(0,c.jsx)(message_MarkdownImage,{...n})},pre:e=>{var a,n,t,i,s;let{node:r,code:l,codeblockIdx:o,className:d}=e,{isPartial:m,text:u,actionLogData:g,supportedExecutableLanguages:p,supportedIframeContentTypes:h,renderIframe:k,codeblockPreviewIsEnabled:f,markdownWasStreaming:_,enableScriptingCodeReference:b,enableScriptBotCreation:F,messageId:v,chatData:C}=useMarkdownProps(),S=!m,y=function(e,a,n){var t,i;if(e)return!0;let s=null===(t=a.position)||void 0===t?void 0:t.start.offset,r=null===(i=a.position)||void 0===i?void 0:i.end.offset;return void 0!==s&&void 0!==r&&(n.length>r+20||"```"===n.substring(s,s+3)&&"\n```"===n.substring(r-4,r)||"~~~"===n.substring(s,s+3)&&"\n~~~"===n.substring(r-4,r))}(S,r,u),M=null===(a=r.children)||void 0===a?void 0:a[0],w=null!==(i=null===(n=M.properties)||void 0===n?void 0:n.className)&&void 0!==i?i:"",I=null!==(s=null===(t=M.data)||void 0===t?void 0:t.meta)&&void 0!==s?s:void 0,x=function(e){let a="";if(!(a=Array.isArray(e)?e.join(" "):e||"")||"string"!=typeof a)return null;let n=a.match(ex);if(!n)return null;let t=n[1];return t?t.toLocaleLowerCase():null}(w);return(0,c.jsx)(message_MarkdownCodeBlock,{className:(0,B.$)(d,w),code:l||"",markdownWasStreaming:_,codeblockIdx:o||0,codeblockHeaderLanguage:x||void 0,codeblockHeaderMetadata:I,actionLogData:g,codeblockIsComplete:y,enableExecutableCodeblock:!0,supportedExecutableLanguages:p,messageIsComplete:S,supportedIframeContentTypes:h,renderIframe:k,codeblockPreviewIsEnabled:f,enableScriptingCodeReference:b,enableScriptBotCreation:F,messageId:v,chat:null!=C?C:null})},table:e=>(0,c.jsx)(message_MarkdownTable,{...e}),blockquote:e=>(0,c.jsx)(message_MarkdownBlockquote,{...e}),iframe:e=>{let{srcDoc:a,rawHTMLIdx:n,positionEndOffset:t}=e,{text:i,isPartial:s,rawHtmlPreviewIsEnabled:r,renderIframe:l}=useMarkdownProps(),o=null==a?void 0:a.trim();if(!o||!l||!r)return null;let d=!s||(0,H.h)(t)&&t<i.trimEnd().length;return void 0===n?null:d?l({language:K.Z.html,blockIndex:n,blockType:"rawhtml",content:o,contentType:"html",markdownWasStreaming:!1}):(0,c.jsx)(Z.z,{})}},eq=(0,m.memo)(function(e){let{text:a,theme:t,enableMath:i=!1,promptBotImageDomainWhiteList:s,isPartial:r=!1,rawHtmlPreviewIsEnabled:l,chat:o}=e,d=n(17878),u=(0,p.useFragment)(d,o),h=(0,m.useCallback)(e=>getImageSrc(e,s),[s]),k=a.replace("\n\nHuman","").trim(),f=(0,m.useMemo)(()=>({...e,text:k,chatData:u}),[e,k,u]),_=(0,m.useMemo)(()=>[...eK,...i?[[U.Z,{singleDollarTextMath:!1}]]:[]],[i]),b=(0,m.useMemo)(()=>[...i?[R.Z]:[],codeblockPlugin,rawHTMLPlugin(l)],[i,l]);return(0,c.jsx)("div",{className:(0,B.$)(G().markdownContainer,r&&"notranslate"),...r?{translate:"no"}:{},children:(0,c.jsx)(eW.Provider,{value:f,children:(0,c.jsx)(N.M,{asChild:!0,theme:t,children:(0,c.jsx)(g.D,{components:ez,remarkPlugins:_,rehypePlugins:b,transformImageUri:h,children:k})})})})});var e$=n(63605),eJ=n.n(e$);let MessageOverflowActions=e=>{let{children:a,isMessageHovered:n,theme:t}=e,i=(0,B.$)(eJ().overflowActionsWrapper,n?eJ().visible:eJ().hidden,"error"===t?eJ().errorContainer:"accent"===t?eJ().accentContainer:eJ().neutralContainer);return(0,c.jsx)("div",{className:i,children:a})};var eQ=n(81045),eY=n(88373),eX=n(56199),e0=n.n(eX);let MessageReactionCount=e=>{let{reactionCount:a,onClickReaction:n,viewerReaction:t}=e,{reaction:i,count:s}=a;return(0,c.jsxs)("div",{onClick:n,className:(0,B.$)(e0().reactionCount,t===i&&e0().viewerReaction),children:[(0,c.jsx)(eY.Z,{reaction:i}),s>1&&(0,c.jsx)("div",{children:s})]})};var message_MessageReactionCounts=e=>{let{hidden:a}=e,{reactionCounts:n,openReactionsModal:t,viewerReaction:i}=(0,eQ.C)();if(!(null==n?void 0:n.length))return null;let s=n.map(e=>(0,c.jsx)(MessageReactionCount,{reactionCount:e,onClickReaction:t,viewerReaction:i},e.reaction));return a?(0,c.jsx)("div",{className:e0().hiddenReactionCounts,children:s}):(0,c.jsx)("div",{className:e0().reactionCounts,children:(0,c.jsx)("div",{className:e0().reactionCountsInner,children:s})})};let MessageBubble=e=>{let{text:a,actionLogData:t,isSentByViewer:i,messageTimeoutSecs:s=15,isBot:r,isHuman:l,isCancelled:o=!1,isOptimistic:d,timeoutLevel:g,overflowButton:k,state:f,contentType:_=j.Z.text_markdown,promptBotImageDomainWhiteList:b,enableMath:F=!1,enableLongUserMessageTruncation:v=!1,footer:S,errorMessage:x,subline:D,hasAttachments:A,commandType:N,messageStateText:R,clientMessageStateText:O,markdownCharacterLimit:E=2e4,authorFullName:U,messageCreationTime:Z,messageSeenState:H,supportedExecutableLanguages:V,supportedIframeContentTypes:G,renderIframe:K,referencedMessage:W,isEdited:z,isEditing:q,enableScriptingCodeReference:$,hasParameters:J,messageCode:Q,useMessageSendingIcon:Y,enableScriptBotCreation:X,messageId:ee,showOverflowButtonInBubble:ea,chat:en,responsibleJobState:et}=e,{t:ei}=(0,u.$G)(),es=(0,m.useRef)(null),{isHovered:er,setIsHovered:el}=(0,h.q)(),eo=(0,m.useCallback)(()=>{null==el||el(!0)},[el]),ed=(0,m.useCallback)(()=>{null==el||el(!1)},[el]),ec=(0,m.useRef)(null),[em,eu]=(0,m.useState)(v?"initial":"not-truncated"),eg=(0,m.useMemo)(()=>{if(v&&"not-truncated"!==em)return{overflow:"hidden",maxHeight:"60vh"}},[v,em]),ep=(0,w.E)(),eh=ea&&ep!==P.Z.share,ek=(0,p.useFragment)(n(73884),en);(0,m.useEffect)(()=>{if(v&&es.current&&ec.current){let e=es.current.getBoundingClientRect().height,a=ec.current.getBoundingClientRect().height;e>a?eu("truncated"):eu("not-truncated")}},[v,es,ec]);let ef=null,e_=Math.floor(s/5),eb=!1;O?ef=O:R?ef=R:f===y.Z.error?ef=r?ei("Message timed out."):x||ei(g<3?"Message failed to send.":"Unable to reach Poe."):o||!d||r||(Y?eb=!0:ef=ei(g?A?"Still uploading...":"Still sending...":A?"Uploading...":"Sending..."));let eF=(0,B.$)(C().row,i&&C().rightSideMessageRow,N&&C().commandRow,N&&(i?C().rightSideCommandRow:C().leftSideCommandRow)),ev=(0,T.DN)(f),eC=ev||!r&&g===e_,eS=N?"":(0,B.$)(i?C().rightSideMessageBubble:C().leftSideMessageBubble,eC&&C().errorBubble),ey=(0,B.$)(C().messageBubbleWrapper,q&&C().editing),eM=eC?"on-error":i?"on-accent":"hi-contrast",ew=f==y.Z.output_truncated,[eI,ex]=(0,m.useState)(f===y.Z.incomplete||et===L.Z.running);(0,m.useEffect)(()=>{(f===y.Z.incomplete||et===L.Z.running)&&ex(!0)},[f,et]);let eT=m.useCallback(()=>{eu("not-truncated")},[]),eB=m.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]),eL=N&&eC?C().commandErrorFooter:i?C().rightSideOptimisticFooter:C().leftSideOptimisticFooter;return(0,c.jsxs)("div",{className:C().rowWithFooter,children:[(0,c.jsxs)("div",{className:eF,children:[i&&!eh?k:null,(0,c.jsxs)("div",{className:ey,onMouseEnter:eo,onMouseLeave:ed,children:[(0,c.jsxs)("div",{className:(0,B.$)(eS,eh&&C().positionRelative),children:[eh&&k&&!d?(0,c.jsx)(MessageOverflowActions,{theme:eC?"error":i?"accent":"neutral",isMessageHovered:er,children:k}):null,!r||a||A?N?(0,c.jsx)(message_CommandMessage,{commandType:N,text:a,isSentByViewer:i,authorFullName:U}):(0,c.jsxs)("div",{ref:ec,className:C().messageTextContainer,style:eg,children:[(0,c.jsx)(M.Z,{isReferencingMessageErrored:eC,isReferencingMessageSentByViewer:i,children:W}),(0,c.jsx)("div",{ref:es,onTouchStart:eB,className:C().selectableText,children:_===j.Z.text_markdown&&a.length<E?(0,c.jsx)(eq,{theme:eM,markdownWasStreaming:eI,text:getText(a,l),actionLogData:t,enableMath:F,rawHtmlPreviewIsEnabled:!l,codeblockPreviewIsEnabled:!0,promptBotImageDomainWhiteList:b,isPartial:f===y.Z.incomplete||f===y.Z.cancelled,supportedExecutableLanguages:V,supportedIframeContentTypes:G,renderIframe:K,enableScriptingCodeReference:null!=$?$:void 0,enableScriptBotCreation:null!=X&&X,messageId:ee,chat:ek}):(0,c.jsx)("p",{className:C().plaintext,children:a})}),"truncated"===em&&(!d||d&&f!==y.Z.complete)?(0,c.jsx)("div",{className:(0,B.$)(C().viewMoreButtonContainer,eC?C().viewMoreButtonContainerBackgroundErrorFade:i?C().viewMoreButtonContainerBackgroundPurpleFade:C().viewMoreButtonContainerBackgroundNeutralFade),children:(0,c.jsx)(I.Z,{as:"button",size:"sm",theme:"secondary",iconLeft:(0,c.jsx)(icons_expand,{}),className:C().viewMoreButton,onClick:eT,children:ei("View more")})}):null]}):f===y.Z.incomplete?(0,c.jsx)("p",{className:C().plaintext,children:"..."}):(0,c.jsx)(nosign,{className:C().noSignIcon}),S,(0,c.jsx)(message_MessageMetadata,{state:f,messageCreationTime:Z,seenState:H,isEdited:z,hasParameters:J,messageCode:Q,showSendingIcon:eb}),(0,c.jsx)(message_MessageReactionCounts,{hidden:!0})]}),(0,c.jsx)(message_MessageReactionCounts,{})]})]}),D,ef&&(0,c.jsx)("div",{"data-visible":d||g>=e_||ev||ew||void 0,"data-error":eC||void 0,"data-warning":ew||void 0,className:eL,children:ef})]})},getText=(e,a)=>{if(!a)return e;let{specialSyntax:n,specialSyntaxTrailingSpaces:t,prompt:i}=(0,x.Co)(e);return 0===n.length?e:"**".concat(n.trim(),"**").concat(t).concat(i)},BreakLine=()=>(0,c.jsx)("div",{className:C().breakLine}),ChatBreak=e=>{let{isSentByViewer:a,authorFullName:n,overflowButton:t}=e,{t:i}=(0,u.$G)(),s=(0,T.rw)(i,a,n);return(0,c.jsxs)("div",{className:C().chatBreak,children:[(0,c.jsx)(BreakLine,{}),(0,c.jsx)("span",{className:(0,B.$)(C().chatBreakLabel,!!t&&C().chatBreakLabelWithOverflowButton),children:s}),t,(0,c.jsx)(BreakLine,{})]})},ChatAnnouncement=e=>{let{chatAnnouncementText:a}=e;return(0,c.jsx)("div",{className:C().chatAnnouncement,children:(0,c.jsx)("span",{className:(0,B.$)(C().chatAnnouncementLabel),children:(0,c.jsx)(g.D,{linkTarget:"_blank",children:a})})})};var message_Message=e=>{let{text:a,actionLogData:t,author:i,sourceType:s,isSentByViewer:r,messageTimeoutSecs:l,viewer:o,bot:d,chat:u,referencedMessage:g,isCancelled:h=!1,isOptimistic:k=!1,timeoutLevel:f=0,state:_=y.Z.complete,contentType:b=j.Z.text_markdown,footer:F,errorMessage:v,hasAttachments:C=!1,commandType:S,overflowButton:M,messageStateText:w,clientMessageStateText:I,messageCreationTime:x,messageSeenState:B,authorFullName:L,supportedExecutableLanguages:P,supportedIframeContentTypes:A,renderIframe:N,subline:R,isChatAnnouncement:O,isEdited:E,isEditing:U,hasParameters:Z,messageId:H,messageCode:V,responsibleJobState:G}=e,K=(0,m.useDeferredValue)(a),W=_===y.Z.incomplete?K:a,{markdownCharacterLimit:z,botMarkdownCharacterLimit:q,promptBotImageDomainWhitelist:$,enableScriptingCodeReference:J,enableScriptBotCreation:Q,useMessageSendingIcon:Y,poeHideLeftSideMessageHeaderIfSameSender:X}=(0,p.useFragment)(n(52224),o),{isApiBot:ee}=(0,p.useFragment)(n(2395),d),ea=(0,p.useFragment)(n(43396),u);if(O)return(0,c.jsx)(ChatAnnouncement,{chatAnnouncementText:W});if(i===D.Z.chat_break)return(0,c.jsx)(ChatBreak,{isSentByViewer:r,authorFullName:L,overflowButton:M});{let e=(0,T.y8)(i)&&!ee||(0,T.SX)(i)&&s&&"preview_triggered"===s;return(0,c.jsx)(MessageBubble,{supportedIframeContentTypes:A,renderIframe:N,actionLogData:t,isSentByViewer:r,text:W,overflowButton:M,messageTimeoutSecs:l,isBot:(0,T.y8)(i),isHuman:(0,T.SX)(i),isCancelled:h,isOptimistic:k,timeoutLevel:f,markdownCharacterLimit:(0,T.y8)(i)?null!=q?q:2e5:null!=z?z:5e4,state:_,contentType:b,promptBotImageDomainWhiteList:e?$:void 0,enableMath:!0,footer:F,subline:R,errorMessage:v,hasAttachments:C,commandType:S,messageStateText:w,clientMessageStateText:I,authorFullName:L,messageCreationTime:x,messageSeenState:B,supportedExecutableLanguages:P,enableLongUserMessageTruncation:(0,T.SX)(i),referencedMessage:g,isEdited:E,isEditing:U,enableScriptingCodeReference:null!=J?J:void 0,enableScriptBotCreation:null!=Q&&Q,hasParameters:Z,messageCode:V,useMessageSendingIcon:null!=Y?Y:void 0,messageId:H,showOverflowButtonInBubble:null!=X?X:void 0,chat:ea,responsibleJobState:G})}}},23282:function(e,a,n){"use strict";var t=n(85893),i=n(41143),s=n.n(i),r=n(22120),l=n(46044),o=n(12251),d=n(32524),c=n.n(d);let getMessageDateString=(e,a)=>{let n=new Date,t=e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear(),i=e.getDay(),s=new Date;s.setHours(0,0,0,0);let r=new Date(s.getTime()-864e5),o=e.getDate()===r.getDate()&&e.getMonth()===r.getMonth()&&e.getFullYear()===r.getFullYear(),d=new Date(s.getTime()-5184e5),c=e.getTime()>d.getTime();return t?a("Today"):o?a("Yesterday"):c?getDayOfWeekString(i,a):(0,l.tF)({date:e,t:a})},getDayOfWeekString=(e,a)=>{switch(e){case 0:return a("Sunday");case 1:return a("Monday");case 2:return a("Tuesday");case 3:return a("Wednesday");case 4:return a("Thursday");case 5:return a("Friday");case 6:return a("Saturday");default:s()(!1,"Unexpected day of week ".concat(e))}};a.Z=e=>{let{messageCreationTime:a,className:n}=e,{t:i}=(0,r.$G)(),s=new Date(a/1e3);return(0,t.jsx)("p",{className:(0,o.$)(c().container,n),suppressHydrationWarning:!0,children:getMessageDateString(s,i)})}},72110:function(e,a,n){"use strict";n.d(a,{F:function(){return MessageHoverProvider},q:function(){return useMessageHover}});var t=n(85893),i=n(67294);let s=(0,i.createContext)({isHovered:!1,setIsHovered:void 0}),MessageHoverProvider=e=>{let{children:a}=e,[n,r]=(0,i.useState)(!1),l=(0,i.useMemo)(()=>({isHovered:n,setIsHovered:r}),[n,r]);return(0,t.jsx)(s.Provider,{value:l,children:a})},useMessageHover=()=>{let e=(0,i.useContext)(s);return e}},95309:function(e,a,n){"use strict";n.d(a,{K:function(){return DeletedReferencedMessage},Z:function(){return message_ReferencedMessage}});var t=n(85893),i=n(94370),s=n(41143),r=n.n(s),l=n(67294),o=n(22120),d=n(22578);n(44311);var c=n(64869),m=n(38033),u=n(8583),g=n(85972);let isAudio=e=>e.startsWith("audio/"),isVideo=e=>e.startsWith("video/"),isImage=e=>e.startsWith("image/");var p=n(12251),h=n(9729),k=n(48901),f=n(59068),_=n.n(f);let DeletedReferencedMessage=()=>{let{t:e}=(0,o.$G)(),a=useTextColorStyle();return(0,t.jsx)(ReferencedMessageStylingWrapper,{className:(0,p.$)(_().text,_().leftSection,a),children:e("Deleted message")})},useScrollToMessage=e=>{let a=(0,u.ZP)(),{t:n}=(0,o.$G)(),t=(0,l.useCallback)(()=>{let t=document.getElementById((0,k.n)(e));t?t.scrollIntoView({behavior:"smooth",block:"start"}):((0,h.Z)("poe/statsd_event",{category:"count",key:"poe.web.not_found.messages_list.referenced_message",value:1}),a({type:u.pC.warning,content:n("Unable to access the original message.")}))},[e,a,n]);return t},useBackgroundColorStyle=()=>{let{isReferencingMessageErrored:e,isReferencingMessageSentByViewer:a,isInInputHeader:n}=(0,m.Y)();return n?void 0:e||a?_().dimDark20:_().backgroundMuted},useTextColorStyle=()=>{let{isReferencingMessageErrored:e,isReferencingMessageSentByViewer:a,isInInputHeader:n}=(0,m.Y)();return n?_().foregroundMuted:e||a?_().accentOnAccentWithOpacity:_().foregroundMuted},ReferencedMessageStylingWrapper=e=>{let{children:a,onClick:n,className:i}=e,{isInInputHeader:s}=(0,m.Y)(),r=useBackgroundColorStyle();return(0,t.jsx)("div",{className:(0,p.$)(i,_().container,r,!s&&_().containerVerticalMargin),onClick:n,children:a})};var message_ReferencedMessage=e=>{let{messageId:a,bot:s,poeUser:u,attachments:h,text:k,showPrivateTag:f}=e;r()(s||u,"One of user or bot data should be passed in");let b=(0,d.useFragment)(n(14151),s),F=(0,d.useFragment)(n(38369),u),v=(0,d.useFragment)(n(98422),h),{t:C}=(0,o.$G)(),S=useScrollToMessage(a),y=useTextColorStyle(),{isInInputHeader:M}=(0,m.Y)(),w=v.length,I=0===w,x=1===w,T=w>1,B=(0,l.useMemo)(()=>{if(I||T)return null;if(x){let e=v[0].file.mimeType,a=M?_().inputHeaderAttachmentSection:void 0;if(isImage(e))return(0,t.jsx)("img",{className:(0,p.$)(_().attachmentSection,_().imageAttachment,a),src:v[0].url,alt:v[0].name||C("Image attachment")});if(isVideo(e))return(0,t.jsx)("div",{className:(0,p.$)(_().attachmentSection,a),children:(0,t.jsx)(i.JF,{})});if(isAudio(e))return(0,t.jsx)("div",{className:(0,p.$)(_().attachmentSection,a),children:(0,t.jsx)(i.d2,{})})}return null},[I,T,x,v,M,C]),L=(0,l.useMemo)(()=>{if(I)return k;if(T)return C("Multiple attachments");if(x){let e=v[0].file.mimeType;return isImage(e)?C("Image"):isVideo(e)?C("Video"):isAudio(e)?C("Audio"):v[0].name}return k},[I,T,x,v,k,C]);return(0,t.jsxs)(ReferencedMessageStylingWrapper,{className:_().cursorPointer,onClick:S,children:[(0,t.jsxs)("div",{className:(0,p.$)(_().leftSection,B&&_().leftSectionWithAttachment),children:[F&&(0,t.jsx)(g.Z,{poeUser:F}),b&&(0,t.jsx)(c.Z,{bot:b,showPrivateTag:f}),(0,t.jsx)("div",{className:(0,p.$)(_().text,y),children:L})]}),B]})}},38033:function(e,a,n){"use strict";n.d(a,{Y:function(){return useReferencedMessageContext}});var t=n(85893),i=n(67294);let s=(0,i.createContext)({isInReferencedMessage:!1,isReferencingMessageSentByViewer:!1,isReferencingMessageErrored:!1,isInInputHeader:!1}),useReferencedMessageContext=()=>(0,i.useContext)(s);a.Z=e=>{let{children:a,isReferencingMessageSentByViewer:n,isReferencingMessageErrored:r,isInInputHeader:l=!1}=e,o=(0,i.useMemo)(()=>({isInReferencedMessage:!0,isReferencingMessageSentByViewer:n,isReferencingMessageErrored:r,isInInputHeader:l}),[n,r,l]);return(0,t.jsx)(s.Provider,{value:o,children:a})}},45392:function(e,a,n){"use strict";n.d(a,{Y:function(){return i}});var t=n(67294);let i=(0,t.createContext)(!1)},39609:function(e,a,n){"use strict";var t=n(85893),i=n(67294),s=n(22641);let importMessageCitationSourceModal=()=>n.e(1372).then(n.bind(n,21372));a.Z=e=>{let{messageId:a,citationIndex:n}=e,[r,l]=(0,i.useState)(!1),o=(0,i.useCallback)(()=>{l(!0)},[]),d=(0,i.useCallback)(()=>{l(!1)},[]),c=(0,i.useMemo)(()=>({messageId:a,citationIndex:n}),[n,a]),m=(0,t.jsx)(s.Z,{isOpen:r,onRequestClose:d,body:importMessageCitationSourceModal,bodyProps:c,modalHeight:400,useMinHeight:!0,useIncreasedHeightInCompactScreen:!0});return{modal:m,openModal:o}}},41188:function(e,a,n){"use strict";var t=n(85893),i=n(67294),s=n(22641);let PublishScriptBotModal=()=>n.e(2367).then(n.bind(n,72367));a.Z=()=>{let[e,a]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),l=(0,i.useCallback)(e=>{r(e),a(!0)},[]),o=(0,i.useCallback)(()=>{a(!1),r(null)},[]),d=(0,i.useMemo)(()=>n?{...n,close:o}:null,[n,o]),c=n&&d?(0,t.jsx)(s.Z,{isOpen:e,onRequestClose:o,body:PublishScriptBotModal,bodyProps:d,useMinHeight:!0}):null;return{modal:c,openModal:l,isOpen:e}}},1528:function(e,a,n){"use strict";n.d(a,{Nm:function(){return r},sg:function(){return s}});var t=n(67294),i=n(22578);let s=6477437,r="Script-Bot-Creator";a.ZP=e=>{var a,r;let{chat:l}=e,o=(0,i.useFragment)(n(29203),l),d=!!(null==o?void 0:null===(a=o.chatSettingsFieldBotToEdit)||void 0===a?void 0:a.botId)&&(null==o?void 0:null===(r=o.defaultBotObject)||void 0===r?void 0:r.botId)===s;return(0,t.useMemo)(()=>{var e,a;return!!l&&!!((d||(null==o?void 0:o.chatSettingsFieldBotToEdit))&&(null==o?void 0:null===(a=o.chatSettingsFieldBotToEdit)||void 0===a?void 0:null===(e=a.creator)||void 0===e?void 0:e.viewerIsUser))},[l,d,o])}},84080:function(e,a,n){"use strict";n.d(a,{C:function(){return usePagingTriggerRef}});var t=n(85893),i=n(67294),s=n(12251),r=n(56782),l=n.n(r),o=n(13525);let usePagingTriggerRef=e=>{let{loadMore:a,canLoadMore:n,rootMargin:t,scrollRootRef:s}=e,r=i.useRef(null),l=(0,o.Oi)(),d=void 0!==s?s:l;return(0,i.useEffect)(()=>{var e;if(!r.current||!n)return;let i=new IntersectionObserver(e=>{e[0].isIntersecting&&a()},{root:null!==(e=null==d?void 0:d.current)&&void 0!==e?e:null,threshold:0,rootMargin:t});return i.observe(r.current),()=>{i.disconnect()}},[a,n,t,d]),r},calcRootMargin=(e,a,n)=>"".concat(!a&&n?e:0,"px ").concat(a&&!n?e:0,"px ")+"".concat(a||n?0:e,"px ").concat(a&&n?e:0,"px"),d=i.forwardRef(function(e,a){let{children:n,className:i,loadMore:r,hasMore:o,isLoading:d,loadingState:c=null,error:m,errorState:u=null,threshold:g,horizontal:p=!1,reverse:h=!1,scrollRootRef:k,as:f="div"}=e,_=usePagingTriggerRef({loadMore:r,canLoadMore:o&&!d&&!m,rootMargin:calcRootMargin(g,p,h),scrollRootRef:k}),b=m?u:(0,t.jsx)("div",{ref:_,className:l().pagingTrigger,children:d&&c});return(0,t.jsxs)(f,{ref:a,className:(0,s.$)(l().container,p&&l().horizontal,i),children:[h&&b,n,!h&&b]})});a.Z=d},96324:function(e,a,n){"use strict";n.d(a,{n:function(){return i}});var t=n(67294);let i=(0,t.createContext)(()=>{})},17663:function(e,a,n){"use strict";n.d(a,{h:function(){return ButtonGroup}});var t=n(85893);n(67294);var i=n(12251),s=n(95474),r=n.n(s);let ButtonGroup=e=>{let{children:a,className:n,...s}=e;return(0,t.jsx)("div",{role:"group",className:(0,i.$)(r().root,n),...s,children:a})}},96744:function(e,a,n){"use strict";var t=n(85893);n(67294);var i=n(53968),s=n(12251),r=n(91613),l=n.n(r),o=n(24113),d=n.n(o);let Checkbox=e=>{let{className:a,children:n,isChecked:r=!1,isDisabled:o=!1,...c}=e,m=(0,s.$)(l().label,o?l().isDisabled:null,r?d().isChecked:null,o?d().isDisabled:null,a),u=(0,s.$)(l().inputImage,d().inputImage);return(0,t.jsxs)("label",{className:m,children:[(0,t.jsx)("input",{className:l().input,type:"checkbox",disabled:o,checked:r,...c}),(0,t.jsx)("div",{className:u,children:r&&(0,t.jsx)(i.Z,{})}),n&&(0,t.jsx)("div",{className:d().text,children:n})]})};Checkbox.displayName="Checkbox",a.Z=Checkbox},28473:function(e,a,n){"use strict";n.d(a,{n:function(){return BarePreviewFrameWithIndicator},z:function(){return BarePreviewFrameIndicator}});var t=n(85893),i=n(22578);n(44311);var s=n(12251),r=n(23595),l=n(64516),o=n(61302),d=n.n(o),c=n(65604),m=n(24503),u=n(45444),g=n(36796),p=n(6305),h=n(4895),k=n(58705),f=n(41156),_=n(64468),b=n(12001),F=n(67209);let BarePreviewFrame=e=>{let{htmlCode:a,sendUserMessageOverlay:o,onSendUserMessage:m,overlayClassName:v,className:C,containerClassName:S,logger:y,viewableImpressionType:M,viewer:w}=e,I=(0,i.useFragment)(n(44593),w),x=(0,l.F)(),T=(0,_.X)(I),B=(0,k.Z)(T,a,"html",{inline:!0,allowDownloads:!0,linkInterceptionBehavior:"showConfirmation",interceptCopyEvents:(0,r.P)(x)}),{stopTimer:L}=(0,F.Z)({language:c.Z.html,contentType:"html"}),D=(0,h.Z)({onLoad:L}),{disableSafeMode:j,shouldShowSafeModeOverlay:P,onSafeModeOverlayDismiss:A,onSecurityPolicyViolation:N,safeMode:R}=(0,b.Z)(),O=(0,u.Os)(0,y),E=(0,p.R)(),U=(0,f.B)(y,M);return(0,t.jsx)(g.Z,{ref:U,inline:!0,overlayClassName:(0,s.$)(d().mainContainer,v),className:(0,s.$)(d().mainContainer,C),containerClassName:(0,s.$)(d().container,S),onReady:B,safeMode:R,shouldShowSafeModeOverlay:P,onCopyToClipboardDesktopAppOnly:(0,r.P)(x)?E:void 0,onSafeModeOverlayConfirm:j,onSafeModeOverlayDismiss:A,onSecurityPolicyViolation:N,sendUserMessageOverlay:o,onSendUserMessage:m,...D,...O,iframeUrl:T})};function BarePreviewFrameIndicator(){return(0,t.jsx)("div",{className:d().loadingContainer,children:(0,t.jsx)(m.Z,{color:"accent",size:"sm"})})}function BarePreviewFrameWithIndicator(e){return e.showLoadingSpinner?(0,t.jsx)("div",{className:d().loadingContainer,children:(0,t.jsx)(m.Z,{color:"accent",size:"sm"})}):(0,t.jsx)(BarePreviewFrame,{...e})}},77546:function(e,a,n){"use strict";var t=n(85893),i=n(94370),s=n(22120),r=n(78410),l=n(56505),o=n.n(l);a.Z=e=>{let{log:a,isOpen:n,toggleConsole:l}=e,{t:d}=(0,s.$G)();return(0,t.jsxs)("div",{className:o().console,"aria-expanded":n,children:[(0,t.jsxs)("div",{className:o().consoleHeader,children:[(0,t.jsx)("p",{className:o().consoleHeaderText,children:d("Console")}),(0,t.jsx)(r.Z,{iconLeft:(0,t.jsx)(i.bM,{}),showIconOnly:"always",onClick:l,theme:"ghost",as:"button",size:"sm",children:d("Close console")})]}),(0,t.jsx)("div",{className:o().entries,children:a.map((e,a)=>{let{type:n,message:i}=e;return(0,t.jsx)("div",{className:o()[n],children:"error"===n?(0,t.jsx)("span",{className:o().errorLabel,children:i}):"warning"===n?(0,t.jsx)("span",{className:o().warningLabel,children:i}):i},a)})})]})}},36900:function(e,a,n){"use strict";n.d(a,{Z:function(){return preview_PreviewFrame}});var t=n(85893),i=n(67294),s=n(22578);n(44311);var r=n(23595),l=n(64516),o=n(67824),d=n(45444),c=n(77546),m=n(66953),u=n(30965),g=n(58775),p=n(97057),h=n(86880),k=n(39170),f=n(94370),_=n(22120),b=n(78410),F=n(30038),v=n(77338),C=n(34389);function OpenInCanvasButton(e){let{canvasHelpers:a,logger:n}=e,s=(0,C.C)(),r=a.openInCanvas,l=(0,i.useCallback)(()=>{r(),n.logPreviewInteraction(v.Z.open_preview_in_canvas),n.logAction(F.Z.open_preview_in_canvas)},[n,r]),{t:o}=(0,_.$G)();return(0,t.jsx)(b.Z,{as:"button",size:"sm",theme:"ghost",onClick:l,isDisabled:a.openMutationIsInflight,showIconOnly:s?"always":"compact-below","aria-label":"Open on canvas",iconLeft:(0,t.jsx)(f.C7,{}),children:o("Open on canvas")})}var S=n(86023),y=n(83169);let useOnPopoutButtonClick=e=>{let{content:a,contentType:n,codeblockIdx:t,logger:s,messageNodeId:r,allowShare:l}=e,o=(0,i.useCallback)(()=>{(0,S.E)({contentType:n,rawPreviewContent:a,shareInformation:l&&"number"==typeof t?{nodeId:r,codeblockIndex:t}:void 0}),s.logPreviewInteraction(v.Z.open_in_new_tab),s.logAction(F.Z.open_preview_in_new_tab)},[t,r,a,n,l,s]);return o},PopoutButtonDropdownMenuItem=e=>{let a=useOnPopoutButtonClick(e),{t:n}=(0,_.$G)();return(0,t.jsxs)(y.ZP,{onClick:a,children:[(0,t.jsx)(f.Tq,{size:"md"}),n("New tab")]})};var M=n(51667),w=n(91917),I=n(31198),preview_PreviewHeader=e=>{var a,n,s;let{showPreviewShareButton:r,codeblockIdx:l,disableShareButton:o,logger:d}=e,c=null===(a=(0,i.useContext)(u.Z))||void 0===a?void 0:a.messageId;return(0,t.jsx)(M.r,{title:e.title,rightChildren:(0,t.jsxs)(t.Fragment,{children:[!(null===(n=e.canvasHelpers)||void 0===n?void 0:n.isOpenedInCanvas)&&!e.isCollapsed&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.X,{isOpen:e.moreOptionsIsOpen,setIsOpen:e.setMoreOptionsIsOpen,menuBody:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{onClick:e.refresh}),(0,t.jsx)(k.D,{isConsoleOpen:e.isConsoleOpen,toggleConsole:e.toggleConsole}),e.showSaveAsFile&&(0,t.jsx)(w.L,{logger:d,getFileDownloadInfo:e.getFileDownloadInfo}),e.showNewTabButton&&(0,t.jsx)(PopoutButtonDropdownMenuItem,{allowShare:r,...e})]})}),r&&"number"==typeof l&&"number"==typeof c&&(0,t.jsx)(I.T,{codeblockIdx:l,messageId:c,disabled:o,logger:d,showIconOnly:"always"})]}),e.canvasHelpers&&(0,t.jsx)(OpenInCanvasButton,{logger:d,canvasHelpers:e.canvasHelpers}),(0,t.jsx)(g.n,{isCollapsed:e.isCollapsed,isInCanvas:(null===(s=e.canvasHelpers)||void 0===s?void 0:s.isOpenedInCanvas)||!1,setIsCollapsed:e.setIsCollapsed})]})})},x=n(36796),T=n(6560),B=n.n(T),L=n(98077),preview_PreviewOpenHereInsteadConfirmation=e=>{let{canvasHelpers:a,className:n}=e,{t:i}=(0,_.$G)();return(0,t.jsx)(L.Z,{forceDark:!0,className:n,icon:(0,t.jsx)(f.C7,{size:"x-lg"}),text:(0,t.jsx)("p",{children:i("This is already open on a canvas tab.")}),actions:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(b.Z,{as:"button",theme:"outline",isLoading:a.openMutationIsInflight,onClick:a.closeInCanvas,className:B().openHereButton,children:i("Open here instead")})})})},D=n(39781),j=n(36383),P=n(6305),A=n(4895),N=n(58705),R=n(63266),O=n(41156),E=n(64468),U=n(12001),Z=n(67209),H=n(65478),preview_PreviewFrame=e=>{let{content:a,contentType:u,language:g,showSaveAsFile:p,disableShareButton:h,initialIsCollapsed:k,codeblockIdx:f,messageNodeId:_,onSendUserMessage:b,sendUserMessageOverlay:F,showPreviewShareButton:v,canvasHelpers:C,title:S,showNewTabButton:y,logger:M,onRefresh:w,botId:I,codeEditorCanvasBotId:T,canvasDataStoreBehavior:B,debugMode:L,viewer:V}=e,G=(0,s.useFragment)(n(97453),V),K=(0,E.X)(G),{stopTimer:W}=(0,Z.Z)({contentType:u,language:g}),z=(0,A.Z)({onLoad:W}),{log:q,clearLog:$,...J}=(0,R.Z)(void 0!==I&&void 0!==T&&I===T),{getFileDownloadInfo:Q,...Y}=(0,j.Z)(),X=(0,l.F)(),ee=(0,N.Z)(K,a,u,{inline:!0,allowDownloads:!0,debugMode:L,linkInterceptionBehavior:"showConfirmation",interceptCopyEvents:(0,r.P)(X),datastoreBehavior:null!=B?B:"disabled"}),ea=(0,i.useCallback)(()=>{null==w||w(),$()},[w,$]),[en,et]=(0,H.J)(ea),{isConsoleOpen:ei,toggleConsole:es}=(0,D.K)(q),{disableSafeMode:er,shouldShowSafeModeOverlay:el,onSafeModeOverlayDismiss:eo,onSecurityPolicyViolation:ed,safeMode:ec}=(0,U.Z)(en,M),[em,eu]=(0,i.useState)(k),eg=(0,d.Os)(en,M),[ep,eh]=(0,i.useState)(!1),ek=(0,P.R)(),ef=(0,O.B)(M,o.Z.previews);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m.M,{children:[(0,t.jsx)(preview_PreviewHeader,{title:S,showNewTabButton:y,moreOptionsIsOpen:ep,setMoreOptionsIsOpen:eh,canvasHelpers:C,isCollapsed:em,setIsCollapsed:eu,logger:M,refresh:et,messageNodeId:_,isConsoleOpen:ei,toggleConsole:es,content:a,contentType:u,getFileDownloadInfo:Q,showSaveAsFile:p,codeblockIdx:f,showPreviewShareButton:v,disableShareButton:h}),!em&&(null==C?void 0:C.isOpenedInCanvas)&&(0,t.jsx)(preview_PreviewOpenHereInsteadConfirmation,{canvasHelpers:C}),!em&&!(null==C?void 0:C.isOpenedInCanvas)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{ref:ef,iframeUrl:K,inline:!0,iframeClickCaptureIsDisabled:ep,safeMode:ec,onCopyToClipboardDesktopAppOnly:(0,r.P)(X)?ek:void 0,shouldShowSafeModeOverlay:el,onSafeModeOverlayConfirm:er,onSafeModeOverlayDismiss:eo,onReady:ee,onSecurityPolicyViolation:ed,onSendUserMessage:null!=b?b:void 0,sendUserMessageOverlay:F,...z,...J,...Y,...eg},en),(0,t.jsx)(c.Z,{log:q,isOpen:ei,toggleConsole:es})]})]}),null==C?void 0:C.closeModal]})}},66953:function(e,a,n){"use strict";n.d(a,{M:function(){return PreviewFrameContainer},p:function(){return PreviewFrameLoadingPlaceholder}});var t=n(85893),i=n(28456),s=n.n(i),r=n(58775),l=n(51667);function PreviewFrameContainer(e){return(0,t.jsx)("div",{className:s().container,...e})}function PreviewFrameLoadingPlaceholder(){return(0,t.jsx)(PreviewFrameContainer,{children:(0,t.jsx)(l.r,{title:"\xa0",rightChildren:(0,t.jsx)(r.g,{isCollapsed:!0,isDisabled:!0})})})}},58775:function(e,a,n){"use strict";n.d(a,{g:function(){return CollapseButtonBase},n:function(){return CollapseButton}});var t=n(85893),i=n(94370),s=n(67294),r=n(86363),l=n.n(r),o=n(78410);function CollapseButton(e){let{isCollapsed:a,isInCanvas:n,setIsCollapsed:i}=e;(0,s.useEffect)(()=>{n&&i(n)},[n,i]);let r=(0,s.useCallback)(()=>{i(!a)},[a,i]);return(0,t.jsx)(CollapseButtonBase,{isCollapsed:a,onClick:r})}let CollapseButtonBase=e=>{let{isCollapsed:a,onClick:n,isDisabled:s}=e;return(0,t.jsx)(o.Z,{as:"button",theme:"ghost",size:"sm","aria-label":a?"Expand preview":"Collapse preview",showIconOnly:"always",iconLeft:a?(0,t.jsx)(i.ed,{className:l().rotate270}):(0,t.jsx)(i.ed,{className:l().rotate90}),onClick:n,isDisabled:s})}},51667:function(e,a,n){"use strict";n.d(a,{r:function(){return PreviewHeaderBase}});var t=n(85893),i=n(86363),s=n.n(i);let PreviewHeaderBase=e=>(0,t.jsxs)("div",{className:s().header,children:[(0,t.jsx)("div",{className:s().headerLeft,children:(0,t.jsx)("p",{className:s().headerLeftTitle,children:e.title})}),(0,t.jsx)("div",{className:s().headerRight,children:e.rightChildren})]})},91917:function(e,a,n){"use strict";n.d(a,{L:function(){return SaveAsFileDropdownMenuItem}});var t=n(85893),i=n(94370),s=n(67294),r=n(22120),l=n(86363),o=n.n(l),d=n(30038),c=n(77338),m=n(83169);function SaveAsFileDropdownMenuItem(e){let{getFileDownloadInfo:a,logger:n}=e,{t:l}=(0,r.$G)(),u=(0,s.useCallback)(()=>{let e=a();if(!e){console.error("Preview not ready...");return}setTimeout(()=>{!function(e){let a=new Blob([e.fileContents],{type:e.mimeType}),n=URL.createObjectURL(a),t=document.createElement("a");t.href=n,t.download=e.fileNameWithExtension,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(n)}(e),n.logPreviewInteraction(c.Z.save_as_file),n.logAction(d.Z.save_preview)},0)},[a,n]);return(0,t.jsxs)(m.ZP,{onClick:u,shrink:!0,children:[(0,t.jsx)(i.Dj,{size:"md",className:o().icon}),(0,t.jsx)("p",{children:l("Save as file")})]})}},31198:function(e,a,n){"use strict";n.d(a,{T:function(){return ShareButton},v:function(){return ShareButtonBase}});var t=n(85893),i=n(94370),s=n(67172),r=n(67294),l=n(22120),o=n(78410),d=n(8583),c=n(27382),m=n(30038),u=n(77338),g=n(34389),p=n(19673);function ShareButton(e){let{className:a,logger:n,disabled:i,messageId:s,codeblockIdx:l,showIconOnly:o="compact-below",icon:d,theme:c}=e,[g,h]=(0,p.Z)(),k=(0,r.useCallback)(()=>g({messageId:s,codeblockIdx:l,onCompleted:()=>{n.logPreviewInteraction(u.Z.share),n.logAction(m.Z.share_preview)}}),[l,g,n,s]);return(0,t.jsx)(ShareButtonBase,{className:a,shareUrl:k,isDisabled:h||i,showIconOnly:o,icon:d,theme:c})}function ShareButtonBase(e){let{className:a,shareUrl:n,isDisabled:m,showIconOnly:u,icon:p,theme:h}=e,k=(0,d.ZP)(),{t:f}=(0,l.$G)(),_=(0,r.useCallback)(async()=>{let e="function"==typeof n?n():n;await (0,c.vQ)(e)&&k({type:d.pC.success,content:f("Copied link to clipboard.")})},[n,k,f]),b=(0,g.C)(),F=f("Share"),[v,C]=(0,r.useState)(null);return(0,t.jsxs)("div",{className:a,children:[(0,t.jsx)(o.Z,{as:"button",theme:h||"ghost",size:"sm",iconLeft:p||(0,t.jsx)(i.MS,{}),showIconOnly:b?"always":u,"aria-label":F,isDisabled:m,onClick:_,ref:C,children:F}),(0,t.jsx)(s.u,{anchorRef:v,label:F})]})}},97057:function(e,a,n){"use strict";n.d(a,{X:function(){return PreviewDropdownButton}});var t=n(85893),i=n(22120),s=n(85832),r=n(45193);function PreviewDropdownButton(e){let{menuBody:a,isOpen:n,setIsOpen:l}=e,{t:o}=(0,i.$G)(),d=o("More options");return(0,t.jsx)(r.Z,{size:"sm",tooltipLabel:d,setMenuOpen:l,menuOpen:n,alignment:"left",menuBody:(0,t.jsx)(s.Z,{children:a})})}},86880:function(e,a,n){"use strict";n.d(a,{Z:function(){return RefreshDropdownMenuItem}});var t=n(85893),i=n(94370),s=n(22120),r=n(12251),l=n(86363),o=n.n(l),d=n(83169);function RefreshDropdownMenuItem(e){let{onClick:a}=e,{t:n}=(0,s.$G)();return(0,t.jsxs)(d.ZP,{onClick:a,shrink:!0,children:[(0,t.jsx)(i.tr,{size:"md",className:(0,r.$)(o().icon)}),(0,t.jsx)("p",{children:n("Refresh")})]})}},39170:function(e,a,n){"use strict";n.d(a,{D:function(){return ToggleConsoleDropdownMenuItem}});var t=n(85893),i=n(94370),s=n(22120),r=n(12251),l=n(86363),o=n.n(l),d=n(83169);function ToggleConsoleDropdownMenuItem(e){let{isConsoleOpen:a,toggleConsole:n}=e,{t:l}=(0,s.$G)();return(0,t.jsxs)(d.ZP,{onClick:n,shrink:!0,children:[(0,t.jsx)(i.tq,{size:"md",className:(0,r.$)(o().icon)}),(0,t.jsx)("p",{children:l(a?"Hide console":"Show console")})]})}},19673:function(e,a,n){"use strict";var t=n(67294),i=n(22120),s=n(22578),r=n(8583);a.Z=()=>{let[e,a]=(0,s.useMutation)(n(64773)),{t:l}=(0,i.$G)(),o=(0,r.ZP)(),d=(0,t.useCallback)(async a=>{let{messageId:n,codeblockIdx:t,onCompleted:i}=a,s=new Promise((a,s)=>{e({variables:{messageId:n,index:t},onCompleted:e=>{var n;let t=null===(n=e.sharePreviewFromMessage.sharedPreview)||void 0===n?void 0:n.shareUrl;if(!t){s(),o({type:r.pC.warning,content:l("Something went wrong.")});return}a(t),null==i||i()}})});return s},[o,e,l]);return[d,a]}},60919:function(e,a,n){"use strict";n.d(a,{T:function(){return logToActionLogUsingPreviewInteraction}});var t=n(9729),i=n(40258);let logToActionLogUsingPreviewInteraction=e=>{let a=e.preview_language;(0,t.Z)("poe/action_log",{...e,action_metadata:{preview_language:a,preview_type:Object.hasOwn(e,"codeblock_index")?i.Z.codeblock:i.Z.raw_html}})};a.Z=e=>(0,t.Z)("poe/poe_preview_interaction",e)},86023:function(e,a,n){"use strict";n.d(a,{E:function(){return openPreviewInNewTab},d:function(){return useNewTabPreviewInfo}});var t=n(11163),i=n(67294),s=n(4694);let r=function(){try{return new BroadcastChannel("preview_new_tab_communication")}catch(e){return console.error("Failed to create broadcast channel",e),null}}(),l=new Map,o=new Map,d=new Map;function openPreviewInNewTab(e){let a=Math.floor(1e3*Math.random())+"";l.set(a,e),window.open("/preview/new_tab?local=".concat(a),"_blank")}function useNewTabPreviewInfo(){let[e,a]=(0,i.useState)("loading"),{query:n}=(0,t.useRouter)(),l=n.local;if(!l)throw new s.NotFound;return(0,i.useEffect)(()=>{let e=d.get(l);if(e){a(e);return}let n=setTimeout(()=>{a("does_not_exist")},3e3);if(o.set(l,e=>{clearTimeout(n),a(e)}),!r)throw Error("Broadcast channel should be defined in browser environment");return r.postMessage({type:"ready",fromTabId:l}),()=>{o.delete(l),clearTimeout(n)}},[l]),e}r&&(r.onmessage=e=>{if("ready"===e.data.type){let a=e.data,n=l.get(a.fromTabId);if(!n)return;let t={type:"preview_data",previewData:n,forTabId:a.fromTabId};r.postMessage(t)}else if("preview_data"===e.data.type){var a;let n=e.data;null===(a=o.get(n.forTabId))||void 0===a||a(e.data.previewData),d.set(n.forTabId,n.previewData)}})},39781:function(e,a,n){"use strict";n.d(a,{K:function(){return useConsoleToggle}});var t=n(67294);let useConsoleToggle=function(e){let{autoOpenOnError:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{autoOpenOnError:!0},[n,i]=(0,t.useState)(void 0),s=void 0===n?e.some(e=>{let{type:a}=e;return"error"===a})&&a:n,r=(0,t.useCallback)(()=>{i(!s)},[s]);return{isConsoleOpen:s,toggleConsole:r}}},36383:function(e,a,n){"use strict";var t=n(67294);a.Z=()=>{let e=(0,t.useRef)(null),a=(0,t.useCallback)(a=>{let{fileContents:n,fileExtension:t}=a;e.current={fileContents:n,fileNameWithExtension:"poe-preview."+t,mimeType:"text/html"}},[]),n=(0,t.useCallback)(()=>e.current,[]);return{onFileContentsForDownload:a,getFileDownloadInfo:n}}},4895:function(e,a,n){"use strict";var t=n(67294);a.Z=e=>{let{onLoad:a}=e,[n,i]=(0,t.useState)(void 0),s=(0,t.useCallback)(e=>{let{height:a}=e;i(a)},[]),r=(0,t.useCallback)(e=>{let{height:n}=e;null==a||a(),s({height:n})},[s,a]),l=(0,t.useMemo)(()=>n?{height:n}:void 0,[n]);return{style:l,onLoaded:r,onResize:s}}},63266:function(e,a,n){"use strict";var t=n(67294),i=n(73331);a.Z=e=>{let[a,n]=(0,t.useState)([]),s=(0,t.useCallback)(()=>{n([])},[]),r=(0,t.useCallback)(e=>{let{args:a}=e;n(e=>[...e,{type:"info",message:a.join(" ")}])},[]),l=(0,t.useCallback)(e=>{let{args:a}=e;n(e=>[...e,{type:"warning",message:a.join(" ")}])},[]),o=(0,t.useCallback)(a=>{let{args:t}=a,s=t.join(" ");if(e){let e=Error(s);e.name="CanvasIframeConsoleError",(0,i.H)(e)}n(e=>[...e,{type:"error",message:s}])},[e]),d=(0,t.useCallback)(a=>{let{message:t}=a;if(e){let e=Error(t);e.name="CanvasIframeUncaughtError",(0,i.H)(e)}n(e=>[...e,{type:"error",message:t}])},[e]);return{log:a,clearLog:s,onLog:r,onWarn:l,onError:o,onUncaughtError:d}}},67209:function(e,a,n){"use strict";var t=n(67294),i=n(58143),s=n(9729);a.Z=e=>{let{language:a,contentType:n}=e,r=(0,t.useRef)(0),l=(0,i.E)();(0,t.useEffect)(()=>{r.current=new Date().getTime()},[]);let o=(0,t.useCallback)(()=>{let e=new Date().getTime()-r.current;(0,s.Z)("poe/preview_speed",{page_type:l,preview_language:a,preview_content_type:n,timing:e})},[a,n,l]);return{stopTimer:o}}},65478:function(e,a,n){"use strict";n.d(a,{J:function(){return useRefresh}});var t=n(67294);let useRefresh=e=>{let[a,n]=(0,t.useState)(0),i=(0,t.useCallback)(()=>{e(),n(e=>e+1)},[e]);return[a,i]}},52344:function(e,a,n){"use strict";n.d(a,{Z:function(){return share_ShareIcon}});var t,i,s,r=n(85893),l=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var share=function(e){return l.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=l.createElement("path",{d:"M7.5 8c.24 0 .47-.08.66-.25L11 5.23v9.52c0 .55.45 1 1 1s1-.45 1-1V5.23l2.84 2.52c.19.17.42.25.66.25.28 0 .55-.11.75-.34a.998.998 0 0 0-.08-1.41l-4.5-4c-.04-.03-.08-.04-.12-.07-.05-.03-.08-.07-.13-.09-.02-.01-.04-.01-.06-.02-.05-.02-.11-.03-.17-.04-.05-.01-.1-.03-.16-.03-.01.01-.02 0-.03 0-.01 0-.02.01-.03.01-.05 0-.1.02-.16.03-.06.01-.11.02-.17.04-.02.01-.04.01-.06.02-.05.02-.09.06-.13.09-.04.03-.09.04-.12.07l-4.5 4c-.41.37-.45 1-.08 1.41.2.22.47.33.75.33Z"})),i||(i=l.createElement("path",{d:"M18.5 9H16c-.55 0-1 .45-1 1s.45 1 1 1h1.5v8h-11v-8H8c.55 0 1-.45 1-1s-.45-1-1-1H5.5c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h13c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1Z"})))};function shareAndroid_extends(){return(shareAndroid_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var shareAndroid=function(e){return l.createElement("svg",shareAndroid_extends({viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.25 5.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5ZM15.167 7a4.083 4.083 0 1 1 1.33 3.022l-4.947 2.963c.17.666.17 1.364 0 2.03l4.958 2.975a4.083 4.083 0 1 1-1.201 1.995l-4.959-2.975a4.083 4.083 0 1 1 0-6.02l4.959-2.975A4.08 4.08 0 0 1 15.167 7Zm-7.584 5.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Zm11.667 7a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Z"})))},o=n(23595),d=n(64516),share_ShareIcon=e=>{let{className:a}=e,n=(0,d.F)(),t=(0,o.I6)(n)?shareAndroid:share;return(0,r.jsx)(t,{className:a})}},85972:function(e,a,n){"use strict";var t=n(85893),i=n(41664),s=n.n(i),r=n(67294),l=n(22120),o=n(22578),d=n(38033),c=n(35542),m=n(11803),u=n(8583),g=n(6537),p=n(12251),h=n(6940),k=n(41730),f=n.n(k),_=n(77434);a.Z=e=>{let{poeUser:a,showFollowButton:i}=e,k=(0,o.useFragment)(n(30679),a),{t:b}=(0,l.$G)(),{id:F,uid:v,handle:C,fullName:S,viewerIsFollowing:y,isDeleted:M}=k,{isInReferencedMessage:w}=(0,d.Y)();(0,h.Zo)(v);let I=(0,u.ZP)(),[x]=(0,o.useMutation)(n(15708)),T=(0,r.useCallback)(()=>{x({variables:{targetUid:v,entryType:_.Z.chat_page},optimisticUpdater:e=>{var a;null===(a=e.get(F))||void 0===a||a.setValue(!y,"viewerIsFollowing")},onCompleted:()=>{I({type:u.pC.success,content:b("You followed {{fullName}}",{fullName:S})})},onError:()=>{I({type:u.pC.error,content:b("Unable to follow this user")})}})},[x,v,F,y,I,b,S]),B=i&&!y&&!M&&(0,t.jsxs)(t.Fragment,{children:["",(0,t.jsx)(c.j,{onClick:T,className:f().followButton,children:b("Follow")})]}),L=(0,t.jsxs)("div",{className:(0,p.$)(f().userInfoContainer,w&&f().smallSemiboldText),children:[(0,t.jsx)(g.Z,{user:k,size:"xx-sm"}),S,(0,t.jsx)(m.Z,{node:k})]});return(0,t.jsxs)("div",{className:f().container,children:[!w&&C?(0,t.jsx)(s(),{href:"/".concat(C),children:L}):L,B]})}},76861:function(e,a,n){"use strict";n.d(a,{L:function(){return useCanvasInteractionLogger}});var t,i,s=n(67294),r=n(22578),l=n(58143);(t=i||(i={})).message_codeblock="message_codeblock",t.canvas_bot="canvas_bot";var o=i,d=n(29664),c=n(9729);function useCanvasInteractionLogger(e,a){let t=(0,r.useFragment)(n(66646),e),i=(0,l.E)(),m=(0,r.useFragment)(n(78573),a),u=(0,s.useMemo)(()=>{let e=String(t.chatId),a=e.startsWith("OPTIMISTIC_CHAT_"),n={chat_id:a?null:t.chatId,canvas_language:m.previewContentObject.language,canvas_content_type:m.previewContentObject.contentType,page_type:i||d.Z.unknown,canvas_tracking_id:m.id,entry_metadata:a?{optimistic_chat_id:e}:{}};if(m.messageId){var s;return{...n,canvas_source_type:o.message_codeblock,codeblock_index:null!==(s=m.codeblockIndex)&&void 0!==s?s:0,message_id:m.messageId}}return m.botId?{...n,canvas_source_type:o.canvas_bot,bot_id:m.botId}:null},[m,i,t.chatId]),g=(0,s.useRef)(u);g.current=u;let p=(0,s.useMemo)(()=>({logPreviewInteraction:e=>{var a;if(!g.current){console.error("Something went wrong. No interaction data found.");return}a=g.current,(0,c.Z)("poe/poe_canvas_interaction",{...a,entry_type:e})},logAction:e=>{(0,c.Z)("poe/action_log",{...g.current,action_type:e})},getData:()=>{var e;return null!==(e=g.current)&&void 0!==e?e:{}}}),[g]);return p}},11238:function(e,a,n){"use strict";n.d(a,{MF:function(){return getDateStringForMessageWithCache},x3:function(){return getSameDayMessageTupleGroups}});let getDateStringForMessageWithCache=(e,a,n)=>{let t=n.get(e.messageId);return t||(a.setTime(e.creationTime/1e3),t=a.toDateString(),n.set(e.messageId,t)),t},splitTupleByDate=(e,a,n)=>{if(1===e.length)return[e];let t=new Map;for(let i of e){let e=getDateStringForMessageWithCache(i,a,n);t.has(e)||t.set(e,[]),t.get(e).push(i)}if(1===t.size)return[e];let i=[];return Array.from(t.values()).forEach(e=>{if(e.length>0){let a=[e[0]];for(let n=1;n<e.length;n++)a.push(e[n]);i.push(a)}}),i},groupTuplesByDay=(e,a,n)=>{if(0===e.length)return[];let t=new Map;for(let i of e){let e=getDateStringForMessageWithCache(i[0],a,n);t.has(e)||t.set(e,[]),t.get(e).push(i)}return Array.from(t.values())},getSameDayMessageTupleGroups=(e,a,n)=>{if(0===e.length)return[];let t=[];for(let i of e){let e=splitTupleByDate(i,a,n);t.push(...e)}return groupTuplesByDay(t,a,n)}},95358:function(e,a,n){"use strict";n.d(a,{K:function(){return t},v:function(){return i}});let t="p-lat",i=30},91522:function(e,a,n){"use strict";function safeEncodeURIComponent(e){try{return encodeURIComponent(e)}catch(a){return e}}n.d(a,{V:function(){return getPublishAsNewUrlForTestChat},t:function(){return getPublishAsNewUrlForCodeblock}});let getPublishAsNewUrlForCodeblock=(e,a)=>"/create_bot?type=script&script_bot_creation_type=manual&script_codeblock_message_id=".concat(safeEncodeURIComponent(e.toString()),"&script_codeblock_idx=").concat(safeEncodeURIComponent(a.toString())),getPublishAsNewUrlForTestChat=(e,a)=>"/create_bot?type=script&script_bot_creation_type=manual&script_bot_id=".concat(safeEncodeURIComponent(e.toString()),"&script_bot_creation_source_chat_id=").concat(safeEncodeURIComponent(a.toString()))},18815:function(e,a,n){"use strict";n.d(a,{i:function(){return i}});var t=n(82168);let i={[t.Z.like]:"\uD83D\uDC4D",[t.Z.dislike]:"\uD83D\uDC4E",[t.Z.heart]:"",[t.Z.laughing]:"\uD83D\uDE02",[t.Z.surprised]:"\uD83D\uDE2E",[t.Z.sad]:"\uD83D\uDE22"}},48901:function(e,a,n){"use strict";n.d(a,{n:function(){return getMessageElementId}});let getMessageElementId=e=>"message-".concat(e)},96094:function(e,a,n){"use strict";n.d(a,{T:function(){return useShareMessages}});var t,i,s=n(85893),r=n(41143),l=n.n(r),o=n(67294),d=n(22120),c=n(22578),m=n(8583),u=n(27382),g=n(18462),p=n(38357);(t=i||(i={})).success="success",t.success_user_reached_message_limit_for_share_all="success_user_reached_message_limit_for_share_all",t.cannot_include_hard_deleted_bot_messages="cannot_include_hard_deleted_bot_messages";var h=i;let useShareMessages=e=>{let{chatId:a,selectedIds:t,isShareAllRecentMessages:i,setIsShareMessagesInProgress:r=()=>{}}=e,{setSelectionMode:k,clearSelection:f}=(0,g.ZP)(),_=(0,m.ZP)(),{t:b}=(0,d.$G)(),[F,v]=(0,c.useMutation)(n(33866));(0,o.useEffect)(()=>{r(v)},[v,r]);let C=(0,o.useCallback)(async()=>{if(a||l()(!1,"chatId is required. chatId would be undefined if we somehow got here in an optimistic chat but that should be blocked"),t&&i?l()(!1,"selectedIds and isShareAllRecentMessages cannot both be true"):t||i||l()(!1,"selectedIds and isShareAllRecentMessages cannot both be false"),t&&0===t.length){_({content:(0,s.jsx)("p",{children:b("You must select at least one message to share.")}),type:m.pC.error});return}let e="",n=new Promise((n,s)=>{F({variables:{chatId:a,messageIds:t,isShareAllRecentMessages:i},onCompleted:a=>{var t,i,r,l;((null==a?void 0:null===(t=a.messagesShare)||void 0===t?void 0:t.status)==h.success||(null==a?void 0:null===(i=a.messagesShare)||void 0===i?void 0:i.status)==h.success_user_reached_message_limit_for_share_all||a.messagesShare.shareCode)&&n((0,p.qm)("/s/".concat(a.messagesShare.shareCode))),s(null==a?void 0:null===(r=a.messagesShare)||void 0===r?void 0:r.status),e=null==a?void 0:null===(l=a.messagesShare)||void 0===l?void 0:l.statusMessage},onError:a=>{s(a),e=b("There was an error generating the share URL.")}})});t&&(k(g.oW.none),f()),await (0,u.n9)(n,!0,()=>_({content:(0,s.jsx)("p",{children:e||b("There was an error copying the share URL to your clipboard. Please try again later.")}),type:m.pC.error}))&&_({content:(0,s.jsx)("p",{children:e||b("Copied link to clipboard.")}),type:m.pC.success})},[k,f,t,F,i,_,b,a]);return C}},86927:function(e,a){"use strict";var n;(n||(n={})).compare="compare",a.Z=n},82168:function(e,a){"use strict";var n,t;(t=n||(n={})).like="like",t.dislike="dislike",t.heart="heart",t.laughing="laughing",t.surprised="surprised",t.sad="sad",a.Z=n},52612:function(e,a){"use strict";var n,t;(t=n||(n={})).no_limit="no_limit",t.soft_limit="soft_limit",t.hard_limit="hard_limit",t.subscriber_access="subscriber_access",a.Z=n},77434:function(e,a){"use strict";var n,t;(t=n||(n={})).chat_page="chat_page",t.user_profile_page="user_profile_page",t.follower_list="follower_list",t.following_list="following_list",t.NUX_find_people_page="NUX_find_people_page",t.profile_find_people_page="profile_find_people_page",a.Z=n},84638:function(e,a){"use strict";var n,t;(t=n||(n={})).html="html",t.react="react",t.svg="svg",a.Z=n},65604:function(e,a){"use strict";var n,t;(t=n||(n={})).html="html",t.javascript="javascript",t.typescript="typescript",t.jsx="jsx",t.tsx="tsx",t.svg="svg",a.Z=n},40258:function(e,a){"use strict";var n,t;(t=n||(n={})).codeblock="codeblock",t.raw_html="raw_html",a.Z=n},66135:function(e){e.exports={wrapper:"AbsolutelyPositionedLoadingIndicator_wrapper__ZcNVT"}},24185:function(e){e.exports={banner:"AppPublishedBanner_banner__ltpxY",underline:"AppPublishedBanner_underline__UzsUx"}},44459:function(e){e.exports={"medium-below":"only screen and (max-width : 999px)",hideMediumBelow:"CanvasTab_hideMediumBelow__wj31D",container:"CanvasTab_container__cwK2N",iframe:"CanvasTab_iframe__KHPEV",hideIFrame:"CanvasTab_hideIFrame__f2ejd",banner:"CanvasTab_banner__hXGc_"}},37457:function(e){e.exports={"medium-below":"only screen and (max-width : 999px)",fab:"ShowCanvasFAB_fab__fW_xQ"}},42550:function(e){e.exports={hideMediumBelow:"CanvasHeader_hideMediumBelow__aBL_P",showMediumBelow:"CanvasHeader_showMediumBelow__jSTU9",hideCompactBelow:"CanvasHeader_hideCompactBelow__gpfDB",title:"CanvasHeader_title__8955n",sidebar:"CanvasHeader_sidebar__pYQlu",container:"CanvasHeader_container__bsC1J",iframe:"CanvasHeader_iframe__2pXYQ",header:"CanvasHeader_header__m3nlt",headerGroup:"CanvasHeader_headerGroup__VJZle",headerGroupRight:"CanvasHeader_headerGroupRight___XUAa"}},74192:function(e){e.exports={"compact-below":"only screen and (max-width : 683px)",hideCompactBelow:"ExpandCanvasButton_hideCompactBelow__FfUS1"}},45570:function(e){e.exports={"compact-below":"only screen and (max-width : 683px)","medium-below":"only screen and (max-width : 999px)",sidebarMenuButton:"InCanvasToggleMenuButton_sidebarMenuButton__5kR3l",overlayMenuButton:"InCanvasToggleMenuButton_overlayMenuButton__ZlA9X"}},84669:function(e){e.exports={container:"CanvasLayout_container__jfgF_",body:"CanvasLayout_body__DRdsM"}},66743:function(e){e.exports={"compact-below":"only screen and (max-width : 683px)","medium-below":"only screen and (max-width : 999px)",resizeHandleContainer:"CanvasSidebarLayout_resizeHandleContainer__Uyxbc","split-prioritize-canvas":"CanvasSidebarLayout_split-prioritize-canvas__odWxW","split-prioritize-chat":"CanvasSidebarLayout_split-prioritize-chat__exl_F",resizeHandle:"CanvasSidebarLayout_resizeHandle__hj9xO",resizeHandleInner:"CanvasSidebarLayout_resizeHandleInner__MnxkN",container:"CanvasSidebarLayout_container___UeKJ","canvas-full-width":"CanvasSidebarLayout_canvas-full-width__KN_uA","canvas-column":"CanvasSidebarLayout_canvas-column__nq0Pd","chat-column":"CanvasSidebarLayout_chat-column__h7mVE","canvas-column-wrapper":"CanvasSidebarLayout_canvas-column-wrapper__fOy34",disableTransition:"CanvasSidebarLayout_disableTransition__kWZaK"}},45044:function(e){e.exports={isResizing:"useResizeHandle_isResizing__LabyR"}},78714:function(e){e.exports={infiniteScrollContainer:"CanvasTabSelector_infiniteScrollContainer__o7lPf"}},14380:function(e){e.exports={container:"CanvasTabSelectorItem_container__6TRSl",primaryButton:"CanvasTabSelectorItem_primaryButton___CDXC",primaryButtonText:"CanvasTabSelectorItem_primaryButtonText__UcB57",closeButton:"CanvasTabSelectorItem_closeButton__QqRyN",divider:"CanvasTabSelectorItem_divider__2ePvL",activeIndicator:"CanvasTabSelectorItem_activeIndicator__PO60t"}},74804:function(e){e.exports={messageSubline:"ChatMessageSubline_messageSubline__NBdq4",messageSublineText:"ChatMessageSubline_messageSublineText__V1slg",alignLeft:"ChatMessageSubline_alignLeft__UCFra",alignRight:"ChatMessageSubline_alignRight__hcwE_"}},41384:function(e){e.exports={noWrap:"NavButton_noWrap__GqY7k"}},95474:function(e){e.exports={root:"ButtonGroup_root__jthB1"}},24113:function(e){e.exports={text:"checkbox_text__PtYHd",inputImage:"checkbox_inputImage__LWAWc",isChecked:"checkbox_isChecked__Bl3pv",isDisabled:"checkbox_isDisabled__bOKCs"}},91613:function(e){e.exports={label:"checkbox-and-radio_label__4Tf7Q",input:"checkbox-and-radio_input__X_Vcu",isDisabled:"checkbox-and-radio_isDisabled__jN6IM",inputImage:"checkbox-and-radio_inputImage__ennkz"}},67872:function(e){e.exports={botDownBanner:"BotDownBanner_botDownBanner__gn4_i"}},25917:function(e){e.exports={title:"BotHeader_title__cURS_",boldTitle:"BotHeader_boldTitle__KgfYh",textContainer:"BotHeader_textContainer__kVf_I",tags:"BotHeader_tags___EL30",tag:"BotHeader_tag__SXTr9",subText:"BotHeader_subText__0Nkxq"}},9525:function(e){e.exports={wrapper:"BotMessageHeader_wrapper__gvvdw",clickableHeader:"BotMessageHeader_clickableHeader__PX8o7",smallSemiboldText:"BotMessageHeader_smallSemiboldText__Nr00p"}},72772:function(e){e.exports={privateMessageContainer:"PrivateMessageIndicator_privateMessageContainer__LektE",privateMessageText:"PrivateMessageIndicator_privateMessageText__BosYz",shieldContainer:"PrivateMessageIndicator_shieldContainer__BiUve",shieldIcon:"PrivateMessageIndicator_shieldIcon__b_J0B",shieldIconHasDescription:"PrivateMessageIndicator_shieldIconHasDescription__rsFdu",privateMessageLink:"PrivateMessageIndicator_privateMessageLink__CPJeg"}},78954:function(e){e.exports={"compact-below":"only screen and (max-width : 683px)","medium-below":"only screen and (max-width : 999px)",section:"ChatFooterHoveringButtonSection_section__6i4Bc",left:"ChatFooterHoveringButtonSection_left__Lt5yM",center:"ChatFooterHoveringButtonSection_center__KuhMd",right:"ChatFooterHoveringButtonSection_right__Qbc1p"}},19424:function(e){e.exports={boldTitle:"ChatHeader_boldTitle__TK9mB",membersImage:"ChatHeader_membersImage__RYoCz",clickable:"ChatHeader_clickable__7fBYF",subText:"ChatHeader_subText__JcFh3",overflow:"ChatHeader_overflow__aVkfq",textOverflow:"ChatHeader_textOverflow__8Kqkz",subTextContainer:"ChatHeader_subTextContainer___Myba"}},46297:function(e){e.exports={overflowHiddenWrapper:"ChatMessagesScrollWrapper_overflowHiddenWrapper__sCxq9",scrollableContainerWrapper:"ChatMessagesScrollWrapper_scrollableContainerWrapper__x8H60",startAtTop:"ChatMessagesScrollWrapper_startAtTop__Nwi73"}},87809:function(e){e.exports={emptyView:"ChatMessagesView_emptyView__HqDf7",infiniteScroll:"ChatMessagesView_infiniteScroll__vk3VX",messageTuple:"ChatMessagesView_messageTuple__Jh5lQ",tupleGroupContainer:"ChatMessagesView_tupleGroupContainer__LSCLm",largerGap:"ChatMessagesView_largerGap__hMKSc",loaderWrapper:"ChatMessagesView_loaderWrapper__XPhVQ",errorState:"ChatMessagesView_errorState__xXPE4",inviteSection:"ChatMessagesView_inviteSection__O3uzM"}},10484:function(e){e.exports={offlineBanner:"ChatOfflineBanner_offlineBanner__KOexN"}},97665:function(e){e.exports={container:"ChatPageDeleteFooter_container__wvCLk"}},79767:function(e){e.exports={selectedCountText:"ChatPageFooterSelectedCount_selectedCountText__ajSLG"}},70554:function(e){e.exports={flexGrow:"ChatPageMain_flexGrow__UnM8q",dragDropTarget:"ChatPageMain_dragDropTarget__ToX_G"}},80378:function(e){e.exports={footer:"ChatPageMainFooter_footer__HBGcX",footerWrapper:"ChatPageMainFooter_footerWrapper__RH5Dq",footerInner:"ChatPageMainFooter_footerInner__BEj26",botAccessExplanation:"ChatPageMainFooter_botAccessExplanation__xCIbg",hide:"ChatPageMainFooter_hide__jkzYS"}},48965:function(e){e.exports={container:"ChatPageNavActionBar_container__PVN0U"}},22560:function(e){e.exports={endSelectionButton:"ChatPageNavbar_endSelectionButton__V5yoM",shareButton:"ChatPageNavbar_shareButton__QuaBY",noTextShareButton:"ChatPageNavbar_noTextShareButton__Y7z4N",rightNavItemWrapper:"ChatPageNavbar_rightNavItemWrapper__hlLkg",signUpButton:"ChatPageNavbar_signUpButton__xp_SZ",shareTextWrapper:"ChatPageNavbar_shareTextWrapper__yHoeV",shareText:"ChatPageNavbar_shareText__Gm0Zc",closeIcon:"ChatPageNavbar_closeIcon__eqA3l"}},87095:function(e){e.exports={linkIcon:"ChatPageShareFooter_linkIcon__TMpqm",button:"ChatPageShareFooter_button__MkAyd",buttonWrapper:"ChatPageShareFooter_buttonWrapper__HSrZL",container:"ChatPageShareFooter_container__EKERG"}},29976:function(e){e.exports={privateMessageContainer:"ChatPrivacyIndicator_privateMessageContainer__khF32",privateMessageText:"ChatPrivacyIndicator_privateMessageText__wp_vg",shieldContainer:"ChatPrivacyIndicator_shieldContainer__8b4lV",shieldIcon:"ChatPrivacyIndicator_shieldIcon__4JelG",shieldIconHasDescription:"ChatPrivacyIndicator_shieldIconHasDescription__Dfl_a",privateMessageLink:"ChatPrivacyIndicator_privateMessageLink__w6GYQ"}},59108:function(e){e.exports={publishScriptBotBanner:"ChatPublishScriptBotBanner_publishScriptBotBanner__yUPBO",actionButtons:"ChatPublishScriptBotBanner_actionButtons__8pL57 force-dark"}},44223:function(e){e.exports={container:"ContinueLastChat_container__ZS_3r",left:"ContinueLastChat_left___0Rco",title:"ContinueLastChat_title___Zftf",oldButton:"ContinueLastChat_oldButton__Lkuld",chevronButton:"ContinueLastChat_chevronButton__XzbBI"}},41480:function(e){e.exports={divider:"UnreadMessagesDivider_divider__D_Ez4",line:"UnreadMessagesDivider_line__6YaXw",text:"UnreadMessagesDivider_text__Hm1q2"}},47282:function(e){e.exports={icon:"PublishButtonGroup_icon__fpSZr",secondaryButton:"PublishButtonGroup_secondaryButton__2HTSd",dropdownMenuItem:"PublishButtonGroup_dropdownMenuItem__V5kOv"}},33952:function(e){e.exports={footer:"ChatMessageInputFooter_footer__v4dFF",warningBannerHolder:"ChatMessageInputFooter_warningBannerHolder__ue9r3",invalidMentionedBotWarning:"ChatMessageInputFooter_invalidMentionedBotWarning__h0xGh"}},63318:function(e){e.exports={userHintContainer:"ChatMessageInputUserHintButton_userHintContainer__TnOz4",userHintTypeText:"ChatMessageInputUserHintButton_userHintTypeText__NC1m9",userHintSeeTipsText:"ChatMessageInputUserHintButton_userHintSeeTipsText__m7aUd",chevronIcon:"ChatMessageInputUserHintButton_chevronIcon__L3ilu"}},17421:function(e){e.exports={container:"InputFooterReferencedMessageHeader_container__EkEXx",referencedMessage:"InputFooterReferencedMessageHeader_referencedMessage__L93Se",closeButton:"InputFooterReferencedMessageHeader_closeButton__1oVt_"}},79740:function(e){e.exports={suggestedRepliesPlaceholder:"ChatLastMessageArea_suggestedRepliesPlaceholder__tiEvU",actionBarPlaceholder:"ChatLastMessageArea_actionBarPlaceholder__DpYPO",actionBarAndFollowUpActionsPlaceholder:"ChatLastMessageArea_actionBarAndFollowUpActionsPlaceholder__VwsiG"}},11704:function(e){e.exports={chatMessage:"ChatMessage_chatMessage__xkgHx",messageOverflowButton:"ChatMessage_messageOverflowButton__8PaKN",alwaysVisibleMessageOverflowButton:"ChatMessage_alwaysVisibleMessageOverflowButton___SsuX",inBubbleButton:"ChatMessage_inBubbleButton__lvXY_",messageRow:"ChatMessage_messageRow__DHlnq",messageWrapper:"ChatMessage_messageWrapper__4Ugd6",messageSubline:"ChatMessage_messageSubline__qNToA",messageSublineRightSideMessage:"ChatMessage_messageSublineRightSideMessage__uRllC",messageSublineLeftSideMessage:"ChatMessage_messageSublineLeftSideMessage__2aPH9",rightSideMessageWrapper:"ChatMessage_rightSideMessageWrapper__r0roB",rightSideIdAnnotation:"ChatMessage_rightSideIdAnnotation__JBFma",commandMessageWrapper:"ChatMessage_commandMessageWrapper__zI76e",checkbox:"ChatMessage_checkbox__j0ClW",chatWelcomeViewWrapper:"ChatMessage_chatWelcomeViewWrapper__SWPtL",decreasedTopMargin:"ChatMessage_decreasedTopMargin__AsRz0"}},49091:function(e){e.exports={container:"ChatMessageContextMenu_container__zVl2O"}},15844:function(e){e.exports={"compact-below":"only screen and (max-width : 683px)",hiddenOnMobile:"ChatMessageDate_hiddenOnMobile__wnFxf",hidden:"ChatMessageDate_hidden__vizVe"}},10582:function(e){e.exports={overflowButton:"ChatMessageOverflowButton_overflowButton__VGVM_",overflowButtonWrapper:"ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"}},25483:function(e){e.exports={header:"ChatPageConversationStarters_header__h_x2j",conversationStarters:"ChatPageConversationStarters_conversationStarters__m5sHy",container:"ChatPageConversationStarters_container___D920"}},22782:function(e){e.exports={suggestedMessage:"ChatPageSuggestedMessage_suggestedMessage__NC0N9",bot:"ChatPageSuggestedMessage_bot__kjpfw"}},87935:function(e){e.exports={button:"UndoContextClearButton_button__Z0B1a"}},16527:function(e){e.exports={actionBar:"ChatMessageActionBar_actionBar__gyeEs",reverse:"ChatMessageActionBar_reverse__Nl_6_"}},78295:function(e){e.exports={container:"ChatMessageFollowupActions_container__0Mrhg"}},57887:function(e){e.exports={imageAttachmentsContainer:"FollowupActionImageSources_imageAttachmentsContainer__oENKO",imageAttachment:"FollowupActionImageSources_imageAttachment__e2vzz",botHandleContainer:"FollowupActionImageSources_botHandleContainer__jgD14",botHandle:"FollowupActionImageSources_botHandle__ZALv9",botPreviewContainer:"FollowupActionImageSources_botPreviewContainer__W0qs2"}},36249:function(e){e.exports={container:"ResendRemixFollowupButton_container__J48ou",promptContainer:"ResendRemixFollowupButton_promptContainer__8vM_4",followupButton:"ResendRemixFollowupButton_followupButton__FF081",followupButtonWithTitle:"ResendRemixFollowupButton_followupButtonWithTitle__Ev__0",left:"ResendRemixFollowupButton_left__dS_FL",right:"ResendRemixFollowupButton_right__du4Gd",rightRounded:"ResendRemixFollowupButton_rightRounded__W3o65",prompt:"ResendRemixFollowupButton_prompt__nje8B",truncatedPrompt:"ResendRemixFollowupButton_truncatedPrompt__Pr6qw",icon:"ResendRemixFollowupButton_icon__gPKAa",followUpActionIcon:"ResendRemixFollowupButton_followUpActionIcon__1tLQl",imageAttachment:"ResendRemixFollowupButton_imageAttachment__CAjOJ",attachmentsContainer:"ResendRemixFollowupButton_attachmentsContainer__8TUef",recommendedBotButton:"ResendRemixFollowupButton_recommendedBotButton__qKm24",botPromptContainer:"ResendRemixFollowupButton_botPromptContainer__jvtsq",mentionedBot:"ResendRemixFollowupButton_mentionedBot__TxQH_",specialSyntaxSection:"ResendRemixFollowupButton_specialSyntaxSection__nX_nw",parametersSection:"ResendRemixFollowupButton_parametersSection__zuLoS",spacingRight:"ResendRemixFollowupButton_spacingRight__4OjLb",botAndPromptContainer:"ResendRemixFollowupButton_botAndPromptContainer__2Ywgf"}},75789:function(e){e.exports={spinnerCircle:"AnimatedStopIcon_spinnerCircle__nkJKC",rotate:"AnimatedStopIcon_rotate__9Oq9M"}},51466:function(e){e.exports={"compact-below":"only screen and (max-width : 683px)",inviteSectionContainer:"ChatInviteSection_inviteSectionContainer__dKCIt",inviteSectionButton:"ChatInviteSection_inviteSectionButton__qqcUG"}},25012:function(e){e.exports={scrollSectionOverflow:"ChatPageMainColumn_scrollSectionOverflow__owAoH",column:"ChatPageMainColumn_column__ZWl1P"}},37675:function(e){e.exports={attachments:"Attachments_attachments__x_H2Q",attachment:"Attachments_attachment___L7ZA",audioAttachment:"Attachments_audioAttachment__ulliK",videoAttachment:"Attachments_videoAttachment__Oy67V"}},61258:function(e){e.exports={container:"CitationFooter_container__8djxJ",sourceButton:"CitationFooter_sourceButton__rdsOx"}},50455:function(e){e.exports={leftSideMessageHeader:"LeftSideMessageHeader_leftSideMessageHeader__5CfdD",clickableBotHeader:"LeftSideMessageHeader_clickableBotHeader__xzxSR",selectionModeMessageHeader:"LeftSideMessageHeader_selectionModeMessageHeader__Szoa_",headerWrapper:"LeftSideMessageHeader_headerWrapper__EpVkV"}},52683:function(e){e.exports={downloadImageButton:"Markdown_downloadImageButton__RCbDB",markdownContainer:"Markdown_markdownContainer__Tz3HQ"}},49231:function(e){e.exports={"compact-below":"only screen and (max-width : 683px)",container:"MarkdownCodeBlock_container__nRn2j",codeBlock:"MarkdownCodeBlock_codeBlock__rvLec force-dark",codeHeader:"MarkdownCodeBlock_codeHeader__zWt_V",codeHeaderCodeReferencing:"MarkdownCodeBlock_codeHeaderCodeReferencing__4xrRh",codeFooter:"MarkdownCodeBlock_codeFooter__NMojB",codeFooterCodeReferencing:"MarkdownCodeBlock_codeFooterCodeReferencing__63NjE",codeFooterPoePython:"MarkdownCodeBlock_codeFooterPoePython__8QxYT",codeFooterLeftSection:"MarkdownCodeBlock_codeFooterLeftSection__6yrgP",codeFooterRightSection:"MarkdownCodeBlock_codeFooterRightSection__9Hz_z",preTag:"MarkdownCodeBlock_preTag__QMZEO",horizontalOverflowHidden:"MarkdownCodeBlock_horizontalOverflowHidden__YPHxg",horizontalScrollable:"MarkdownCodeBlock_horizontalScrollable__aGZiW",codeTag:"MarkdownCodeBlock_codeTag__5BV0Z",languageName:"MarkdownCodeBlock_languageName__4_BF8",collapsible:"MarkdownCodeBlock_collapsible__n09uc",expandButtonContainer:"MarkdownCodeBlock_expandButtonContainer__kdI0J",expandButton:"MarkdownCodeBlock_expandButton__dE4iV",codeActions:"MarkdownCodeBlock_codeActions__wvgwQ",codeActionsRightMargin:"MarkdownCodeBlock_codeActionsRightMargin__Ilyv4",codeActionButton:"MarkdownCodeBlock_codeActionButton__xJBAg"}},6103:function(e){e.exports={imageContainer:"MarkdownImage_imageContainer__rAeth",image:"MarkdownImage_image__3dBzJ",withPlaceholder:"MarkdownImage_withPlaceholder__SCN0A",placeholder:"MarkdownImage_placeholder__ZmySQ",downloadImageButton:"MarkdownImage_downloadImageButton__G4i1S",spin:"MarkdownImage_spin__izCcd"}},8044:function(e){e.exports={linkifiedLink:"MarkdownLink_linkifiedLink__BepcK"}},79568:function(e){e.exports={tableContainer:"MarkdownTable_tableContainer__2k5Kh"}},16729:function(e){e.exports={"compact-only":"only screen and (max-width : 684px)",rightSideMessageBubble:"Message_rightSideMessageBubble__ioa_i",positionRelative:"Message_positionRelative__rhTwC",leftSideMessageBubble:"Message_leftSideMessageBubble__VPdk6",errorBubble:"Message_errorBubble__Bl92G",breakLine:"Message_breakLine__Szhtx",chatBreak:"Message_chatBreak__WMd1Y",chatBreakLabel:"Message_chatBreakLabel___Nxrm",chatAnnouncementLabel:"Message_chatAnnouncementLabel__aaf2T",chatBreakLabelWithOverflowButton:"Message_chatBreakLabelWithOverflowButton__vLDgM",chatAnnouncement:"Message_chatAnnouncement__53BDu",rightSideOptimisticFooter:"Message_rightSideOptimisticFooter__PMqPL",leftSideOptimisticFooter:"Message_leftSideOptimisticFooter__3sP0D",row:"Message_row__ug_UU",rightSideMessageRow:"Message_rightSideMessageRow__23wdY",expander:"Message_expander__5gU_H",noSignIcon:"Message_noSignIcon__11Dy5",plaintext:"Message_plaintext__sTseT",rowWithFooter:"Message_rowWithFooter__FShU6",commandRow:"Message_commandRow__iyHMF",rightSideCommandRow:"Message_rightSideCommandRow__bh3dY",leftSideCommandRow:"Message_leftSideCommandRow__5ukfM",commandBotName:"Message_commandBotName__Va_LG",commandErrorFooter:"Message_commandErrorFooter__rXh54",messageMetadataContainer:"Message_messageMetadataContainer__nBPq7",messageMetadataText:"Message_messageMetadataText__FxY5_",messageSeenStateIcon:"Message_messageSeenStateIcon__Cl_ov",sendingIcon:"Message_sendingIcon__s_2X7",messageBubbleWrapper:"Message_messageBubbleWrapper__sEq8z",messageTextContainer:"Message_messageTextContainer__w64Sc",viewMoreButton:"Message_viewMoreButton__hixhw",viewMoreButtonContainer:"Message_viewMoreButtonContainer__QTl_p",viewMoreButtonContainerBackgroundPurpleFade:"Message_viewMoreButtonContainerBackgroundPurpleFade__AunR9",viewMoreButtonContainerBackgroundNeutralFade:"Message_viewMoreButtonContainerBackgroundNeutralFade__8mDKM",viewMoreButtonContainerBackgroundErrorFade:"Message_viewMoreButtonContainerBackgroundErrorFade__fSPCj",editing:"Message_editing__IVHG5",selectableText:"Message_selectableText__SQ8WH",spin:"Message_spin__3YP2l",parametersLink:"Message_parametersLink__9AUkI"}},32524:function(e){e.exports={container:"MessageDate_container__HJE_V"}},63605:function(e){e.exports={overflowActionsWrapper:"MessageOverflowActions_overflowActionsWrapper__uC5oj",accentContainer:"MessageOverflowActions_accentContainer__kl4s4",neutralContainer:"MessageOverflowActions_neutralContainer__RAZX6",errorContainer:"MessageOverflowActions_errorContainer___A_nD",hidden:"MessageOverflowActions_hidden__8x_8Y",visible:"MessageOverflowActions_visible__eGaI4"}},56199:function(e){e.exports={hiddenReactionCounts:"MessageReactionCounts_hiddenReactionCounts__YsZmk",reactionCounts:"MessageReactionCounts_reactionCounts__qjnjp",reactionCountsInner:"MessageReactionCounts_reactionCountsInner__VklXL",reactionCount:"MessageReactionCounts_reactionCount__e53fG",viewerReaction:"MessageReactionCounts_viewerReaction__NxG_w"}},59068:function(e){e.exports={container:"ReferencedMessage_container__TAeNk",containerVerticalMargin:"ReferencedMessage_containerVerticalMargin__iZPWf",cursorPointer:"ReferencedMessage_cursorPointer__oeh8F",leftSection:"ReferencedMessage_leftSection__SP26l",leftSectionWithAttachment:"ReferencedMessage_leftSectionWithAttachment__OkHkj",dimDark20:"ReferencedMessage_dimDark20__Obne4",backgroundMuted:"ReferencedMessage_backgroundMuted__e1Rlu",text:"ReferencedMessage_text__WuLdI",accentOnAccentWithOpacity:"ReferencedMessage_accentOnAccentWithOpacity__ZYQWw",foregroundMuted:"ReferencedMessage_foregroundMuted__4bH6W",attachmentSection:"ReferencedMessage_attachmentSection__lElPQ",inputHeaderAttachmentSection:"ReferencedMessage_inputHeaderAttachmentSection__VX2wm",imageAttachment:"ReferencedMessage_imageAttachment__mR3gB"}},56782:function(e){e.exports={container:"InfiniteScroll_container__PHsd4",horizontal:"InfiniteScroll_horizontal__i7SXE",pagingTrigger:"InfiniteScroll_pagingTrigger__cdz9I"}},87953:function(e){e.exports={videoContainer:"VideoPreview_videoContainer__9XliL",thumbnail:"VideoPreview_thumbnail__aZ9WZ",thumbnailLoader:"VideoPreview_thumbnailLoader__77vRv",buttonOverlay:"VideoPreview_buttonOverlay___Y5_f",playIcon:"VideoPreview_playIcon__16kYP"}},61302:function(e){e.exports={loadingContainer:"BarePreviewFrame_loadingContainer__QhIba"}},56505:function(e){e.exports={console:"PreviewConsole_console__uxLBu force-dark",consoleHeader:"PreviewConsole_consoleHeader__XWZnp",consoleHeaderText:"PreviewConsole_consoleHeaderText__aJAZ_",errorLabel:"PreviewConsole_errorLabel__VM27j",warningLabel:"PreviewConsole_warningLabel__mWehX",entries:"PreviewConsole_entries__mVMkb"}},28456:function(e){e.exports={container:"PreviewFrameContainer_container__DJX94"}},86363:function(e){e.exports={icon:"PreviewHeader_icon__T1QdC",header:"PreviewHeader_header__uch2J force-dark",headerLeftTitle:"PreviewHeader_headerLeftTitle__BoCF1",headerLeft:"PreviewHeader_headerLeft__aU8Mz",headerRight:"PreviewHeader_headerRight__GSGUL",openedInCanvasText:"PreviewHeader_openedInCanvasText__zceTx force-dark",rotate90:"PreviewHeader_rotate90__xpEGM",rotate270:"PreviewHeader_rotate270__n4LkD"}},6560:function(e){e.exports={openHereButton:"PreviewOpenHereInsteadConfirmation_openHereButton__ZBGtg"}},76303:function(e){e.exports={logo:"PreviewRequestedMessageOverlay_logo__6YSq_"}},41730:function(e){e.exports={container:"UserMessageHeader_container__il_6D",userInfoContainer:"UserMessageHeader_userInfoContainer__N4Ca_",smallSemiboldText:"UserMessageHeader_smallSemiboldText__tGlPb",followButton:"UserMessageHeader_followButton__QF9cL"}},39332:function(e,a,n){e.exports=n(30636)}}]);