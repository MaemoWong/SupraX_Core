"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4164],{97890:function(e,n,a){var i,l,t,d,s,r,c,o,m,k,F,p,u,g,S,y,C,h,T,b,L,f,P,v,I,M,B,_,w,O,U,A,D,K,x,R,E,N,j,z,H,Q,V,q,J,W,G,X,Y,Z,$,ee,en,ea,ei,el,et,ed,es,er,ec,eo,em,ek,eF,ep,eu,eg,eS,ey,eC,eh,eT,eb,eL,ef,eP,ev;a.r(n);let eI=(i=[{defaultValue:null,kind:"LocalArgument",name:"chatCode"}],l=[{kind:"Variable",name:"chatCode",variableName:"chatCode"}],d={kind:"ScalarField",name:"isDeleted"},s={kind:"ScalarField",name:"title"},r={kind:"ScalarField",name:"__typename"},c={kind:"ScalarField",name:"state"},o={kind:"TypeDiscriminator",abstractKey:"__isCanvasTabInterface"},m={kind:"ScalarField",name:"globalId"},F={kind:"ScalarField",name:"language"},u={kind:"ScalarField",name:"clientNonce"},g={kind:"ScalarField",name:"canvasCode"},f={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[S={kind:"ScalarField",name:"botId"},t={kind:"ScalarField",name:"id"},y={kind:"ScalarField",name:"handle"},C={kind:"ScalarField",name:"viewerIsCreator"},h={kind:"ScalarField",name:"deletionState"},T={kind:"ScalarField",name:"isPromptPublic"},b={kind:"ScalarField",name:"isCanvasOnlyBot"},L={kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[p={kind:"ScalarField",name:"content"},k={kind:"ScalarField",name:"contentType"}]}]},v={kind:"ClientExtension",selections:[P={kind:"ScalarField",name:"isOptimistic"},{kind:"ScalarField",name:"idWhenWasOptimistic"}]},M={kind:"ScalarField",name:"codeblockIndex"},B={concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[I={kind:"ScalarField",name:"messageId"},t,c]},_={kind:"TypeDiscriminator",abstractKey:"__isNode"},w={kind:"ScalarField",name:"chatId"},U={concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[S,t,{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[O={kind:"ScalarField",name:"viewerIsUser"},t]}]},A={kind:"ScalarField",name:"nickname"},D={kind:"ScalarField",name:"messageTimeoutSecs"},K={kind:"ScalarField",name:"allowsImageAttachments"},x={kind:"ScalarField",name:"isApiBot"},R={kind:"ScalarField",name:"limitedAccessType"},E={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},N={kind:"ScalarField",name:"translatedBotTags"},j={kind:"ScalarField",name:"displayName"},Q={kind:"LinkedField",name:"picture",plural:!1,selections:H=[r,{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[z={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},V={kind:"ScalarField",name:"supportsRemix"},q={kind:"ScalarField",name:"isServerBot"},J={kind:"ScalarField",name:"supportsFileUpload"},W={kind:"ScalarField",name:"customUIDefinition"},Y={concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[d,{args:G=[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},X={kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},t,_]},Z={kind:"ScalarField",name:"canUserAccessBot"},$={kind:"ScalarField",name:"poweredBy"},ee={kind:"ScalarField",name:"chatCode"},en=[I,t],ea={kind:"ScalarField",name:"creationTime"},ei={kind:"ScalarField",name:"author"},el={kind:"ScalarField",name:"textLengthOnCancellation"},et={kind:"ScalarField",name:"timeoutLevel"},ed={kind:"ScalarField",name:"jobId"},es=[{kind:"Literal",name:"first",value:2}],er={kind:"ClientExtension",selections:[P]},ec={kind:"ScalarField",name:"cursor"},eo={concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},em=[{kind:"Literal",name:"last",value:12}],ek={kind:"ScalarField",name:"uid"},eF={kind:"ScalarField",name:"viewerIsFollowing"},ep={alias:"smallProfilePhotoUrl",args:G,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},eu={kind:"ScalarField",name:"text"},eg=[ek,t],eS={kind:"ScalarField",name:"name"},ey={kind:"ScalarField",name:"mimeType"},eC={kind:"InlineFragment",selections:[t],type:"Node",abstractKey:"__isNode"},eh={kind:"ScalarField",name:"reaction"},eT=[{kind:"Literal",name:"first",value:5}],eb=[s],eL={kind:"ScalarField",name:"costBreakdown"},ef={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[S,A,j,t,R,L,E,N,h,Q,y,_]},eP={concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[w,t]},{fragment:{argumentDefinitions:i,kind:"Fragment",name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageColumn_chat"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[t,d,s,{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[r,t,c,o,s,m,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[k,F,p]},u,g,{kind:"InlineFragment",selections:[S,f,v],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[I,M,B,v,{kind:"InlineFragment",selections:[_],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"}],type:"MessageCanvasTab"},_]},w,{kind:"ScalarField",name:"canvasTabsCount"},U,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[S,t,y,{kind:"ScalarField",name:"hasMarkdownRendering"},{kind:"ScalarField",name:"introduction"},A,C,{kind:"ScalarField",name:"isTrustedBot"},L,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[p,k,F]},D,K,x,R,E,N,h,j,Q,V,q,J,W,{kind:"ScalarField",name:"botCategory"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"followerCount"},{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"model"},{kind:"ScalarField",name:"uploadFileSizeLimit"},{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},{kind:"ScalarField",name:"conversationStarters"},b,{kind:"ScalarField",name:"monthlyActiveUsers"},Y,Z,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingLabel"}]},{kind:"ScalarField",name:"description"},$,T,{kind:"ScalarField",name:"shouldHide"},{kind:"ScalarField",name:"isOfficialBot"},{alias:"smallPicture",args:G,kind:"LinkedField",name:"picture",plural:!1,selections:H,storageKey:'picture(size:"small")'},_]},{concreteType:"Chat",kind:"LinkedField",name:"scriptTestSourceChat",plural:!1,selections:[U,s,ee,w,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[S,t]},t,r]},ee,{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:en},{kind:"ScalarField",name:"shouldBotAutoRespond"},ea,{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[ei,c,t,el,{kind:"ClientExtension",selections:[P,et]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[V,y,t,q,K,J,W,h,S,A,j]}]},{concreteType:"Message",kind:"LinkedField",name:"lastMessageSeenByAllOtherMembers",plural:!1,selections:en},{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[ed,{kind:"ScalarField",name:"viewerCanCancel"},t]},{args:es,concreteType:"CanvasTabConnection",kind:"LinkedField",name:"canvasTabsConnection",plural:!1,selections:[{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[r,o,t,c,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[k,F]},{kind:"InlineFragment",selections:[I,M,{kind:"InlineFragment",selections:[s,m,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[p]},u,g,{kind:"InlineFragment",selections:[S,f,er],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[B,er],type:"MessageCanvasTab"},_],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"},er],type:"MessageCanvasTab"},{kind:"InlineFragment",selections:[S],type:"BotCanvasTab"}]},ec,t]},eo,t],storageKey:"canvasTabsConnection(first:2)"},{args:es,handle:"connection",key:"CanvasTabSelector_canvasTabsConnection",kind:"LinkedHandle",name:"canvasTabsConnection"},{args:em,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[ei,{kind:"ScalarField",name:"isChatAnnouncement"},t,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[ek,t,X,y,eF,d,ep,_]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[S,t,D,K,y,x,A,R,L,E,N,h,j,Q,_]},I,ea,eu,c,u,{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},k,{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:eg},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[t,{kind:"ScalarField",name:"attachmentId"},eS,z,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[ey,t,{kind:"ScalarField",name:"size"}]},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},z,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"InlineFragment",selections:[er],type:"MessageAttachment"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"},er]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[r,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[I,eu,d,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[R,L,E,N,h,j,Q,y,t,_]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[t,ek,y,X,eF,d,ep,_]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[eS,z,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[ey,t]}],type:"Attachment",abstractKey:"__isAttachment"},t]}],type:"Message"},eC]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[c,t,ed]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[eh,{kind:"ScalarField",name:"count"},t]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:eg},{kind:"ScalarField",name:"hasCitations"},el,{args:eT,concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[eh,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[ek,X,O,{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},t]},t,r]},ec,t]},eo],storageKey:"reactionsConnection(first:5)"},{args:eT,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},r,{kind:"ClientExtension",selections:[P,et,{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"clientMessageStateText"}]},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[d],type:"Message"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},_]},t,ec]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},t],storageKey:"messagesConnection(last:12)"},{args:em,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"LinkedField",name:"displayedChatModal",plural:!1,selections:[r,{kind:"InlineFragment",selections:[w,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[y,R,L,E,N,h,j,Q,t,_]},{kind:"LinkedField",name:"budgetIncreaseRequester",plural:!1,selections:[r,{kind:"InlineFragment",selections:[y],type:"Bot"},{kind:"InlineFragment",selections:eb,type:"MessageCanvasTab"},{kind:"InlineFragment",selections:eb,type:"BotCanvasTab"},eC]},{kind:"ScalarField",name:"applicablePointPriceThreshold"},{kind:"ScalarField",name:"totalRequestAmount"},I,eL,{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"messagePointBalance"},t]}],type:"CostThresholdUpdateChatModal"},{kind:"InlineFragment",selections:[w,ef,eP,ea],type:"PaywallChatModal"},{kind:"InlineFragment",selections:[w,ef,eP,ea,ev={kind:"ScalarField",name:"messageCostAmount"},eL],type:"PointLimitPaywallChatModal"},{kind:"InlineFragment",selections:[w,ea,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[R,L,E,N,h,j,Q,y,t,S,A,_]},ev,eL],type:"SubscriberPointLimitChatModal"},{kind:"InlineFragment",selections:[eP,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[S,t,$,h,j,Q,y,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingType"},{kind:"ScalarField",name:"standardMessagePrice"}]},L,Y,Z]},{kind:"ScalarField",name:"isPrivateDeletedBotsChangesEnabled"}],type:"AddBotChatModal"},eC]},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"ScalarField",name:"membersCount"},{args:es,concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[ek,X,ep],type:"PoeUser"},t]},t]}],storageKey:"userMembersConnection(first:2)"},er,_]}]},params:{id:"0d3b809ad9357798b724655f2f48ebeaa4948e87786603428a82d9a046f84b26",metadata:{},name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",operationKind:"query",text:null}});eI.hash="0c62c1c7ff3700301507d9d1229e863b",n.default=eI},17115:function(e,n,a){var i,l,t,d,s,r,c,o,m,k,F,p,u,g,S,y,C,h,T,b,L,f,P,v,I,M,B,_,w,O,U,A,D,K,x,R,E,N,j,z,H,Q,V,q,J,W,G,X,Y,Z,$,ee,en,ea,ei,el,et,ed,es,er,ec,eo,em,ek,eF,ep,eu,eg,eS,ey,eC,eh,eT,eb,eL,ef,eP;a.r(n);let ev=(i=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],l=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],d={kind:"ScalarField",name:"isDeleted"},s={kind:"ScalarField",name:"isOptimistic"},r={kind:"ScalarField",name:"title"},c={kind:"ScalarField",name:"__typename"},o={kind:"ScalarField",name:"state"},m={kind:"TypeDiscriminator",abstractKey:"__isCanvasTabInterface"},k={kind:"ScalarField",name:"globalId"},p={kind:"ScalarField",name:"language"},g={kind:"ScalarField",name:"clientNonce"},S={kind:"ScalarField",name:"canvasCode"},P={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[y={kind:"ScalarField",name:"botId"},t={kind:"ScalarField",name:"id"},C={kind:"ScalarField",name:"handle"},h={kind:"ScalarField",name:"viewerIsCreator"},T={kind:"ScalarField",name:"deletionState"},b={kind:"ScalarField",name:"isPromptPublic"},L={kind:"ScalarField",name:"isCanvasOnlyBot"},f={kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[u={kind:"ScalarField",name:"content"},F={kind:"ScalarField",name:"contentType"}]}]},v={kind:"ScalarField",name:"idWhenWasOptimistic"},M={kind:"ScalarField",name:"codeblockIndex"},B={concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[I={kind:"ScalarField",name:"messageId"},t,o]},_={kind:"TypeDiscriminator",abstractKey:"__isNode"},w={kind:"ScalarField",name:"chatId"},U={concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[y,t,{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[O={kind:"ScalarField",name:"viewerIsUser"},t]}]},A={kind:"ScalarField",name:"nickname"},D={kind:"ScalarField",name:"messageTimeoutSecs"},K={kind:"ScalarField",name:"allowsImageAttachments"},x={kind:"ScalarField",name:"isApiBot"},R={kind:"ScalarField",name:"limitedAccessType"},E={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},N={kind:"ScalarField",name:"translatedBotTags"},j={kind:"ScalarField",name:"displayName"},Q={kind:"LinkedField",name:"picture",plural:!1,selections:H=[c,{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[z={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},V={kind:"ScalarField",name:"supportsRemix"},q={kind:"ScalarField",name:"isServerBot"},J={kind:"ScalarField",name:"supportsFileUpload"},W={kind:"ScalarField",name:"customUIDefinition"},Y={concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[d,{args:G=[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},X={kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},t,_]},Z={kind:"ScalarField",name:"canUserAccessBot"},$={kind:"ScalarField",name:"poweredBy"},ee={kind:"ScalarField",name:"chatCode"},en=[I,t],ea={kind:"ScalarField",name:"creationTime"},ei={kind:"ScalarField",name:"author"},el={kind:"ScalarField",name:"timeoutLevel"},et={kind:"ScalarField",name:"textLengthOnCancellation"},ed={kind:"ScalarField",name:"jobId"},es=[{kind:"Literal",name:"first",value:2}],er={kind:"ScalarField",name:"cursor"},ec={concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},eo=[{kind:"Literal",name:"last",value:12}],em={kind:"ScalarField",name:"uid"},ek={kind:"ScalarField",name:"viewerIsFollowing"},eF={alias:"smallProfilePhotoUrl",args:G,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},ep={kind:"ScalarField",name:"text"},eu=[em,t],eg={kind:"ScalarField",name:"name"},eS={kind:"ScalarField",name:"mimeType"},ey={kind:"InlineFragment",selections:[t],type:"Node",abstractKey:"__isNode"},eC={kind:"ScalarField",name:"reaction"},eh=[{kind:"Literal",name:"first",value:5}],eT=[r],eb={kind:"ScalarField",name:"costBreakdown"},eL={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[y,A,j,t,R,f,E,N,T,Q,C,_]},ef={concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[w,t]},{fragment:{argumentDefinitions:i,kind:"Fragment",name:"OptimisticChatPageColumnQuery",selections:[{kind:"ClientExtension",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageColumn_chat"}]}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"OptimisticChatPageColumnQuery",selections:[{kind:"ClientExtension",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[t,d,s,r,{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[c,t,o,m,r,k,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[F,p,u]},g,S,{kind:"InlineFragment",selections:[s,y,P,v],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[I,M,s,B,v,{kind:"InlineFragment",selections:[_],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"}],type:"MessageCanvasTab"},_]},w,{kind:"ScalarField",name:"canvasTabsCount"},U,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[y,t,C,{kind:"ScalarField",name:"hasMarkdownRendering"},{kind:"ScalarField",name:"introduction"},A,h,{kind:"ScalarField",name:"isTrustedBot"},f,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[u,F,p]},D,K,x,R,E,N,T,j,Q,V,q,J,W,{kind:"ScalarField",name:"botCategory"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"followerCount"},{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"model"},{kind:"ScalarField",name:"uploadFileSizeLimit"},{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},{kind:"ScalarField",name:"conversationStarters"},L,{kind:"ScalarField",name:"monthlyActiveUsers"},Y,Z,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingLabel"}]},{kind:"ScalarField",name:"description"},$,b,{kind:"ScalarField",name:"shouldHide"},{kind:"ScalarField",name:"isOfficialBot"},{alias:"smallPicture",args:G,kind:"LinkedField",name:"picture",plural:!1,selections:H,storageKey:'picture(size:"small")'},_]},{concreteType:"Chat",kind:"LinkedField",name:"scriptTestSourceChat",plural:!1,selections:[U,r,ee,w,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[y,t]},t,c]},ee,{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:en},{kind:"ScalarField",name:"shouldBotAutoRespond"},ea,{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[ei,s,o,el,t,et,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[V,C,t,q,K,J,W,T,y,A,j]}]},{concreteType:"Message",kind:"LinkedField",name:"lastMessageSeenByAllOtherMembers",plural:!1,selections:en},{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[ed,{kind:"ScalarField",name:"viewerCanCancel"},t]},{args:es,concreteType:"CanvasTabConnection",kind:"LinkedField",name:"canvasTabsConnection",plural:!1,selections:[{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[c,m,t,o,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[F,p]},{kind:"InlineFragment",selections:[s,I,M,{kind:"InlineFragment",selections:[r,k,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[u]},g,S,{kind:"InlineFragment",selections:[y,P],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[B],type:"MessageCanvasTab"},_],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"}],type:"MessageCanvasTab"},{kind:"InlineFragment",selections:[y],type:"BotCanvasTab"}]},er,t]},ec,t],storageKey:"canvasTabsConnection(first:2)"},{args:es,handle:"connection",key:"CanvasTabSelector_canvasTabsConnection",kind:"LinkedHandle",name:"canvasTabsConnection"},{args:eo,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[ei,{kind:"ScalarField",name:"isChatAnnouncement"},t,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[em,t,X,C,ek,d,eF,_]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[y,t,D,K,C,x,A,R,f,E,N,T,j,Q,_]},I,ea,ep,o,s,g,{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},F,{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"clientMessageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:eu},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[t,{kind:"ScalarField",name:"attachmentId"},eg,z,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[eS,t,{kind:"ScalarField",name:"size"}]},s,{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},z,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"ScalarField",name:"localUrl"}],type:"Attachment",abstractKey:"__isAttachment"}]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[c,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[I,ep,d,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[R,f,E,N,T,j,Q,C,t,_]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[t,em,C,X,ek,d,eF,_]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[eg,z,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[eS,t]}],type:"Attachment",abstractKey:"__isAttachment"},t]}],type:"Message"},ey]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[o,t,ed]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[eC,{kind:"ScalarField",name:"count"},t]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:eu},{kind:"ScalarField",name:"hasCitations"},el,{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},et,{args:eh,concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[eC,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[em,X,O,{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},t]},t,c]},er,t]},ec],storageKey:"reactionsConnection(first:5)"},{args:eh,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},c,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[d],type:"Message"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},_]},t,er]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},t],storageKey:"messagesConnection(last:12)"},{args:eo,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"LinkedField",name:"displayedChatModal",plural:!1,selections:[c,{kind:"InlineFragment",selections:[w,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[C,R,f,E,N,T,j,Q,t,_]},{kind:"LinkedField",name:"budgetIncreaseRequester",plural:!1,selections:[c,{kind:"InlineFragment",selections:[C],type:"Bot"},{kind:"InlineFragment",selections:eT,type:"MessageCanvasTab"},{kind:"InlineFragment",selections:eT,type:"BotCanvasTab"},ey]},{kind:"ScalarField",name:"applicablePointPriceThreshold"},{kind:"ScalarField",name:"totalRequestAmount"},I,eb,{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"messagePointBalance"},t]}],type:"CostThresholdUpdateChatModal"},{kind:"InlineFragment",selections:[w,eL,ef,ea],type:"PaywallChatModal"},{kind:"InlineFragment",selections:[w,eL,ef,ea,eP={kind:"ScalarField",name:"messageCostAmount"},eb],type:"PointLimitPaywallChatModal"},{kind:"InlineFragment",selections:[w,ea,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[R,f,E,N,T,j,Q,C,t,y,A,_]},eP,eb],type:"SubscriberPointLimitChatModal"},{kind:"InlineFragment",selections:[ef,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[y,t,$,T,j,Q,C,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingType"},{kind:"ScalarField",name:"standardMessagePrice"}]},f,Y,Z]},{kind:"ScalarField",name:"isPrivateDeletedBotsChangesEnabled"}],type:"AddBotChatModal"},ey]},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"ScalarField",name:"membersCount"},{args:es,concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[em,X,eF],type:"PoeUser"},t]},t]}],storageKey:"userMembersConnection(first:2)"},_]}]}]},params:{cacheID:"1eb117294783099f4b3e58dcad3ccec4",id:null,metadata:{},name:"OptimisticChatPageColumnQuery",operationKind:"query",text:null}});ev.hash="ebf3fbf05e24ce7a92d3f82d81c076c2",n.default=ev},15454:function(e,n,a){var i,l,t;a.r(n);let d={argumentDefinitions:[],kind:"Fragment",name:"OptimisticChatPageColumn_bot",selections:[{kind:"FragmentSpread",name:"ChatPageMain_bot"},{kind:"FragmentSpread",name:"ChatPageNavbar_bot"},{kind:"InlineDataFragmentSpread",name:"optimisticChat_createOptimisticChat_bot",selections:[i={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"introduction"},l={kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"ScalarField",name:"isPrivateBot"},t={concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[{kind:"ScalarField",name:"content"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"language"}]},{kind:"InlineDataFragmentSpread",name:"optimisticMessage_createOptimisticBotMessage_bot",selections:[l,{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_bot",selections:[i,{kind:"FragmentSpread",name:"ChatMessage_bot"},{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"},{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]},t],type:"Bot"};d.hash="4773b0646a7d3bf03668ac617a5b8a40",n.default=d},45506:function(e,n,a){a.r(n);let i={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"OptimisticChatPageColumn_chatEdges",selections:[{kind:"FragmentSpread",name:"ChatPageMain_chatEdges"}],type:"ChatEdge"};i.hash="792af76506dcb392a2028baf2801f850",n.default=i},74639:function(e,n,a){a.r(n);let i={argumentDefinitions:[],kind:"Fragment",name:"OptimisticChatPageColumn_root",selections:[{kind:"FragmentSpread",name:"ChatPageColumn_root"}],type:"QueryRoot"};i.hash="635cff81d9985bce6e9f82a1fc13afc7",n.default=i},88277:function(e,n,a){a.r(n);let i={argumentDefinitions:[],kind:"Fragment",name:"OptimisticChatPageColumn_viewer",selections:[{kind:"FragmentSpread",name:"ChatPageColumn_viewer"}],type:"Viewer"};i.hash="5f2951eb9967cdfabf848df35068c3e7",n.default=i},96011:function(e,n,a){a.r(n),a.d(n,{OptimisticChatPageColumn:function(){return OptimisticChatPageColumn}});var i=a(85893),l=a(41143),t=a.n(l),d=a(11163),s=a(67294),r=a(22578);a(44311);var c=a(71953),o=a(4694),m=a(45598),k=a(25025),F=a(39558);let useChatCode=()=>{let e=(0,d.useRouter)(),{chat:n}=e.query;return(0,m.H)(n)?n:null},useOptimisticChatPageProps=e=>{let{optimisticChatId:n,root:i,bot:l,chats:d,viewer:m}=e,k=(0,r.useFragment)(a(74639),i),p=(0,r.useFragment)(a(15454),l),u=(0,r.useFragment)(a(45506),d),g=(0,r.useFragment)(a(88277),m),S=(0,c.t3)(p,n),{optimisticChat:y}=(0,r.useLazyLoadQuery)(a(17115),{optimisticChatId:S});if(!y)throw new o.NotFound;let C=(0,F.H)(),h=(0,s.useCallback)(e=>{let{messageEdgeCreate:n}=e,a=n.chat;t()(a,"chat is null"),C(a),(0,c.VQ)(S)},[C,S]);return{root:k,viewer:g,chat:y,onSuccessfulMessageSend:h,chats:u}},OptimisticChatPageColumn=e=>{let{optimisticChatId:n,root:l,bot:t,chats:d,viewer:c}=e;if(!t)throw new o.NotFound;let m=useOptimisticChatPageProps({root:l,bot:t,optimisticChatId:n,chats:d,viewer:c}),F=function(e,n){let i=useChatCode(),l=(0,r.useLazyLoadQuery)(a(97890),{chatCode:i||""},{fetchPolicy:i?"store-or-network":"store-only"});return(0,s.useMemo)(()=>l.chatOfCode&&n?{chat:l.chatOfCode,viewer:n,root:e}:null,[l,n,e])}(m.root,m.viewer),p=F||m;return(0,i.jsx)(k.h,{...p})}}}]);