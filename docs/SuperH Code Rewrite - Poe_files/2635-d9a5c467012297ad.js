(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2635],{10295:function(e,t,n){"use strict";n.r(t);let i={argumentDefinitions:[],kind:"Fragment",name:"AdvancedPointSettingsSection_viewer",selections:[{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"allChatDefaultPointPriceThresholdPerMessage"}]},{kind:"FragmentSpread",name:"GlobalContextOptimizationSection_viewer"}],type:"Viewer"};i.hash="c4c55a412b62c2ff2ec39ee36d58a769",t.default=i},6032:function(e,t,n){"use strict";n.r(t);let i={argumentDefinitions:[],kind:"Fragment",name:"AutoRechargeSection_viewer",selections:[{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{concreteType:"AutoRechargeSettings",kind:"LinkedField",name:"autoRechargeSettings",plural:!1,selections:[{kind:"ScalarField",name:"status"},{kind:"ScalarField",name:"thresholdPoints"},{kind:"ScalarField",name:"refillPoints"},{kind:"ScalarField",name:"failureMessage"}]}]}],type:"Viewer"};i.hash="3cf8fb4b22cabc09474baf875169b60c",t.default=i},754:function(e,t,n){"use strict";var i,o;n.r(t);let a={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"redirectPath"}],kind:"Fragment",name:"BuyAddonPointsButtonSetupCheckoutSessionUrlQuery",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[o={args:[{kind:"Variable",name:"redirectPath",variableName:"redirectPath"}],kind:"ScalarField",name:"setupCheckoutSessionUrl"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"BuyAddonPointsButtonSetupCheckoutSessionUrlQuery",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[o,{kind:"ScalarField",name:"id"}]}]},params:{id:"88276f113a672bce099adc5f84d0a338ae8754bb5177b7a0ed78f8d76b24ba14",metadata:{},name:"BuyAddonPointsButtonSetupCheckoutSessionUrlQuery",operationKind:"query",text:null}};a.hash="175b5b7b286064d6db3444ffe454fb1f",t.default=a},22100:function(e,t,n){"use strict";n.r(t);let i={argumentDefinitions:[],kind:"Fragment",name:"BuyAddonPointsButton_viewer",selections:[{kind:"ScalarField",name:"hasActiveSubscription"},{kind:"ScalarField",name:"isEligibleForWebSubscriptions"},{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{concreteType:"AutoRechargeSettings",kind:"LinkedField",name:"autoRechargeSettings",plural:!1,selections:[{kind:"ScalarField",name:"status"}]}]}],type:"Viewer"};i.hash="b18e95d50494da7f0d6c3a6b00bf9a6a",t.default=i},13220:function(e,t,n){"use strict";var i,o,a;n.r(t);let s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"isContextOptimizationOn"}],kind:"Fragment",name:"GlobalContextOptimizationSection_SetGlobalContextOptimizationStatus_Mutation",selections:[{args:o=[{kind:"Variable",name:"isContextOptimizationOn",variableName:"isContextOptimizationOn"}],concreteType:"SetGlobalContextOptimizationStatus",kind:"LinkedField",name:"setGlobalContextOptimizationStatus",plural:!1,selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[a={kind:"ScalarField",name:"globalContextOptimizationStatus"}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"GlobalContextOptimizationSection_SetGlobalContextOptimizationStatus_Mutation",selections:[{args:o,concreteType:"SetGlobalContextOptimizationStatus",kind:"LinkedField",name:"setGlobalContextOptimizationStatus",plural:!1,selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[a,{kind:"ScalarField",name:"id"}]}]}]},params:{id:"200dd23d01ea0293abbbf1b39b4b401650b780a29858d7c3fdb33ad514a69a5e",metadata:{},name:"GlobalContextOptimizationSection_SetGlobalContextOptimizationStatus_Mutation",operationKind:"mutation",text:null}};s.hash="8707b611233080c81876c6399b191080",t.default=s},91487:function(e,t,n){"use strict";n.r(t);let i={argumentDefinitions:[],kind:"Fragment",name:"GlobalContextOptimizationSection_viewer",selections:[{kind:"ScalarField",name:"globalContextOptimizationStatus"}],type:"Viewer"};i.hash="253e0929fe461440a861625238fbbb9e",t.default=i},85307:function(e,t,n){"use strict";n.r(t);let i={argumentDefinitions:[],kind:"Fragment",name:"PointSection_viewer",selections:[{kind:"ScalarField",name:"hasActiveSubscription"},{kind:"ScalarField",name:"viewerCountryCode"},{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"addonPointBalance"},{kind:"ScalarField",name:"subscriptionPointBalance"},{kind:"ScalarField",name:"totalMessagePointAllotment"},{concreteType:"PointsAndPrice",kind:"LinkedField",name:"pointBalanceAndPrice",plural:!1,selections:[{kind:"ScalarField",name:"pointAmount"},{kind:"ScalarField",name:"priceUsd"}]}]},{kind:"FragmentSpread",name:"BuyAddonPointsButton_viewer"},{kind:"FragmentSpread",name:"AutoRechargeSection_viewer"}],type:"Viewer"};i.hash="0f1a39bdc7b7376c42cdc5a20b13dc18",t.default=i},47160:function(e,t,n){"use strict";n.r(t);let i={argumentDefinitions:[],kind:"Fragment",name:"SettingsComputePointsSection_viewer",selections:[{kind:"FragmentSpread",name:"PointSection_viewer"},{kind:"FragmentSpread",name:"AdvancedPointSettingsSection_viewer"},{kind:"ScalarField",name:"hasActiveSubscription"},{kind:"ScalarField",name:"isEligibleForWebSubscriptions"},{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"addonPointBalance"}]}],type:"Viewer"};i.hash="dea1e57385033300f3d7f4b2d1e4dbb8",t.default=i},95948:function(e,t,n){"use strict";n.d(t,{X6:function(){return Heading},xv:function(){return Text}});var i=n(85893);n(67294);var o=n(22492);let a={base:"fg-base",muted:"fg-muted",subtle:"fg-subtle",reverse:"fg-reverse",brand:"fg-brand",error:"fg-error",success:"fg-success",warning:"fg-warning","on-error":"fg-on-error","on-warning":"fg-on-warning","on-success":"fg-on-success"},s={normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold",black:"font-black"},l={1:"line-clamp-1",2:"line-clamp-2",3:"line-clamp-3",4:"line-clamp-4",5:"line-clamp-5"},r={left:"text-left",center:"text-center",right:"text-right",justify:"text-justify",start:"text-start",end:"text-end"},c={pretty:"text-pretty",balance:"text-balance"},d={ellipsis:"truncate",clip:"text-clip overflow-hidden whitespace-nowrap"},u={"xx-sm":"text-heading-xx-sm","x-sm":"text-heading-x-sm",sm:"text-heading-sm",base:"text-heading-base",md:"text-heading-md",lg:"text-heading-lg","x-lg":"text-heading-x-lg"},m={"xx-sm":"text-body-xx-sm","x-sm":"text-body-x-sm",sm:"text-body-sm",base:"text-body-base",lg:"text-body-lg"},Text=e=>{let{as:t,size:n="base",weight:u="normal",color:g,align:p,wrap:S,clamp:_,truncate:h,srOnly:x,className:f,...b}=e,P=t||"span";return(0,i.jsx)(P,{"data-pdl-child":"text",className:(0,o.W)(n&&m[n],g&&a[g],u&&s[u],p&&r[p],S&&c[S],h&&d[h],_&&l[_],x&&"sr-only",f),...b})},Heading=e=>{let{as:t,size:n="base",weight:m="bold",color:g,align:p,wrap:S,clamp:_,srOnly:h,truncate:x,className:f,...b}=e,P=t||"span";return(0,i.jsx)(P,{"data-pdl-child":"display",className:(0,o.W)(n&&u[n],g&&a[g],m&&s[m],p&&r[p],S&&c[S],_&&l[_],x&&d[x],h&&"sr-only",f),...b})}},91469:function(e,t,n){"use strict";var i=n(85893),o=n(13525),a=n(12251),s=n(23595),l=n(64516),r=n(11300),c=n.n(r);t.Z=e=>{let{header:t,startAtBottom:n,children:r,disallowScroll:d,noMaxWidth:u=!1,deviceType:m}=e,{elementProps:g,providerProps:p}=(0,o.GO)(),S=(0,l.F)(),_=!(0,s.k6)(S,m)&&c().scrollSectionOverflow;return(0,i.jsxs)(i.Fragment,{children:[t,(0,i.jsx)(o.yp,{...p,children:(0,i.jsx)("div",{className:(0,a.$)(c().scrollSection,n&&c().startAtBottom,_,d&&c().disallowScroll),...g,children:(0,i.jsx)("div",{className:(0,a.$)(c().column,u&&c().noMaxWidth),children:r})})})]})}},24581:function(e,t,n){"use strict";var i=n(85893),o=n(1250),a=n(36803);t.Z=e=>(0,i.jsx)(a.Z,{leftNavItem:(0,i.jsx)(o.Z,{viewer:e.viewer}),...e})},21900:function(e,t,n){"use strict";var i=n(85893),o=n(67294),a=n(12251),s=n(38719),l=n.n(s);let r=o.forwardRef((e,t)=>{let{className:n,isChecked:o,isDisabled:s,children:r,...c}=e,d=(0,a.$)(l().root,n,s&&l().isDisabled);return(0,i.jsxs)("label",{className:d,children:[(0,i.jsx)("div",{className:l().text,children:r}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"checkbox",className:l().input,disabled:s,checked:o,ref:t,...c}),(0,i.jsx)("span",{className:l().uiElement})]})]})});r.displayName="Switch",t.Z=r},34569:function(e,t,n){"use strict";n.d(t,{Z:function(){return settings_SettingsSection}});var i=n(85893);n(67294);var o=n(16609),a=n.n(o),s=n(95948),settings_SettingsSectionTitle=e=>{let{title:t}=e;return(0,i.jsx)(s.X6,{as:"h2",size:"sm",className:"my-8",children:t})},settings_SettingsSection=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(settings_SettingsSectionTitle,{title:e.title}),(0,i.jsx)("div",{className:a().container,children:e.children}),e.footer&&(0,i.jsx)("div",{className:a().footer,children:e.footer}),e.footerNode&&(0,i.jsx)("div",{className:a().footer,children:e.footerNode}),(0,i.jsx)("div",{className:a().bottom})]})},11948:function(e,t,n){"use strict";n.d(t,{Z:function(){return computePointsSection_SettingsComputePointsSection}});var i=n(85893),o=n(8250),a=n(67294),s=n(22120),l=n(22578),r=n(39984),c=n(5589),d=n.n(c),u=n(34569),m=n(57758),g=n(18453),p=n(90823),S=n.n(p),_=n(4909),h=n(7981),x=n.n(h),f=n(22641);let importSettingsDefaultMessagePointLimitModal=()=>Promise.all([n.e(7536),n.e(6384),n.e(5712)]).then(n.bind(n,65712));var computePointsSection_useSettingsDefaultMessagePointLimitModal=()=>{let[e,t]=(0,a.useState)(!1),n=(0,a.useCallback)(()=>{t(!0)},[]),o=(0,a.useCallback)(()=>{t(!1)},[]),s=(0,a.useMemo)(()=>({closeModal:o}),[o]),l=(0,i.jsx)(f.Z,{isOpen:e,onRequestClose:o,body:importSettingsDefaultMessagePointLimitModal,bodyProps:s});return{modal:l,openModal:n}},computePointsSection_EditDefaultMessageLimitButton=()=>{let{t:e}=(0,s.$G)(),{modal:t,openModal:n}=computePointsSection_useSettingsDefaultMessagePointLimitModal();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(_.PL,{className:x().editDefaultMessagePointsButton,onClick:n,children:(0,i.jsx)("span",{className:x().editDefaultMessagePointsButtonText,children:e("Edit")})}),t]})},computePointsSection_DefaultMessagePointLimitSection=e=>{let{defaultPointPriceThresholdPerMessage:t}=e,{t:n}=(0,s.$G)();return(0,i.jsxs)("div",{className:S().messagePointLimitSection,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:S().messagePointLimitText,children:n("Default per-message budget")}),(0,i.jsxs)("span",{className:S().computePointsLabel,children:[(0,i.jsx)("span",{className:S().computePointsValue,children:t.toLocaleString()}),(0,i.jsx)(g.Z,{className:S().computePointsIcon})]})]}),(0,i.jsx)(computePointsSection_EditDefaultMessageLimitButton,{})]})},b=n(21900),P=n(31212),v=n.n(P);let importSettingsContextOptimizationConfirmModal=()=>n.e(6386).then(n.bind(n,36386));var computePointsSection_useSettingsContextOptimizationConfirmModal=()=>{let[e,t]=(0,a.useState)(!1),n=(0,a.useCallback)(()=>{t(!0)},[]),o=(0,a.useCallback)(()=>{t(!1)},[]),s=(0,a.useMemo)(()=>({closeModal:o}),[o]),l=(0,i.jsx)(f.Z,{isOpen:e,onRequestClose:o,body:importSettingsContextOptimizationConfirmModal,bodyProps:s});return{modal:l,openModal:n}},computePointsSection_GlobalContextOptimizationSection=e=>{let{viewer:t}=e,o=(0,l.useFragment)(n(91487),t),{globalContextOptimizationStatus:r}=o,[c]=(0,l.useMutation)(n(13220)),{modal:d,openModal:u}=computePointsSection_useSettingsContextOptimizationConfirmModal(),m=(0,a.useCallback)(e=>{e.target.checked?c({variables:{isContextOptimizationOn:e.target.checked}}):u()},[c,u]),{t:g}=(0,s.$G)();return(0,i.jsxs)("div",{className:v().container,children:[(0,i.jsx)("div",{className:v().textContainer,children:(0,i.jsx)("div",{className:v().title,children:g("Default auto-manage context")})}),(0,i.jsx)(b.Z,{checked:r,onChange:m}),d]})},computePointsSection_AdvancedPointSettingsSection=e=>{var t,o;let{viewer:r}=e,c=(0,l.useFragment)(n(10295),r),{t:u}=(0,s.$G)(),[g,p]=(0,a.useState)(!1),S=(0,a.useCallback)(()=>{p(!g)},[g,p]),_=null!==(o=null===(t=c.messagePointInfo)||void 0===t?void 0:t.allChatDefaultPointPriceThresholdPerMessage)&&void 0!==o?o:0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:d().sectionContainer,children:(0,i.jsxs)("span",{className:d().clickableHeader,onClick:S,children:[u("Advanced Settings"),(0,i.jsx)(m.Z,{className:g?d().chevronUp:d().chevron})]})}),g&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(computePointsSection_DefaultMessagePointLimitSection,{defaultPointPriceThresholdPerMessage:_}),(0,i.jsx)(computePointsSection_GlobalContextOptimizationSection,{viewer:c})]})]})},C=n(11163),k=n(10032),j=n(60540),w=n(20620),y=n(12107),F=n(78410),M=n(91048),N=n(67824);let importPaywallModal=()=>Promise.all([n.e(8324),n.e(6470),n.e(668),n.e(3258),n.e(7420),n.e(6850)]).then(n.bind(n,83420)),R=n(754);var addonPoints_BuyAddonPointsButton=e=>{var t;let{viewer:o,viewObjectType:c}=e,{hasActiveSubscription:u,isEligibleForWebSubscriptions:m,messagePointInfo:g}=(0,l.useFragment)(n(22100),o),{t:p}=(0,s.$G)(),S=(0,l.useRelayEnvironment)(),h=(0,C.useRouter)(),x=null!==(t=null==g?void 0:g.autoRechargeSettings.status)&&void 0!==t?t:M.Z.never_enabled,f=(0,j.qb)();(0,a.useEffect)(()=>{(0,j.vP)({viewObjectType:c,subscriptionFunnelId:f})},[c,f]);let{ref:b}=(0,y.Z)(N.Z.web_subscriptions,{additionalLogData:(0,j.Gj)(c,f)}),{modal:P,openModal:v}=(0,k.Z)(f,c),B=(0,a.useCallback)(()=>{(0,j.xb)({viewObjectType:c,subscriptionFunnelId:f}),v()},[v,c,f]),A=(0,a.useCallback)(async e=>{var t;e.preventDefault();let n=await (0,l.fetchQuery)(S,R,{redirectPath:h.asPath}).toPromise(),i=null==n?void 0:null===(t=n.viewer)||void 0===t?void 0:t.setupCheckoutSessionUrl;i&&(window.location.href=i)},[S,h]),[L,T]=(0,a.useState)(!1),D=(0,a.useCallback)(()=>{T(!1)},[T]),O=(0,a.useCallback)(e=>{e.preventDefault(),(0,j.xb)({viewObjectType:c,subscriptionFunnelId:f}),T(!0)},[T,c,f]),Z=(0,a.useMemo)(()=>({subscriptionFunnelId:f}),[f]);return(0,i.jsx)("div",{className:d().addonPointsButtonContainer,ref:b,children:m?u?x===M.Z.recharge_failed?(0,i.jsx)(F.Z,{as:"button",theme:"primary",onClick:A,className:d().button,children:p("Update payment method")}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(_.DF,{onClick:B,className:d().button,children:p("Buy add-on points")}),P]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(F.Z,{as:"button",theme:"primary",onClick:O,className:d().button,children:p("Subscribe to Poe")}),L&&(0,i.jsx)(w.Z,{body:importPaywallModal,bodyProps:Z,onRequestClose:D})]}):(0,i.jsx)(F.Z,{as:"a",theme:"primary",href:r.MP,target:"_blank",className:d().button,children:p("See purchasing options")})})},B=n(56206),A=n(12251);let importAutoRechargeModal=()=>Promise.all([n.e(7536),n.e(29)]).then(n.bind(n,60029));var addonPoints_useAutoRechargeModal=()=>{let[e,t]=(0,a.useState)(!1),n=(0,a.useCallback)(()=>{t(!0)},[]),o=(0,a.useCallback)(()=>{t(!1)},[]),s=(0,a.useMemo)(()=>({closeModal:o}),[o]),l=(0,i.jsx)(f.Z,{isOpen:e,onRequestClose:o,body:importAutoRechargeModal,bodyProps:s});return{modal:l,openModal:n}},computePointsSection_AutoRechargeSection=e=>{var t,o,r,c,u,m,g;let{viewer:p}=e,{t:S}=(0,s.$G)(),h=(0,l.useFragment)(n(6032),p),x=null!==(u=null===(t=h.messagePointInfo)||void 0===t?void 0:t.autoRechargeSettings.status)&&void 0!==u?u:M.Z.never_enabled,f=null!==(m=null===(o=h.messagePointInfo)||void 0===o?void 0:o.autoRechargeSettings.thresholdPoints)&&void 0!==m?m:166667,b=null!==(g=null===(r=h.messagePointInfo)||void 0===r?void 0:r.autoRechargeSettings.refillPoints)&&void 0!==g?g:1e6,P=null===(c=h.messagePointInfo)||void 0===c?void 0:c.autoRechargeSettings.failureMessage,v=(0,a.useMemo)(()=>({refillAmount:(0,B.X)(b),threshold:(0,B.X)(f)}),[b,f]),{modal:C,openModal:k}=addonPoints_useAutoRechargeModal();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:d().autoRechargeSection,children:[(0,i.jsx)("header",{className:d().autoRechargeTitle,children:(0,i.jsx)("span",{children:S("Auto-recharge")})}),(0,i.jsx)(_.PL,{onClick:k,className:d().autoRechargeButton,children:S("Edit")}),(0,i.jsx)("div",{className:x==M.Z.recharge_failed?d().autoRechargeTextFailed:d().autoRechargeText,children:x==M.Z.enabled?(0,i.jsxs)(s.cC,{i18nKey:"autoRechargeEnabled",values:v,children:["Auto-recharge is ",(0,i.jsx)("strong",{children:"enabled"}),". We will purchase"," ",(0,i.jsx)("strong",{children:"{{refillAmount}}"})," worth of add-on points when the approximate value of your points drops below"," ",(0,i.jsx)("strong",{children:"{{threshold}}"}),"."]}):x==M.Z.recharge_failed?P||S("Your last auto-recharge payment was unsuccessful. To continue auto-recharging, please update your payment method."):(0,i.jsxs)(s.cC,{i18nKey:"autoRechargeDisabled",children:["Auto-recharge is ",(0,i.jsx)("strong",{children:"disabled"}),". Enable auto recharge to avoid API interruptions when the approximate value of your points drops below a specified minimum."]})})]}),C]})};let L=new Set(["RU","VE","IR","SY","CU"]);var computePointsSection_PointSection=e=>{var t,o,r,c,u,p;let{viewer:S,viewObjectType:h,showBuyAddonPointsButton:x=!1}=e,f=(0,l.useFragment)(n(85307),S),{hasActiveSubscription:b,viewerCountryCode:P,messagePointInfo:v}=f,{t:C}=(0,s.$G)(),[k,j]=(0,a.useState)(!1),w=(0,a.useCallback)(()=>{j(!k)},[k,j]),y=L.has(null!=P?P:""),F=y&&!b&&(null==v?void 0:v.totalMessagePointAllotment)===0,M=(null!==(t=null==v?void 0:v.addonPointBalance)&&void 0!==t?t:0)>0;return(0,i.jsxs)("div",{className:d().container,children:[(0,i.jsxs)("div",{className:d().flexColumn,children:[(0,i.jsx)("header",{className:d().title,children:(0,i.jsxs)("span",{onClick:M?w:void 0,className:M?d().clickableHeader:void 0,children:[C("Available points"),M&&(0,i.jsx)(m.Z,{className:k?d().chevronUp:d().chevron})]})}),(0,i.jsx)("div",{className:d().labelRow,children:F?(0,i.jsxs)(i.Fragment,{children:["0 ",(0,i.jsx)(g.Z,{className:d().icon})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:d().value,children:(null!==(o=null==v?void 0:v.pointBalanceAndPrice.pointAmount)&&void 0!==o?o:0).toLocaleString()}),(0,i.jsx)(g.Z,{className:d().icon})]})}),(0,i.jsx)("div",{className:(0,A.$)(d().labelRow,d().subtitle),children:(0,B.z)(null!==(r=null==v?void 0:v.pointBalanceAndPrice.priceUsd)&&void 0!==r?r:"0")})]}),M&&k&&(0,i.jsxs)("div",{className:d().flexColumnMediumGap,children:[(0,i.jsxs)("div",{className:d().flexColumn,children:[(0,i.jsxs)("div",{className:d().labelRow,children:[(0,i.jsx)("span",{className:d().value,children:(null!==(c=null==v?void 0:v.subscriptionPointBalance)&&void 0!==c?c:0).toLocaleString()}),(0,i.jsx)(g.Z,{className:d().icon})]}),(0,i.jsx)("div",{className:d().subtitle,children:C("Plan points")})]}),(0,i.jsxs)("div",{className:d().flexColumn,children:[(0,i.jsxs)("div",{className:d().labelRow,children:[(0,i.jsx)("span",{className:d().value,children:(null!==(u=null==v?void 0:v.addonPointBalance)&&void 0!==u?u:0).toLocaleString()}),(0,i.jsx)(g.Z,{className:d().icon})]}),(0,i.jsx)("div",{className:d().subtitle,children:C("Add-on points")})]})]}),x&&b&&(null!==(p=null==v?void 0:v.addonPointBalance)&&void 0!==p?p:0)>0&&(0,i.jsx)(computePointsSection_AutoRechargeSection,{viewer:f}),(0,i.jsxs)("div",{className:d().buttonContainer,children:[x&&(0,i.jsx)(addonPoints_BuyAddonPointsButton,{viewer:f,viewObjectType:h}),(0,i.jsx)(_.PL,{href:"/points_history",className:d().button,children:C("View points history")})]})]})},computePointsSection_SettingsComputePointsSection=e=>{var t;let{viewer:a,viewObjectType:c,showAdvancedSettings:m=!0,showBuyAddonPointsButton:g=!1}=e,p=(0,l.useFragment)(n(47160),a),{t:S}=(0,s.$G)(),{messagePointInfo:_,hasActiveSubscription:h,isEligibleForWebSubscriptions:x}=p,f=g||x&&h,b=f||(null!==(t=null==_?void 0:_.addonPointBalance)&&void 0!==t?t:0)>0,P=(0,i.jsx)(o.ee,{href:r.ig,target:"_blank",variant:"brand",size:"x-sm",children:S("Learn more")});return(0,i.jsxs)(u.Z,{title:S("Points"),footerNode:(0,i.jsxs)("div",{className:d().footer,children:[S("Points are used to send messages to bots or interact with apps.")," ",b&&S("Add-on points expire one year after purchase.")+" ",P]}),children:[(0,i.jsx)(computePointsSection_PointSection,{viewer:p,viewObjectType:c,showBuyAddonPointsButton:!!f}),m&&(0,i.jsx)(computePointsSection_AdvancedPointSettingsSection,{viewer:p})]})}},56206:function(e,t,n){"use strict";n.d(t,{X:function(){return convertPointsToUsd},z:function(){return formatUsdString}});var i=n(13012);function convertPointsToUsd(e){let t=new i.Z(e).div(1e6).mul(30);return formatBigJsToUsd(t)}function formatUsdString(e){try{let t=new i.Z(e);return formatBigJsToUsd(t)}catch(e){return""}}function formatBigJsToUsd(e){let t;if(e.eq(0)||e.gte(1))t=2;else{let n=e.toPrecision(2);t=n.includes(".")?n.split(".")[1].length:0}let n=navigator.language||"en-US";return new Intl.NumberFormat(n,{style:"currency",currency:"USD",currencyDisplay:"symbol",minimumFractionDigits:t,maximumFractionDigits:t}).format(e.toNumber())}},91048:function(e,t){"use strict";var n,i;(i=n||(n={})).enabled="enabled",i.disabled="disabled",i.never_enabled="never_enabled",i.recharge_failed="recharge_failed",t.Z=n},38719:function(e){e.exports={root:"switch_root___vZBZ",isDisabled:"switch_isDisabled__5vwaF",input:"switch_input__8I5Oq",uiElement:"switch_uiElement__Yu93b",text:"switch_text__OKPsR",isChecked:"switch_isChecked__T9bSp"}},11300:function(e){e.exports={scrollSection:"MainColumn_scrollSection__A9NHB",scrollSectionOverflow:"MainColumn_scrollSectionOverflow__FbPqw",column:"MainColumn_column__UEunw",noMaxWidth:"MainColumn_noMaxWidth__8pWAi",disallowScroll:"MainColumn_disallowScroll__zR9H2",startAtBottom:"MainColumn_startAtBottom__KeM8B"}},90823:function(e){e.exports={messagePointLimitSection:"DefaultMessagePointLimitSection_messagePointLimitSection__QGrV1",messagePointLimitText:"DefaultMessagePointLimitSection_messagePointLimitText__D4Y83",computePointsLabel:"DefaultMessagePointLimitSection_computePointsLabel__BPQmW",computePointsValue:"DefaultMessagePointLimitSection_computePointsValue__9iZh8",computePointsIcon:"DefaultMessagePointLimitSection_computePointsIcon__9eAJ_"}},7981:function(e){e.exports={editDefaultMessagePointsButton:"EditDefaultMessageLimitButton_editDefaultMessagePointsButton__wG1ul",editDefaultMessagePointsButtonText:"EditDefaultMessageLimitButton_editDefaultMessagePointsButtonText__ZZ1xj"}},31212:function(e){e.exports={container:"GlobalContextOptimizationSection_container__Qj9Yl",textContainer:"GlobalContextOptimizationSection_textContainer__g_AUX",title:"GlobalContextOptimizationSection_title__f9AgP"}},5589:function(e){e.exports={"compact-only":"only screen and (max-width : 684px)",footer:"SettingsComputePointsSection_footer__8eaQl",link:"SettingsComputePointsSection_link___3Niw",container:"SettingsComputePointsSection_container__Eq_ik",flexColumn:"SettingsComputePointsSection_flexColumn__x7Ro0",flexColumnSmallGap:"SettingsComputePointsSection_flexColumnSmallGap__GciiL SettingsComputePointsSection_flexColumn__x7Ro0",flexColumnMediumGap:"SettingsComputePointsSection_flexColumnMediumGap__t1fnT SettingsComputePointsSection_flexColumn__x7Ro0",flexRow:"SettingsComputePointsSection_flexRow__Wpcjh",buttonContainer:"SettingsComputePointsSection_buttonContainer__xftRO SettingsComputePointsSection_flexRow__Wpcjh",button:"SettingsComputePointsSection_button__4lrNs",shortButton:"SettingsComputePointsSection_shortButton__i7cTM",sectionContainer:"SettingsComputePointsSection_sectionContainer__r6IIk",clickableHeader:"SettingsComputePointsSection_clickableHeader__M3w_d",labelRow:"SettingsComputePointsSection_labelRow__kpP9C",chevron:"SettingsComputePointsSection_chevron__TKpxb",chevronUp:"SettingsComputePointsSection_chevronUp__kHKkV SettingsComputePointsSection_chevron__TKpxb",icon:"SettingsComputePointsSection_icon__QbBuI",title:"SettingsComputePointsSection_title__dZYeH",subtitle:"SettingsComputePointsSection_subtitle__kziu_",autoRechargeText:"SettingsComputePointsSection_autoRechargeText__KTbRx",autoRechargeTextFailed:"SettingsComputePointsSection_autoRechargeTextFailed__cZJK6",subtitleNegativeMargin:"SettingsComputePointsSection_subtitleNegativeMargin__EY4qD SettingsComputePointsSection_subtitle__kziu_",value:"SettingsComputePointsSection_value__LY8w1",autoRechargeSection:"SettingsComputePointsSection_autoRechargeSection__DDiHq",autoRechargeTitle:"SettingsComputePointsSection_autoRechargeTitle__aDsf_",autoRechargeButton:"SettingsComputePointsSection_autoRechargeButton__KLI44 SettingsComputePointsSection_shortButton__i7cTM",addonPointsButtonContainer:"SettingsComputePointsSection_addonPointsButtonContainer__AyxT_"}},16609:function(e){e.exports={container:"SettingsSection_container__FPyAp",sectionRow:"SettingsSection_sectionRow__HZYa7",rowBorderBottom:"SettingsSection_rowBorderBottom___pcLa",footer:"SettingsSection_footer__GbLn5",bottom:"SettingsSection_bottom__VcAd3"}}}]);