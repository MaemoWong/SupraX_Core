(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6616,379,1530],{25987:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[handle]",function(){return n(1874)}])},71745:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputAttachments_ChatMessageInputAttachment_messageAttachment",selections:[{kind:"FragmentSpread",name:"FileInfo_attachment"}],type:"MessageAttachment"};a.hash="5c1de64091b0951dc9cce2f9eac236f1",t.default=a},79315:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatMessageInputAttachments_messageAttachments",selections:[{kind:"FragmentSpread",name:"ChatMessageInputAttachments_ChatMessageInputAttachment_messageAttachment"}],type:"MessageAttachment"};a.hash="eeaee6404e1a35d10e11dfb47510ff60",t.default=a},80752:function(e,t,n){"use strict";var a,i;n.r(t);let r={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputContainer_bot",selections:[a={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"isServerBot"},{kind:"ScalarField",name:"allowsImageAttachments"},{kind:"ScalarField",name:"supportsFileUpload"},{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"customUIDefinition"},{kind:"FragmentSpread",name:"botHelpers_useDeletion_bot"},{kind:"FragmentSpread",name:"useFileUpload_bot"},i={kind:"InlineDataFragmentSpread",name:"paywallContext_openPaywall_bot",selections:[{kind:"InlineDataFragmentSpread",name:"logHelpers_getBotLogData_bot",selections:[{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"displayName"}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"PaywallOpener_bot"}],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_useMaybeBlockOnPaywall_bot",selections:[i],argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_bot",selections:[a],argumentDefinitions:[]}],type:"Bot"};r.hash="873547ebf2024fa367f833bb49d6a47a",t.default=r},91305:function(e,t,n){"use strict";var a,i,r,l;n.r(t);let s=(a={kind:"ScalarField",name:"chatId"},r=[i={kind:"ScalarField",name:"id"}],{argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputContainer_chat",selections:[{kind:"FragmentSpread",name:"ChatInputSelector_chat"},{kind:"InlineDataFragmentSpread",name:"useFileUpload_chat",selections:[a],argumentDefinitions:[]},{kind:"FragmentSpread",name:"useMentionedBotsInputs_chat"},{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[i,a,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[i,{kind:"ScalarField",name:"handle"}]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:r,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[i,{kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"hasMarkdownRendering"}]}],argumentDefinitions:[]}],argumentDefinitions:[]},l={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],argumentDefinitions:[]},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_bot",selections:r,argumentDefinitions:[]}]},l],type:"Chat"});s.hash="77c11396ba7bdc66ba39ef04d5e6656e",t.default=s},52103:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatMessageInputContainer_messageEdges",selections:[{kind:"FragmentSpread",name:"ChatMessageTextArea_messageEdges"}],type:"MessageEdge"};a.hash="3763d1e0a57ccedfde9ee810abab3e3b",t.default=a},4027:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageInputContainer_viewer",selections:[{kind:"ScalarField",name:"fileUploadSizeLimits"},{alias:"submitMessageParamsAsDict",args:[{kind:"Literal",name:"gateName",value:"poe_pass_message_params_as_dictionary"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_pass_message_params_as_dictionary")'},{kind:"InlineDataFragmentSpread",name:"subscriptionHelpers_getShouldShowPaywall_viewer",selections:[{kind:"ScalarField",name:"isEligibleForWebSubscriptions"},{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{kind:"ScalarField",name:"isActive"}]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"useFileUpload_viewer"},{kind:"FragmentSpread",name:"ChatMessageTextArea_viewer"},{kind:"InlineDataFragmentSpread",name:"sendMessage_viewer",selections:[{alias:"shouldUseFinishUploadEndpoint",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_finish_upload_endpoint"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_finish_upload_endpoint")'},{alias:"shouldUsePresignedUrl",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_presigned_url"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_presigned_url")'},{alias:"useMessageSendingIcon",args:[{kind:"Literal",name:"gateName",value:"poe_use_message_sending_icon"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_message_sending_icon")'}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"ChatInputSelector_viewer"}],type:"Viewer"};a.hash="4ff82a5a254cfddc5ccd78b6b34d455c",t.default=a},33848:function(e,t,n){"use strict";n.r(t);let a={kind:"InlineDataFragment",name:"ChatMessageTextArea_getLastHumanMessageText_messageEdge"};a.hash="a01c79c1084fa7fcca797236c2cf1604",t.default=a},28159:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatMessageTextArea_messageEdges",selections:[{kind:"FragmentSpread",name:"ChatMessageTextArea_useOnKeyDown_messageEdges"}],type:"MessageEdge"};a.hash="adef175ef9e8eb0b392205c0b7ec1e41",t.default=a},45830:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatMessageTextArea_useOnKeyDown_messageEdges",selections:[{kind:"InlineDataFragmentSpread",name:"ChatMessageTextArea_getLastHumanMessageText_messageEdge",selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"text"},{kind:"InlineDataFragmentSpread",name:"messageHelpers_isHumanMessage",selections:[{kind:"ScalarField",name:"author"}],argumentDefinitions:[]}]}],argumentDefinitions:[]}],type:"MessageEdge"};a.hash="326ac8a25d146f97c1aab77fcfc8ef9b",t.default=a},17971:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"ChatMessageTextArea_viewer",selections:[{kind:"ScalarField",name:"id"},{alias:"formattedChatInput",args:[{kind:"Literal",name:"gateName",value:"poe_web_formatted_chat_input"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_formatted_chat_input")'}],type:"Viewer"};a.hash="90a809335bb616edc8c85932ca13e5f6",t.default=a},56304:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"HandleBotLandingPageInner_bot",selections:[{kind:"ScalarField",name:"displayName"},{kind:"FragmentSpread",name:"OptimisticChatPageColumn_bot"},{kind:"FragmentSpread",name:"ChatPageNavbar_bot"}],type:"Bot"};a.hash="e6a5bf73ef300e089e937ebf19ac3f70",t.default=a},5531:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HandleBotLandingPageInner_chatEdges",selections:[{kind:"FragmentSpread",name:"OptimisticChatPageColumn_chatEdges"}],type:"ChatEdge"};a.hash="824b2a0064848a80b965cd10d42e473d",t.default=a},34169:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"HandleBotLandingPageInner_root",selections:[{kind:"FragmentSpread",name:"OptimisticChatPageColumn_root"}],type:"QueryRoot"};a.hash="fcc21a3c78279dd6b37284023559f826",t.default=a},6226:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"HandleBotLandingPageInner_viewer",selections:[{kind:"FragmentSpread",name:"SprigSurvey_viewer"},{kind:"FragmentSpread",name:"OptimisticChatPageColumn_viewer"}],type:"Viewer"};a.hash="9f576b73b6fbd627652bff8383160485",t.default=a},73587:function(e,t,n){"use strict";var a,i,r,l,s,o,d,c,u,m,p,g,h,_,f,k,b,v,C,F,y,S,w,I,x,P,L;n.r(t);let M=(a=[{defaultValue:null,kind:"LocalArgument",name:"botHandle"},{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],i=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"name",variableName:"botHandle"}],r={kind:"ScalarField",name:"displayName"},l={kind:"ScalarField",name:"isDeleted"},s={kind:"ScalarField",name:"viewerIsCreator"},o={kind:"ScalarField",name:"contentType"},c={kind:"ScalarField",name:"cursor"},u={kind:"ScalarField",name:"__typename"},m={concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},p={kind:"ScalarField",name:"uid"},g={kind:"ScalarField",name:"language"},h={kind:"ScalarField",name:"id"},_={kind:"TypeDiscriminator",abstractKey:"__isNode"},f=[{kind:"Literal",name:"first",value:1},d={kind:"Variable",name:"handle",variableName:"botHandle"}],k={kind:"ScalarField",name:"subscriptionProductId"},v=[b={kind:"Literal",name:"paidSubscriptionPeriod",value:"yearly"}],C=[h],S={kind:"Literal",name:"optionsContext",value:"insufficient_points"},w={kind:"ScalarField",name:"amountDueToday"},I={kind:"ScalarField",name:"subscriptionRenewalTime"},x={alias:"monthlyCost",args:y=[F={kind:"Literal",name:"paidSubscriptionPeriod",value:"monthly"}],kind:"ScalarField",name:"costPerPeriod",storageKey:'costPerPeriod(paidSubscriptionPeriod:"monthly")'},{fragment:{argumentDefinitions:a,kind:"Fragment",name:"HandleBotLandingPageQuery",selections:[{args:i,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[r,l,s,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[o]},{kind:"FragmentSpread",name:"HandleBotLandingPageInner_bot"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_bot"}]},{alias:"chats",args:[d],concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryList_queryRoot_chats_connection",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"FragmentSpread",name:"HandleBotLandingPageInner_chatEdges"},c,{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[u]}]},m]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[p,{kind:"FragmentSpread",name:"HandleBotLandingPageInner_viewer"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_viewer"},{kind:"FragmentSpread",name:"usePreviewIframeUrl_viewer"}]},{kind:"FragmentSpread",name:"HandleBotLandingPageInner_root"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"HandleBotLandingPageQuery",selections:[{args:i,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[r,l,s,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[o,{kind:"ScalarField",name:"content"},g]},{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"model"},{kind:"ScalarField",name:"uploadFileSizeLimit"},{kind:"ScalarField",name:"allowsImageAttachments"},h,{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},{kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"introduction"},{kind:"ScalarField",name:"conversationStarters"},{kind:"ScalarField",name:"isCanvasOnlyBot"},{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"followerCount"},{kind:"ScalarField",name:"monthlyActiveUsers"},{kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[l,{args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},h,_]},{kind:"ScalarField",name:"canUserAccessBot"},{kind:"ScalarField",name:"deletionState"},{kind:"LinkedField",name:"picture",plural:!1,selections:[u,{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingLabel"}]},{kind:"ScalarField",name:"translatedBotTags"},{kind:"ScalarField",name:"description"},{kind:"ScalarField",name:"poweredBy"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"ScalarField",name:"isPromptPublic"},{kind:"ScalarField",name:"botCategory"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"shouldHide"},{kind:"ScalarField",name:"isOfficialBot"},{kind:"ScalarField",name:"messageTimeoutSecs"},{kind:"ScalarField",name:"isApiBot"},{kind:"ScalarField",name:"limitedAccessType"},{kind:"ScalarField",name:"shouldHideLimitedAccessTag"},{kind:"ScalarField",name:"supportsRemix"},{kind:"ScalarField",name:"isServerBot"},{kind:"ScalarField",name:"supportsFileUpload"},{kind:"ScalarField",name:"customUIDefinition"},{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"shouldIndexForExternalSearch"},_]},{args:f,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"hasMultipleUsers"},h,u]},c,h]},m,h]},{args:f,filters:["handle"],handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[p,{concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[p,h,u]},{kind:"ScalarField",name:"creationTime"},{kind:"ScalarField",name:"hasRecentlyUnsubscribed"},{alias:"badgingEnabledProportion",args:[{kind:"Literal",name:"gateName",value:"poe_badging_enabled_proportion"}],kind:"ScalarField",name:"floatGate",storageKey:'floatGate(gateName:"poe_badging_enabled_proportion")'},{alias:"useInFrameCanvasServerRelay",args:[{kind:"Literal",name:"gateName",value:"poe_web_canvas_use_in_frame_canvas_server_relay"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_canvas_use_in_frame_canvas_server_relay")'},{alias:"enableCanvasAppDebugMode",args:[{kind:"Literal",name:"gateName",value:"poe_canvas_enable_debug_mode"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_canvas_enable_debug_mode")'},{alias:"persistenceAndSyncEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_canvas_data_store"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_canvas_data_store")'},{alias:"codeEditorCanvasBotId",args:[{kind:"Literal",name:"gateName",value:"poe_web_code_editor_canvas_bot_id"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_web_code_editor_canvas_bot_id")'},{alias:"canvasPreviewUrlOverride",args:[{kind:"Literal",name:"gateName",value:"poe_web_canvas_preview_url_override"}],kind:"ScalarField",name:"stringGate",storageKey:'stringGate(gateName:"poe_web_canvas_preview_url_override")'},{alias:"shouldUseFinishUploadEndpoint",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_finish_upload_endpoint"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_finish_upload_endpoint")'},{alias:"shouldUsePresignedUrl",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload_use_presigned_url"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload_use_presigned_url")'},{alias:"useMessageSendingIcon",args:[{kind:"Literal",name:"gateName",value:"poe_use_message_sending_icon"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_message_sending_icon")'},{alias:"poeEnableMultiUserInvite",args:[{kind:"Literal",name:"gateName",value:"poe_enable_multi_user_invite"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_multi_user_invite")'},{alias:"privateBotQueryAccessEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_bot_query_private_bot_access_enabled"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_bot_query_private_bot_access_enabled")'},{alias:"botQueryDisabledBotIds",args:[{kind:"Literal",name:"gateName",value:"poe_bot_query_disabled_bot_ids"}],kind:"ScalarField",name:"integerArrayGate",storageKey:'integerArrayGate(gateName:"poe_bot_query_disabled_bot_ids")'},h,{alias:"enablePrivacyShieldUpdates",args:[{kind:"Literal",name:"gateName",value:"poe_web_privacy_shield_updates"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_privacy_shield_updates")'},{alias:"shouldHideBotInfoCardWithAutoReplyOff",args:[{kind:"Literal",name:"gateName",value:"poe_hide_bot_info_card_with_auto_reply_off"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_hide_bot_info_card_with_auto_reply_off")'},{alias:"poeWebChatNewScrollBehavior",args:[{kind:"Literal",name:"gateName",value:"poe_web_chat_new_scroll_behavior"}],kind:"ScalarField",name:"stringGate",storageKey:'stringGate(gateName:"poe_web_chat_new_scroll_behavior")'},{alias:"poeHideLeftSideMessageHeaderIfSameSender",args:[{kind:"Literal",name:"gateName",value:"poe_hide_left_side_message_header_if_same_sender"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_hide_left_side_message_header_if_same_sender")'},{alias:"markdownCharacterLimit",args:[{kind:"Literal",name:"gateName",value:"poe_web_markdown_character_limit"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_web_markdown_character_limit")'},{alias:"botMarkdownCharacterLimit",args:[{kind:"Literal",name:"gateName",value:"poe_web_bot_markdown_character_limit"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_web_bot_markdown_character_limit")'},{kind:"ScalarField",name:"promptBotImageDomainWhitelist"},{alias:"enableScriptingCodeReference",args:[{kind:"Literal",name:"gateName",value:"poe_enable_scripting_code_blocks"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_scripting_code_blocks")'},{alias:"enableScriptBotCreation",args:[{kind:"Literal",name:"gateName",value:"poe_web_script_bot_creation"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_script_bot_creation")'},{alias:"enableMessageReplies",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_message_replies"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_message_replies")'},{alias:"messageBranchingEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_message_branching"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_message_branching")'},{kind:"ScalarField",name:"isEligibleForWebSubscriptions"},{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{kind:"ScalarField",name:"isActive"},h,{concreteType:"SubscriptionProduct",kind:"LinkedField",name:"subscriptionProduct",plural:!1,selections:[{kind:"ScalarField",name:"paidSubscriptionPeriod"},h,k]},{alias:"yearlyOptions",args:v,concreteType:"SubscriptionProduct",kind:"LinkedField",name:"subscriptionOptions",plural:!0,selections:C,storageKey:'subscriptionOptions(paidSubscriptionPeriod:"yearly")'},{alias:"monthlyOptions",args:y,concreteType:"SubscriptionProduct",kind:"LinkedField",name:"subscriptionOptions",plural:!0,selections:C,storageKey:'subscriptionOptions(paidSubscriptionPeriod:"monthly")'},{alias:"yearlyInsufficientPointsUpgradeOptions",args:[S,b],concreteType:"SubscriptionProduct",kind:"LinkedField",name:"subscriptionOptions",plural:!0,selections:[k,r,w,I,{alias:"yearlyCost",args:v,kind:"ScalarField",name:"costPerPeriod",storageKey:'costPerPeriod(paidSubscriptionPeriod:"yearly")'},x,P={kind:"ScalarField",name:"includedItemStrings"},L={kind:"ScalarField",name:"webPaymentProcessorString"},h],storageKey:'subscriptionOptions(optionsContext:"insufficient_points",paidSubscriptionPeriod:"yearly")'},{alias:"monthlyInsufficientPointsUpgradeOptions",args:[S,F],concreteType:"SubscriptionProduct",kind:"LinkedField",name:"subscriptionOptions",plural:!0,selections:[k,r,w,I,x,P,L,h],storageKey:'subscriptionOptions(optionsContext:"insufficient_points",paidSubscriptionPeriod:"monthly")'}]},{alias:"poeDebugRegenerateMessage",args:[{kind:"Literal",name:"gateName",value:"poe_debug_regenerate_message"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_debug_regenerate_message")'},{alias:"submitMessageParamsAsDict",args:[{kind:"Literal",name:"gateName",value:"poe_pass_message_params_as_dictionary"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_pass_message_params_as_dictionary")'},{alias:"poeEnableMessageReadReceipts",args:[{kind:"Literal",name:"gateName",value:"poe_enable_message_read_receipts"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_message_read_receipts")'},{alias:"showInteractiveMedia",args:[{kind:"Literal",name:"gateName",value:"poe_enable_user_message_attachments_new_ui"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_user_message_attachments_new_ui")'},{alias:"badgeAtBotMessageCreationEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_badge_at_bot_message_creation"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_badge_at_bot_message_creation")'},{alias:"enableEasierUndoContextClear",args:[{kind:"Literal",name:"gateName",value:"poe_enable_easier_undo_context_clear"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_easier_undo_context_clear")'},{alias:"lastAtMentionEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_add_last_at_mention_to_dropdown"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_add_last_at_mention_to_dropdown")'},{kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement"},{kind:"ScalarField",name:"fileUploadSizeLimits"},{alias:"formattedChatInput",args:[{kind:"Literal",name:"gateName",value:"poe_web_formatted_chat_input"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_formatted_chat_input")'},{alias:"useNewPrivacyCheck",args:[{kind:"Literal",name:"gateName",value:"poe_use_script_privacy_check"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_script_privacy_check")'}]},{kind:"ScalarField",name:"supportedPreviewsContentTypes"},{concreteType:"ExecutableLanguageInfo",kind:"LinkedField",name:"supportedExecutableLanguages",plural:!0,selections:[g,h]}]},params:{id:"4c82777c6bf485ab240dcb25b311ec694131470b28d2c622c29f7eafabd1fb3a",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["chats"]}]},name:"HandleBotLandingPageQuery",operationKind:"query",text:null}});M.hash="03eb0cb6b9af6cf8130c1deb504f5cf1",t.default=M},66690:function(e,t,n){"use strict";var a,i,r,l,s,o;n.r(t);let d=(o=[{kind:"Literal",name:"size",value:"small"}],{fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],kind:"Fragment",name:"HandleBotOptimisticChatHeaderQuery",selections:[{kind:"ClientExtension",selections:[{args:i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHeader_chat"}]}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"HandleBotOptimisticChatHeaderQuery",selections:[{kind:"ClientExtension",selections:[{args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[r={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"isOptimistic"},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"hasMultipleUsers"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"canUserAccessBot"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"ScalarField",name:"displayName"},{kind:"ScalarField",name:"deletionState"},{kind:"LinkedField",name:"picture",plural:!1,selections:s=[l={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:o,kind:"LinkedField",name:"picture",plural:!1,selections:s,storageKey:'picture(size:"small")'},r]},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"ScalarField",name:"membersCount"},{args:[{kind:"Literal",name:"first",value:2}],concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"uid"},{kind:"ScalarField",name:"fullName"},{alias:"smallProfilePhotoUrl",args:o,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'}],type:"PoeUser"},r]},r]}],storageKey:"userMembersConnection(first:2)"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}]}]}]},params:{cacheID:"d940a28fe531437684fe7263121ea42b",id:null,metadata:{},name:"HandleBotOptimisticChatHeaderQuery",operationKind:"query",text:null}});d.hash="ccb42017d2fad2fb8bdc3521c4a4a5bd",t.default=d},85286:function(e,t,n){"use strict";var a,i;n.r(t);let r={argumentDefinitions:[],kind:"Fragment",name:"LoggedOutBotLandingPageInner_bot",selections:[{kind:"ScalarField",name:"description"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_useBotOpengraphProperties_bot"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_useBotTwitterCardProperties_bot"},{kind:"ScalarField",name:"shouldIndexForExternalSearch"},{kind:"FragmentSpread",name:"BotInfoCard_bot"},{kind:"FragmentSpread",name:"ChatPageNavbar_bot"},{kind:"InlineDataFragmentSpread",name:"optimisticChat_createOptimisticChat_bot",selections:[a={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"introduction"},i={kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[{kind:"ScalarField",name:"content"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"language"}]},{kind:"InlineDataFragmentSpread",name:"optimisticMessage_createOptimisticBotMessage_bot",selections:[i,{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_bot",selections:[a,{kind:"FragmentSpread",name:"ChatMessage_bot"},{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"},{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]},{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};r.hash="4957f411230479cc3f8a4ac718be46d6",t.default=r},56021:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"LoggedOutBotLandingPageInner_useBotOpengraphProperties_bot",selections:[{kind:"ScalarField",name:"displayName"},{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"description"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_useProfileImageUrl_bot"},{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};a.hash="89c69d8dc4cd26c240e7fd9fd0716157",t.default=a},20147:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"LoggedOutBotLandingPageInner_useBotTwitterCardProperties_bot",selections:[{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"description"},{kind:"FragmentSpread",name:"LoggedOutBotLandingPageInner_useProfileImageUrl_bot"},{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};a.hash="13905bc2b4c06b5211ee2d16c16e1ac4",t.default=a},89211:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"LoggedOutBotLandingPageInner_useProfileImageUrl_bot",selections:[{kind:"FragmentSpread",name:"BotImage_useProfileImage_bot"}],type:"Bot"};a.hash="e0f9591b7967f7be414cc772e5afef3f",t.default=a},18816:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"LoggedOutBotLandingPageInner_viewer",selections:[{kind:"FragmentSpread",name:"BotInfoCard_viewer"},{kind:"FragmentSpread",name:"ChatPageNavbar_viewer"},{kind:"FragmentSpread",name:"MainNavbarLeftItem_viewer"}],type:"Viewer"};a.hash="ba5fcc4db022fe526267427070287419",t.default=a},45815:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"PaywallContextWrapper_bot",selections:[{kind:"FragmentSpread",name:"WebSubscriptionAnnouncementModalOpener_bot"}],type:"Bot"};a.hash="8bdd078b81c5b18516a17bb7c66e0525",t.default=a},56848:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"PaywallContextWrapper_viewer",selections:[{concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[{kind:"ScalarField",name:"__typename"}]},{kind:"FragmentSpread",name:"WebSubscriptionAnnouncementModalOpener_viewer"},{kind:"FragmentSpread",name:"PaywallOpener_viewer"}],type:"Viewer"};a.hash="af3ee2d2cc529e3d4debb1d2844517bf",t.default=a},1828:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"PaywallOpener_bot",selections:[{kind:"ScalarField",name:"botId"}],type:"Bot"};a.hash="054da9770fdcbc9651c2250b3e9e1380",t.default=a},90665:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"PaywallOpener_viewer",selections:[{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{concreteType:"SubscriptionProduct",kind:"LinkedField",name:"subscriptionProduct",plural:!1,selections:[{kind:"ScalarField",name:"paidSubscriptionPeriod"}]}]}],type:"Viewer"};a.hash="c2cc3c4b4df5f65959cf17c91b70fba2",t.default=a},10962:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"WebSubscriptionAnnouncementModalOpener_bot",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"isCreatedByPoeUserAccount"}],type:"Bot"};a.hash="7419bc47e1519b00c927f4085fb4b0dc",t.default=a},74969:function(e,t,n){"use strict";var a,i,r;n.r(t);let l={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"dismissibleType"}],kind:"Fragment",name:"WebSubscriptionAnnouncementModalOpener_dismissDismissible_Mutation",selections:[{args:i=[{kind:"Variable",name:"dismissibleType",variableName:"dismissibleType"}],concreteType:"DismissDismissible",kind:"LinkedField",name:"dismissDismissible",plural:!1,selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[r={kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement"}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WebSubscriptionAnnouncementModalOpener_dismissDismissible_Mutation",selections:[{args:i,concreteType:"DismissDismissible",kind:"LinkedField",name:"dismissDismissible",plural:!1,selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[r,{kind:"ScalarField",name:"id"}]}]}]},params:{id:"4a5844dcd7e79cd6b2c0bcadebbbf593e85a167b1cab854d5527e6be12c8b468",metadata:{},name:"WebSubscriptionAnnouncementModalOpener_dismissDismissible_Mutation",operationKind:"mutation",text:null}};l.hash="5ef690b09af14848d43e2c77b76aeaad",t.default=l},34932:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"WebSubscriptionAnnouncementModalOpener_viewer",selections:[{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{concreteType:"SubscriptionProduct",kind:"LinkedField",name:"subscriptionProduct",plural:!1,selections:[{kind:"ScalarField",name:"paidSubscriptionPeriod"}]}]},{kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement"},{kind:"ScalarField",name:"creationTime"}],type:"Viewer"};a.hash="2a67522e07cc47915ebc749d1a059501",t.default=a},93857:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"inputHelpers_useIsBotResponding_message",selections:[{kind:"ScalarField",name:"author"},{kind:"ScalarField",name:"state"},{kind:"FragmentSpread",name:"useIsMessageCancelled_message"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"},{kind:"ScalarField",name:"timeoutLevel"}]}],type:"Message"};a.hash="3a48f1adb961832602859305f39d0486",t.default=a},31869:function(e,t,n){"use strict";var a,i,r,l,s,o,d,c,u,m,p,g,h;n.r(t);let _={fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"attachments"},i={defaultValue:null,kind:"LocalArgument",name:"attachmentsToRemove"},r={defaultValue:null,kind:"LocalArgument",name:"fileHashJwts"},l={defaultValue:null,kind:"LocalArgument",name:"originalMessageId"},s={defaultValue:null,kind:"LocalArgument",name:"query"},o={defaultValue:null,kind:"LocalArgument",name:"source"}],kind:"Fragment",name:"messageEditing_editMutation",selections:[{args:d=[{kind:"Variable",name:"attachments",variableName:"attachments"},{kind:"Variable",name:"attachmentsToRemove",variableName:"attachmentsToRemove"},{kind:"Variable",name:"fileHashJwts",variableName:"fileHashJwts"},{kind:"Variable",name:"originalMessageId",variableName:"originalMessageId"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"source",variableName:"source"}],concreteType:"MessageEdgeEdit",kind:"LinkedField",name:"messageEdgeEdit",plural:!1,selections:[c={kind:"ScalarField",name:"status"},u={kind:"ScalarField",name:"statusMessage"},{concreteType:"MessageEdge",kind:"LinkedField",name:"message",plural:!1,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[m={kind:"ScalarField",name:"id"},p={kind:"ScalarField",name:"text"},g={kind:"ScalarField",name:"isEdited"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"FragmentSpread",name:"Attachments_attachment"}]}]}]}]}],type:"MutationRoot"},kind:"Request",operation:{argumentDefinitions:[l,s,o,i,a,r],kind:"Operation",name:"messageEditing_editMutation",selections:[{args:d,concreteType:"MessageEdgeEdit",kind:"LinkedField",name:"messageEdgeEdit",plural:!1,selections:[c,u,{concreteType:"MessageEdge",kind:"LinkedField",name:"message",plural:!1,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[m,p,g,{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[m,{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"},{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},m,{kind:"ScalarField",name:"size"},h={kind:"ScalarField",name:"url"},{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"ScalarField",name:"name"},h,{kind:"ScalarField",name:"attachmentId"},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"MessageAttachment"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"}]}]},m]}]}]},params:{id:"26c45df57011f00053077fbf56dc4f93d54fc4aadc64cfe6e665e903a3445f62",metadata:{},name:"messageEditing_editMutation",operationKind:"mutation",text:null}};_.hash="01c2abf69dad4437fb22025b41c09eaa",t.default=_},75267:function(e,t,n){"use strict";n.r(t);let a={kind:"InlineDataFragment",name:"messageEditing_messageEdgeEdit_viewer"};a.hash="a48d5354a4a1e231e77cc45a424fdae1",t.default=a},67203:function(e,t,n){"use strict";n.r(t);let a={kind:"InlineDataFragment",name:"optimisticChat_createOptimisticChat_bot"};a.hash="0621ed855d33ed90093ed42137ae49f3",t.default=a},19654:function(e,t,n){"use strict";var a,i,r,l,s,o,d,c,u,m,p,g,h,_,f,k,b,v,C,F,y,S,w,I,x,P,L,M,T,B,E,N,j,D,A,O,R,U,V,G,Z,H,K,W,z,q,$,Q,J,X,Y,ee,et,en,ea,ei,er,el,es,eo,ed,ec,eu,em,ep,eg,eh,e_,ef,ek,eb,ev,eC,eF,ey,eS,ew;n.r(t);let eI=(a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],i=[{kind:"Variable",name:"optimisticChatId",variableName:"id"}],l={kind:"ScalarField",name:"isDeleted"},s={kind:"ScalarField",name:"isOptimistic"},o={kind:"ScalarField",name:"title"},d={kind:"ScalarField",name:"__typename"},c={kind:"ScalarField",name:"state"},u={kind:"TypeDiscriminator",abstractKey:"__isCanvasTabInterface"},m={kind:"ScalarField",name:"globalId"},g={kind:"ScalarField",name:"language"},_={kind:"ScalarField",name:"clientNonce"},f={kind:"ScalarField",name:"canvasCode"},w={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[k={kind:"ScalarField",name:"botId"},r={kind:"ScalarField",name:"id"},b={kind:"ScalarField",name:"handle"},v={kind:"ScalarField",name:"viewerIsCreator"},C={kind:"ScalarField",name:"deletionState"},F={kind:"ScalarField",name:"isPromptPublic"},y={kind:"ScalarField",name:"isCanvasOnlyBot"},S={kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[h={kind:"ScalarField",name:"content"},p={kind:"ScalarField",name:"contentType"}]}]},I={kind:"ScalarField",name:"idWhenWasOptimistic"},P={kind:"ScalarField",name:"codeblockIndex"},L={concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[x={kind:"ScalarField",name:"messageId"},r,c]},M={kind:"TypeDiscriminator",abstractKey:"__isNode"},T={kind:"ScalarField",name:"chatId"},E={concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[k,r,{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[B={kind:"ScalarField",name:"viewerIsUser"},r]}]},N={kind:"ScalarField",name:"nickname"},j={kind:"ScalarField",name:"messageTimeoutSecs"},D={kind:"ScalarField",name:"allowsImageAttachments"},A={kind:"ScalarField",name:"isApiBot"},O={kind:"ScalarField",name:"limitedAccessType"},R={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},U={kind:"ScalarField",name:"translatedBotTags"},V={kind:"ScalarField",name:"displayName"},H={kind:"LinkedField",name:"picture",plural:!1,selections:Z=[d,{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[G={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},K={kind:"ScalarField",name:"supportsRemix"},W={kind:"ScalarField",name:"isServerBot"},z={kind:"ScalarField",name:"supportsFileUpload"},q={kind:"ScalarField",name:"customUIDefinition"},J={concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[l,{args:$=[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},Q={kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},r,M]},X={kind:"ScalarField",name:"canUserAccessBot"},Y={kind:"ScalarField",name:"poweredBy"},ee={kind:"ScalarField",name:"chatCode"},et=[x,r],en={kind:"ScalarField",name:"creationTime"},ea={kind:"ScalarField",name:"author"},ei={kind:"ScalarField",name:"timeoutLevel"},er={kind:"ScalarField",name:"textLengthOnCancellation"},el={kind:"ScalarField",name:"jobId"},es=[{kind:"Literal",name:"first",value:2}],eo={kind:"ScalarField",name:"cursor"},ed={concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},ec=[{kind:"Literal",name:"last",value:12}],eu={kind:"ScalarField",name:"uid"},em={kind:"ScalarField",name:"viewerIsFollowing"},ep={alias:"smallProfilePhotoUrl",args:$,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},eg={kind:"ScalarField",name:"text"},eh=[eu,r],e_={kind:"ScalarField",name:"name"},ef={kind:"ScalarField",name:"mimeType"},ek={kind:"InlineFragment",selections:[r],type:"Node",abstractKey:"__isNode"},eb={kind:"ScalarField",name:"reaction"},ev=[{kind:"Literal",name:"first",value:5}],eC=[o],eF={kind:"ScalarField",name:"costBreakdown"},ey={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[k,N,V,r,O,S,R,U,C,H,b,M]},eS={concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[T,r]},{fragment:{argumentDefinitions:a,kind:"Fragment",name:"optimisticChat_retainOptimisticChatNodeQuery",selections:[{kind:"ClientExtension",selections:[{args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[r,{kind:"FragmentSpread",name:"ChatPageColumn_chat"}]}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"optimisticChat_retainOptimisticChatNodeQuery",selections:[{kind:"ClientExtension",selections:[{args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[r,l,s,o,{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[d,r,c,u,o,m,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[p,g,h]},_,f,{kind:"InlineFragment",selections:[s,k,w,I],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[x,P,s,L,I,{kind:"InlineFragment",selections:[M],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"}],type:"MessageCanvasTab"},M]},T,{kind:"ScalarField",name:"canvasTabsCount"},E,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[k,r,b,{kind:"ScalarField",name:"hasMarkdownRendering"},{kind:"ScalarField",name:"introduction"},N,v,{kind:"ScalarField",name:"isTrustedBot"},S,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[h,p,g]},j,D,A,O,R,U,C,V,H,K,W,z,q,{kind:"ScalarField",name:"botCategory"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"followerCount"},{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"model"},{kind:"ScalarField",name:"uploadFileSizeLimit"},{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},{kind:"ScalarField",name:"conversationStarters"},y,{kind:"ScalarField",name:"monthlyActiveUsers"},J,X,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingLabel"}]},{kind:"ScalarField",name:"description"},Y,F,{kind:"ScalarField",name:"shouldHide"},{kind:"ScalarField",name:"isOfficialBot"},{alias:"smallPicture",args:$,kind:"LinkedField",name:"picture",plural:!1,selections:Z,storageKey:'picture(size:"small")'},M]},{concreteType:"Chat",kind:"LinkedField",name:"scriptTestSourceChat",plural:!1,selections:[E,o,ee,T,{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[k,r]},r,d]},ee,{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:et},{kind:"ScalarField",name:"shouldBotAutoRespond"},en,{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[ea,s,c,ei,r,er,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[K,b,r,W,D,z,q,C,k,N,V]}]},{concreteType:"Message",kind:"LinkedField",name:"lastMessageSeenByAllOtherMembers",plural:!1,selections:et},{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[el,{kind:"ScalarField",name:"viewerCanCancel"},r]},{args:es,concreteType:"CanvasTabConnection",kind:"LinkedField",name:"canvasTabsConnection",plural:!1,selections:[{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[d,u,r,c,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[p,g]},{kind:"InlineFragment",selections:[s,x,P,{kind:"InlineFragment",selections:[o,m,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[h]},_,f,{kind:"InlineFragment",selections:[k,w],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[L],type:"MessageCanvasTab"},M],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"}],type:"MessageCanvasTab"},{kind:"InlineFragment",selections:[k],type:"BotCanvasTab"}]},eo,r]},ed,r],storageKey:"canvasTabsConnection(first:2)"},{args:es,handle:"connection",key:"CanvasTabSelector_canvasTabsConnection",kind:"LinkedHandle",name:"canvasTabsConnection"},{args:ec,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[ea,{kind:"ScalarField",name:"isChatAnnouncement"},r,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[eu,r,Q,b,em,l,ep,M]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[k,r,j,D,b,A,N,O,S,R,U,C,V,H,M]},x,en,eg,c,s,_,{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},p,{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"clientMessageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:eh},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[r,{kind:"ScalarField",name:"attachmentId"},e_,G,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[ef,r,{kind:"ScalarField",name:"size"}]},s,{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},G,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"ScalarField",name:"localUrl"}],type:"Attachment",abstractKey:"__isAttachment"}]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[d,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[x,eg,l,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[O,S,R,U,C,V,H,b,r,M]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[r,eu,b,Q,em,l,ep,M]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[e_,G,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[ef,r]}],type:"Attachment",abstractKey:"__isAttachment"},r]}],type:"Message"},ek]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[c,r,el]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[eb,{kind:"ScalarField",name:"count"},r]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:eh},{kind:"ScalarField",name:"hasCitations"},ei,{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},er,{args:ev,concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[eb,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[eu,Q,B,{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},r]},r,d]},eo,r]},ed],storageKey:"reactionsConnection(first:5)"},{args:ev,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},d,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[l],type:"Message"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},M]},r,eo]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},r],storageKey:"messagesConnection(last:12)"},{args:ec,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"LinkedField",name:"displayedChatModal",plural:!1,selections:[d,{kind:"InlineFragment",selections:[T,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[b,O,S,R,U,C,V,H,r,M]},{kind:"LinkedField",name:"budgetIncreaseRequester",plural:!1,selections:[d,{kind:"InlineFragment",selections:[b],type:"Bot"},{kind:"InlineFragment",selections:eC,type:"MessageCanvasTab"},{kind:"InlineFragment",selections:eC,type:"BotCanvasTab"},ek]},{kind:"ScalarField",name:"applicablePointPriceThreshold"},{kind:"ScalarField",name:"totalRequestAmount"},x,eF,{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"messagePointBalance"},r]}],type:"CostThresholdUpdateChatModal"},{kind:"InlineFragment",selections:[T,ey,eS,en],type:"PaywallChatModal"},{kind:"InlineFragment",selections:[T,ey,eS,en,ew={kind:"ScalarField",name:"messageCostAmount"},eF],type:"PointLimitPaywallChatModal"},{kind:"InlineFragment",selections:[T,en,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[O,S,R,U,C,V,H,b,r,k,N,M]},ew,eF],type:"SubscriberPointLimitChatModal"},{kind:"InlineFragment",selections:[eS,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[k,r,Y,C,V,H,b,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingType"},{kind:"ScalarField",name:"standardMessagePrice"}]},S,J,X]},{kind:"ScalarField",name:"isPrivateDeletedBotsChangesEnabled"}],type:"AddBotChatModal"},ek]},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"ScalarField",name:"membersCount"},{args:es,concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[d,{kind:"InlineFragment",selections:[eu,Q,ep],type:"PoeUser"},r]},r]}],storageKey:"userMembersConnection(first:2)"},M]}]}]},params:{cacheID:"c19fe4484d1dd694e6afa104a9bc9b09",id:null,metadata:{},name:"optimisticChat_retainOptimisticChatNodeQuery",operationKind:"query",text:null}});eI.hash="b9cc70a104c6b134e77f415ed673d2e9",t.default=eI},37446:function(e,t,n){"use strict";n.r(t);let a={kind:"InlineDataFragment",name:"useFileUpload_addAttachments"};a.hash="dae988534f0ac4a322875d2c8b59b40d",t.default=a},28333:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"useFileUpload_bot",selections:[{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"handle"}],type:"Bot"};a.hash="3e5058f644d26d8e7088bb2a90578331",t.default=a},70827:function(e,t,n){"use strict";n.r(t);let a={kind:"InlineDataFragment",name:"useFileUpload_chat"};a.hash="93a66caca5202b6acf1ddbf20f156c46",t.default=a},16641:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"useFileUpload_viewer",selections:[{kind:"ScalarField",name:"fileUploadSizeLimits"}],type:"Viewer"};a.hash="86e274eced5cdcda3471d7240431b1a1",t.default=a},69514:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"useIsMessageCancelled_message",selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"state"},{kind:"ScalarField",name:"textLengthOnCancellation"}],type:"Message"};a.hash="88dfbf47fb5c19213d0650643aefb4d1",t.default=a},16795:function(e,t,n){"use strict";var a,i,r,l,s,o,d,c;n.r(t);let u={fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"chatCode"},i={defaultValue:null,kind:"LocalArgument",name:"currentPartialHandle"},r={defaultValue:null,kind:"LocalArgument",name:"fullChatInput"},l={defaultValue:null,kind:"LocalArgument",name:"hasChat"}],kind:"Fragment",name:"useMentionedBotsInputsQuery",selections:[{args:[s={kind:"Variable",name:"chatCode",variableName:"chatCode"},o={kind:"Variable",name:"currentPartialHandle",variableName:"currentPartialHandle"},{kind:"Variable",name:"fullChatInput",variableName:"fullChatInput"},{kind:"Variable",name:"hasChat",variableName:"hasChat"}],kind:"FragmentSpread",name:"MentionedBotsResults_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:[a,l,r,i],kind:"Operation",name:"useMentionedBotsInputsQuery",selections:[{args:[o,{kind:"Variable",name:"query",variableName:"fullChatInput"}],kind:"LinkedField",name:"mentionedBots",plural:!0,selections:[d={kind:"ScalarField",name:"__typename"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"supportsRemix"},c={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"isServerBot"},{kind:"ScalarField",name:"allowsImageAttachments"},{kind:"ScalarField",name:"supportsFileUpload"},{kind:"ScalarField",name:"customUIDefinition"},{kind:"ScalarField",name:"deletionState"},{kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"displayName"},{kind:"ScalarField",name:"introduction"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[{kind:"ScalarField",name:"content"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"language"}]},{kind:"ScalarField",name:"messageTimeoutSecs"},{kind:"ScalarField",name:"isApiBot"},{kind:"ScalarField",name:"limitedAccessType"},{kind:"ScalarField",name:"shouldHideLimitedAccessTag"},{kind:"ScalarField",name:"translatedBotTags"},{kind:"LinkedField",name:"picture",plural:!1,selections:[d,{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{condition:"hasChat",kind:"Condition",passingValue:!0,selections:[{args:[s],kind:"ScalarField",name:"isInChat"}]},{kind:"TypeDiscriminator",abstractKey:"__isNode"}],type:"Bot"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"botHandle"}],type:"MentionedBotDoesNotExistQuery"},{kind:"InlineFragment",selections:[c],type:"Node",abstractKey:"__isNode"}]}]},params:{id:"6fb81c76162cce33770988fd687dd93feb357cb4c1ae82a6340279659dcc28aa",metadata:{},name:"useMentionedBotsInputsQuery",operationKind:"query",text:null}};u.hash="073e844509003b0f6d757d414e25b1c4",t.default=u},75557:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"useMentionedBotsInputs_chat",selections:[{kind:"ScalarField",name:"chatCode"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}],type:"Chat"};a.hash="0a05ac4271bcd76b41ff49dd7a4b4904",t.default=a},23840:function(e,t,n){"use strict";n.r(t);let a={kind:"InlineDataFragment",name:"useMultibotAtMention_selectBot"};a.hash="0314cd632f900e2880f8d691274bc397",t.default=a},54599:function(e,t,n){"use strict";n.r(t);let a={argumentDefinitions:[],kind:"Fragment",name:"usePreviewIframeUrl_viewer",selections:[{alias:"canvasPreviewUrlOverride",args:[{kind:"Literal",name:"gateName",value:"poe_web_canvas_preview_url_override"}],kind:"ScalarField",name:"stringGate",storageKey:'stringGate(gateName:"poe_web_canvas_preview_url_override")'}],type:"Viewer"};a.hash="960cb9b7b7cd5941c35bace019791e7f",t.default=a},31910:function(e,t,n){"use strict";var a=n(85893),i=n(67294),r=n(22120),l=n(12251),s=n(61936),o=n(15901),d=n.n(o),c=n(8583);t.Z=e=>{let{fileHandlerRef:t,isInsideRelativeContainer:n=!1}=e,o=(0,i.useRef)(null),u=(0,c.ZP)(),{t:m}=(0,r.$G)(),p=(0,i.useCallback)(e=>{var n;if(!t.current)return;let a=Array.from((null===(n=e.dataTransfer)||void 0===n?void 0:n.files)||[]),i=(0,s.w)(e);if(i.length>0){u({type:c.pC.error,content:m("A file or files you selected would not upload because it is actually a package of files. Please compress the package and upload as a .zip file.")});return}a.length&&t.current.handleFiles(a)},[t,u,m]),{isDropTargetDraggingOver:g,isDocumentDraggingOver:h}=(0,s.Y)(o,p);return(0,a.jsx)("div",{ref:o,className:(0,l.$)(d().dropTarget,n&&d().isInsideRelativeContainer),"data-visible":h,"data-active":g,children:m("Drop files here")})}},41012:function(e,t,n){"use strict";n.d(t,{WF:function(){return CustomUIMenu},$b:function(){return CustomUIMenuOverlay},qo:function(){return PopoverContextProvider},ZP:function(){return inputFooter_ChatMessageCustomUIButton}});var a=n(85893),i=n(94370),r=n(67172),l=n(67294),s=n(22120),o=n(49460),d=n(38401),c=n(13239),u=n.n(c),aspectRatio_AspectRatioControl=e=>{let{value:t,defaultValue:n,aspectRatios:i,onValueChange:r}=e,s=l.useMemo(()=>i.sort((e,t)=>t.width/t.height-e.width/e.height),[i]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:u().container,children:(0,a.jsxs)(d.UG,{value:t,defaultValue:n,onValueChange:r,type:"radio",className:u().toggleGroup,children:[s.map((e,t)=>(0,a.jsxs)(d.GB,{value:e.value||"".concat(e.width,":").concat(e.height),className:u().toggleGroupButton,children:[(0,a.jsx)(AspectRatioPreview,{width:e.width,height:e.height}),e.width,":",e.height]},t)),s.length%3!=0&&(0,a.jsx)("div",{className:u().toggleGroupSpacer})]})})})};let AspectRatioPreview=e=>{let{width:t,height:n}=e,i=l.useMemo(()=>({width:t>=n?"100%":"".concat(t/n*100,"%"),height:t>=n?"".concat(n/t*100,"%"):"100%"}),[t,n]);return(0,a.jsx)("div",{className:u().aspectRatioPreviewContainer,children:(0,a.jsx)("div",{className:u().aspectRatioPreview,style:i})})};var m=n(67265),p=n(21054),g=n(78410),h=n(12251),_=n(61936),f=n(97554),k=n.n(f),b=n(65858),v=n.n(b);let AttachmentBubble=e=>{let{file:t,index:n,onDismiss:i}=e,r=(0,l.useCallback)(()=>{i(n)},[i,n]);return(0,a.jsx)(m.Z,{className:v().attachment,onDismiss:r,children:(0,a.jsx)(p.ZP,{file:t})})};var filePicker_FilePickerControl=e=>{let{attachedFiles:t,allowMultipleFiles:n,addFile:r,removeFile:d}=e,{t:c}=(0,s.$G)(),u=t.length>0,m=(0,o.ac)(k()["compact-only"]),p=!u||n,f=(0,l.useCallback)(e=>{var t;if(e.preventDefault(),!p)return;let n=null===(t=e.dataTransfer)||void 0===t?void 0:t.files;if(n&&n.length>0){let e=n[0];r(e)}},[r,p]),b=(0,l.useRef)(null),{isDropTargetDraggingOver:C,isDocumentDraggingOver:F}=(0,_.Y)(b,f),y=(0,l.useCallback)(e=>{let t=e.target.files;if(t&&t.length>0){let n=t[0];e.target.value="",r(n)}},[r]),S=(0,l.useRef)(null),w=(0,l.useCallback)(()=>{var e;null==S||null===(e=S.current)||void 0===e||e.click()},[]),I=p&&F,x=p&&C,P=u&&n,L=!u||I,M=c(F||u?"Drop a file here":m?"Add a file":"Add or drop a file");return(0,a.jsxs)("div",{ref:b,className:(0,h.$)(v().dropZone,u?v().dropZoneWithFiles:v().dropZoneEmpty),"data-visible":I,"data-active":x,onClick:u?void 0:w,role:"button",tabIndex:0,children:[(0,a.jsx)("input",{className:v().fileInput,ref:S,type:"file",onChange:y}),u?(0,a.jsxs)("div",{className:v().attachmentsBar,children:[t.map((e,t)=>(0,a.jsx)(AttachmentBubble,{index:t,file:e,onDismiss:d},t)),P&&!F?(0,a.jsx)(g.Z,{as:"button",size:"md",theme:"secondary",showIconOnly:"always",iconLeft:(0,a.jsx)(i.SC,{}),onClick:w,"data-button-file-input":!0}):null]}):null,(0,a.jsxs)("div",{"data-visible":L,className:u?v().instructionBar:v().instructionBarEmpty,children:[(0,a.jsx)(i.SC,{size:"sm"}),M]})]})},C=n(92087),F=n(53919),y=n(19897),S=n(79132),w=n(21186),I=n(17371),x=n(46272),P=n(21900),L=n(1261),M=n(84684),T=n(75241),B=n(30204),E=n(94257),N=n.n(E);let defaultValueForControl=(e,t)=>{"condition"==e.control?e.controls.forEach(e=>{defaultValueForControl(e,t)}):"text_field"==e.control?t[e.parameter_name]=e.default_value||"":"text_area"==e.control?t[e.parameter_name]=e.default_value||"":"number_field"==e.control?t[e.parameter_name]="number"==typeof e.default_value?e.default_value.toString():"":"drop_down"==e.control?t[e.parameter_name]=e.default_value||"":"slider"==e.control?t[e.parameter_name]="number"==typeof e.default_value?e.default_value:e.min_value:"toggle_switch"==e.control?t[e.parameter_name]=!!e.default_value:"aspect_ratio"==e.control?t[e.parameter_name]=e.default_value||"":"file_picker"==e.control&&(t[e.parameter_name]=0)},defaultValuesForTab=(e,t)=>{e.controls.forEach(e=>{defaultValueForControl(e,t)})},defaultValuesForSection=(e,t)=>{let n=e.controls||[],a=e.tabs||[];n.forEach(e=>{defaultValueForControl(e,t)}),a.forEach(e=>{defaultValuesForTab(e,t)})},defaultValuesForDefinition=e=>{let t={};return e.sections.forEach(e=>{defaultValuesForSection(e,t)}),t};let IdCounter=class IdCounter{count(){return this.counter++,this.counter.toString()}constructor(){this.counter=-1}};let assignIdentifiersToBaseControl=(e,t)=>({...e,id:t.count()}),assignIdentifiersToControl=(e,t)=>{if("condition"!=e.control)return assignIdentifiersToBaseControl(e,t);{let n=[];return e.controls.forEach(e=>{n.push(assignIdentifiersToBaseControl(e,t))}),{...e,controls:n}}},assignIdentifiersToTab=(e,t)=>{let n=[];return e.controls.forEach(e=>{n.push(assignIdentifiersToControl(e,t))}),{...e,controls:n}},assignIdentifiersToSection=(e,t)=>{if(e.controls){let n=[];return e.controls.forEach(e=>{n.push(assignIdentifiersToControl(e,t))}),{...e,controls:n}}{let n=[];return e.tabs.forEach(e=>{n.push(assignIdentifiersToTab(e,t))}),{...e,tabs:n}}},assignIdentifiersToDefinition=e=>{let t=new IdCounter,n=[];return e.sections.forEach(e=>{n.push(assignIdentifiersToSection(e,t))}),{...e,sections:n}},CustomUITextField=e=>{let{control:t,formState:n,updateParameterValue:i,isConditionallyRendered:r}=e,s=t.parameter_name,o=n[s],d=t.placeholder||"",c=t.description?t.description:void 0,u=(0,l.useCallback)(e=>{i(s,e.target.value,t.id)},[i,s,t.id]);return(0,a.jsxs)("div",{className:(0,h.$)(N().component,r?N().conditionallyRendered:null),children:[(0,a.jsx)(w.Z,{className:N().componentLabel,description:c,children:t.label}),(0,a.jsx)(T.Z,{value:o&&"string"==typeof o?o:"",onChange:u,placeholder:d})]})},CustomUINumberField=e=>{let{control:t,formState:n,updateParameterValue:i,isConditionallyRendered:r}=e,s=t.parameter_name,o=n[s],d=t.placeholder||"",c=t.description?t.description:void 0,u=(0,l.useCallback)(e=>{i(s,e.target.value,t.id)},[i,s,t.id]);return(0,a.jsxs)("div",{className:(0,h.$)(N().component,r?N().conditionallyRendered:null),children:[(0,a.jsx)(w.Z,{className:N().componentLabel,description:c,children:t.label}),(0,a.jsx)(T.Z,{value:o&&"string"==typeof o?o:"",onChange:u,placeholder:d})]})},CustomUITextArea=e=>{let{control:t,formState:n,updateParameterValue:i,isConditionallyRendered:r}=e,s=t.parameter_name,o=n[s],d=t.placeholder||"",c=t.description?t.description:void 0,u=(0,l.useCallback)(e=>{i(s,e.target.value,t.id)},[i,s,t.id]);return(0,a.jsxs)("div",{className:(0,h.$)(N().component,r?N().conditionallyRendered:null),children:[(0,a.jsx)(w.Z,{className:N().componentLabel,description:c,children:t.label}),(0,a.jsx)(M.Z,{value:o&&"string"==typeof o?o:"",onChange:u,placeholder:d})]})},CustomUIDropDown=e=>{let{control:t,formState:n,updateParameterValue:i,isConditionallyRendered:r}=e,{t:o}=(0,s.$G)(),d=t.parameter_name,c=n[d],u=t.default_value,m=(0,l.useCallback)(e=>{i(d,e.target.value,t.id)},[i,d,t.id]),p=t.description?t.description:void 0;return(0,a.jsxs)("div",{className:(0,h.$)(N().component,r?N().conditionallyRendered:null),children:[(0,a.jsx)(w.Z,{className:N().componentLabel,description:p,children:t.label}),(0,a.jsx)(S.Z,{value:c&&"string"==typeof c?c:"",onChange:m,placeholder:u?void 0:o("None"),children:t.options.map(e=>(0,a.jsx)("option",{value:e.value,children:e.name},e.value))})]})},CustomUIToggleSwitch=e=>{let{control:t,formState:n,updateParameterValue:i,isConditionallyRendered:r}=e,s=t.parameter_name,o=n[s],d=t.description?t.description:void 0,c=(0,l.useCallback)(e=>{i(s,e.target.checked,t.id)},[i,s,t.id]);return(0,a.jsxs)("div",{className:(0,h.$)(N().toggleSwitch,r?N().conditionallyRendered:null),children:[(0,a.jsx)(w.Z,{className:N().componentLabel,description:d,children:t.label}),(0,a.jsx)(P.Z,{isChecked:!!o&&"boolean"==typeof o&&o,onChange:c})]})},CustomUISlider=e=>{let{control:t,formState:n,updateParameterValue:i,isConditionallyRendered:r}=e,s=t.parameter_name,o=n[s],d="number"==typeof o?o:t.min_value,c=t.description?t.description:void 0,u=(0,l.useMemo)(()=>[d],[d]),m=(0,l.useCallback)(e=>{i(s,e[0],t.id)},[i,s,t.id]);return(0,a.jsxs)("div",{className:(0,h.$)(N().component,r?N().conditionallyRendered:null),children:[(0,a.jsx)(w.Z,{className:N().componentLabel,description:c,children:t.label}),(0,a.jsx)(x.i,{value:u,min:t.min_value,max:t.max_value,step:t.step,output:"thumb",onValueChange:m})]})},CustomUIAspectRatio=e=>{let{control:t,formState:n,updateParameterValue:i,isConditionallyRendered:r}=e,s=t.parameter_name,o=n[s],d=t.description?t.description:void 0,c=(0,l.useCallback)(e=>{i(s,e,t.id)},[i,s,t.id]);return(0,a.jsxs)("div",{className:(0,h.$)(N().component,r?N().conditionallyRendered:null),children:[(0,a.jsx)(w.Z,{className:N().componentLabel,description:d,children:t.label}),(0,a.jsx)(aspectRatio_AspectRatioControl,{aspectRatios:t.options,value:o&&"string"==typeof o?o:"",onValueChange:c})]})},CustomUIFilePicker=e=>{let{control:t,formState:n,messageContext:i,updateParameterValue:r,isConditionallyRendered:s}=e,o=t.parameter_name,d=n[o],c=d&&"number"==typeof d?d:0,u=t.description?t.description:void 0,m=i.attachments[o]||[],p=(0,l.useCallback)(e=>{i.addAttachments(o,[e]),r(o,c+1,t.id)},[i,r,o,c,t.id]),g=(0,l.useCallback)(e=>{i.removeAttachment(o,e),r(o,c-1,t.id)},[i,o,c,r,t.id]);return(0,a.jsxs)("div",{className:(0,h.$)(N().component,s?N().conditionallyRendered:null),children:[(0,a.jsx)(w.Z,{className:N().componentLabel,description:u,children:t.label}),(0,a.jsx)(filePicker_FilePickerControl,{attachedFiles:m,allowMultipleFiles:t.allow_multiple_files,addFile:p,removeFile:g})]})},evaluateValueLookup=(e,t)=>"literal"in e?e.literal:"parameter_name"in e?t[e.parameter_name]:void 0,removeNullAndUndefined=e=>void 0===e?0:null===e?0:e,evaluateCondition=(e,t)=>{let n=removeNullAndUndefined(evaluateValueLookup(e.left,t)),a=removeNullAndUndefined(evaluateValueLookup(e.right,t));switch(e.comparator){case"equals":case"eq":return n===a;case"ne":return n!==a;case"gt":return n>a;case"ge":return n>=a;case"lt":return n<a;case"le":return n<=a}},CustomConditionallyRenderedControls=e=>{let{control:t,formState:n,messageContext:i,updateParameterValue:r}=e,s=(0,l.useMemo)(()=>evaluateCondition(t.condition,n),[t,n]),o=l.useRef(s);return(l.useEffect(()=>{o.current=s},[s]),s)?(0,a.jsx)(a.Fragment,{children:t.controls.map((e,t)=>(0,a.jsx)(CustomUIControl,{control:e,formState:n,messageContext:i,updateParameterValue:r,isConditionallyRendered:s&&!1===o.current},t))}):null},CustomUIControl=e=>{let{control:t,formState:n,messageContext:i,updateParameterValue:r,isConditionallyRendered:l}=e;switch(t.control){case"divider":return(0,a.jsx)(F.Z,{});case"text_field":return(0,a.jsx)(CustomUITextField,{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:l});case"text_area":return(0,a.jsx)(CustomUITextArea,{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:l});case"number_field":return(0,a.jsx)(CustomUINumberField,{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:l});case"drop_down":return(0,a.jsx)(CustomUIDropDown,{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:l});case"toggle_switch":return(0,a.jsx)(CustomUIToggleSwitch,{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:l});case"slider":return(0,a.jsx)(CustomUISlider,{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:l});case"condition":return(0,a.jsx)(CustomConditionallyRenderedControls,{control:t,formState:n,messageContext:i,updateParameterValue:r});case"aspect_ratio":return(0,a.jsx)(CustomUIAspectRatio,{control:t,formState:n,updateParameterValue:r,isConditionallyRendered:l});case"file_picker":return i.featureFlags.attachments?(0,a.jsx)(CustomUIFilePicker,{control:t,formState:n,messageContext:i,updateParameterValue:r,isConditionallyRendered:l}):null;default:return null}},CustomUITab=e=>{let{tab:t,formState:n,messageContext:i,updateParameterValue:r}=e;return(0,a.jsx)("div",{className:N().controlsContainer,children:t.controls.map((e,t)=>(0,a.jsx)(CustomUIControl,{control:e,formState:n,messageContext:i,updateParameterValue:r,isConditionallyRendered:!1},t))})},CustomUISectionWithControls=e=>{let{section:t,formState:n,messageContext:i,updateParameterValue:r}=e;return(0,a.jsx)(a.Fragment,{children:t.controls.map((e,t)=>(0,a.jsx)(CustomUIControl,{control:e,formState:n,messageContext:i,updateParameterValue:r,isConditionallyRendered:!1},t))})},CustomUITabButton=e=>{let{isActive:t,tabIndex:n,name:i,updateCurrentTab:r}=e,s=(0,l.useCallback)(()=>{r(n)},[r,n]);return(0,a.jsx)(L.O,{isActive:t,onClick:s,children:i})},CustomUISectionWithTabs=e=>{let{section:t,formState:n,messageContext:i,updateParameterValue:r}=e,[s,o]=(0,l.useState)(0),d=(0,l.useCallback)(e=>{o(e)},[o]),c=t.tabs[s];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.m,{className:N().tabsHeader,children:t.tabs.map((e,t)=>(0,a.jsx)(CustomUITabButton,{name:e.name,isActive:t==s,tabIndex:t,updateCurrentTab:d},t))}),(0,a.jsx)(CustomUITab,{tab:c,formState:n,messageContext:i,updateParameterValue:r})]})},CustomUISection=e=>{let{section:t,formState:n,messageContext:i,updateParameterValue:r}=e,l=!t.collapsed_by_default;return(0,a.jsxs)(C.MV,{className:(0,h.$)("max-w-md",l?null:N().collapsibleCard),defaultOpen:l,open:!!l||void 0,scrollIntoView:!0,children:[(0,a.jsxs)(C.yM,{className:l?N().headerNotInteractive:void 0,children:[(0,a.jsx)(B.Ac,{fontWeight:"bold",children:t.name}),l?null:(0,a.jsx)(C.e2,{})]}),(0,a.jsx)(C.et,{children:(0,a.jsx)("div",{className:N().controlsContainer,children:t.controls?(0,a.jsx)(CustomUISectionWithControls,{section:t,formState:n,messageContext:i,updateParameterValue:r}):(0,a.jsx)(CustomUISectionWithTabs,{section:t,formState:n,messageContext:i,updateParameterValue:r})})})]})},CustomUITopLevel=e=>{let{customUI:t,formState:n,messageContext:r,updateParameterValue:l,clearMenuState:d}=e,{t:c}=(0,s.$G)(),u=(0,o.ac)("(min-width: 769px)"),m=u&&t.sections.length>1;return(0,a.jsxs)("div",{className:N().customUITopLevelContainer,children:[m?(0,a.jsxs)("div",{className:N().columnsContainer,children:[(0,a.jsx)("div",{className:N().topLevelContainerColumnLeft,children:t.sections.filter((e,t)=>t%2==0).map((e,t)=>(0,a.jsx)(CustomUISection,{section:e,formState:n,messageContext:r,updateParameterValue:l},2*t))}),(0,a.jsx)("div",{className:N().topLevelContainerColumnRight,children:t.sections.filter((e,t)=>t%2==1).map((e,t)=>(0,a.jsx)(CustomUISection,{section:e,formState:n,messageContext:r,updateParameterValue:l},2*t+1))})]}):t.sections.map((e,t)=>(0,a.jsx)(CustomUISection,{section:e,formState:n,messageContext:r,updateParameterValue:l},t)),(0,a.jsx)(g.Z,{className:N().resetButton,as:"button",theme:"ghost",size:"sm",onClick:d,iconLeft:(0,a.jsx)(i.tr,{}),children:c("Reset all")})]})},allVisibleControls=(e,t,n)=>{"condition"==n.control?evaluateCondition(n.condition,e)&&n.controls.forEach(n=>{allVisibleControls(e,t,n)}):"parameter_name"in n&&(t[n.id]=!0)},allVisibleControlsForTab=(e,t,n)=>{n.controls.forEach(n=>{allVisibleControls(e,t,n)})},allVisibleControlsForSection=(e,t,n)=>{let a=n.controls||[],i=n.tabs||[];a.forEach(n=>{allVisibleControls(e,t,n)}),i.forEach(n=>{allVisibleControlsForTab(e,t,n)})},allVisibleControlsForDefinition=(e,t)=>{let n={};return e.sections.forEach(e=>{allVisibleControlsForSection(t,n,e)}),n},filterNonVisibleBoundControlsFromState=(e,t,n,a)=>{let i=Object.keys(t);i.forEach(i=>{if(!n[i]){let n=t[i];delete e[n],delete t[i],a(n)}})},removeMenuStateForHiddenControls=(e,t,n,a,i)=>{let r,l;do{r=Object.keys(t);let s={...a,...e},o=allVisibleControlsForDefinition(n,s);filterNonVisibleBoundControlsFromState(e,t,o,i),l=Object.keys(t)}while(l.length<r.length)},CustomUIMenu=e=>{let{customUIDefinition:t,customUIMenuState:n,messageContext:i,updateCustomUIMenuState:r}=e,s=(0,l.useMemo)(()=>JSON.parse(t),[t]),o=(0,l.useMemo)(()=>defaultValuesForDefinition(s),[s]),d=(0,l.useMemo)(()=>assignIdentifiersToDefinition(s),[s]),c=n.parameters,u=n.bindings,m=(0,l.useMemo)(()=>({...o,...c}),[o,c]),p=(0,l.useCallback)((e,t,n)=>{let a={...c},l={...u};void 0===t?(delete a[e],delete l[n]):t===o[e]?(delete a[e],delete l[n]):(a[e]=t,l[n]=e),removeMenuStateForHiddenControls(a,l,d,o,i.removeParamAttachments),r({parameters:a,bindings:l})},[d,o,c,r,u,i.removeParamAttachments]),g=(0,l.useCallback)(()=>{r({parameters:{},bindings:{}}),i.clearAttachments()},[i,r]),h=(0,l.useCallback)(e=>{e.stopPropagation()},[]);return(0,a.jsx)("div",{onClick:h,children:(0,a.jsx)(CustomUITopLevel,{customUI:d,formState:m,messageContext:i,updateParameterValue:p,clearMenuState:g})})},CustomUIMenuOverlay=e=>{let{children:t,customUIDefinition:n,customUIMenuState:i,messageContext:r,updateCustomUIMenuState:s,logOpen:d,overlaySize:c="reference"}=e,u=(0,o.ac)("(min-width: 769px)"),[m,p]=l.useState(!1),g=l.useContext(j),h=(0,l.useCallback)(e=>{p(e),e&&d()},[p,d]),_=null==g?void 0:g.anchorRef,f=null==g?void 0:g.dismissAction;return(l.useEffect(()=>{f&&m&&(f.current=()=>p(!1))},[f,p,m]),u)?(0,a.jsxs)(I.Pg,{open:m,onOpenChange:h,anchorRef:_,modal:!1,distance:2,children:[(0,a.jsx)(I.xo,{children:t}),(0,a.jsx)(I.jl,{size:c,arrow:!1,children:(0,a.jsx)(I.yk,{inset:"sm",children:(0,a.jsx)(I.b,{children:(0,a.jsx)(CustomUIMenu,{customUIDefinition:n,customUIMenuState:i,messageContext:r,updateCustomUIMenuState:s})})})})]}):(0,a.jsxs)(y.jz,{open:m,onOpenChange:p,children:[(0,a.jsx)(y.Qz,{children:t}),(0,a.jsxs)(y.P1,{children:[(0,a.jsx)(y.sc,{children:(0,a.jsx)(y.Ng,{children:(0,a.jsx)(CustomUIMenu,{customUIDefinition:n,customUIMenuState:i,messageContext:r,updateCustomUIMenuState:s})})}),(0,a.jsx)(y.uh,{})]})]})},j=l.createContext(null),PopoverContextProvider=e=>{let{children:t,anchorRef:n,dismissAction:i}=e,r=(0,l.useMemo)(()=>({dismissAction:i,anchorRef:n}),[n,i]);return(0,a.jsx)(j.Provider,{value:r,children:t})};var inputFooter_ChatMessageCustomUIButton=e=>{let{customUIDefinition:t,customUIMenuState:n,messageContext:o,updateCustomUIMenuState:d,logOpen:c,displayLabel:u,popoverOverlaySize:m}=e,[p,h]=(0,l.useState)(null),{t:_}=(0,s.$G)(),f=_("Additional input"),k=0===Object.keys(n.parameters).length;return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(CustomUIMenuOverlay,{customUIDefinition:t,customUIMenuState:n,messageContext:o,updateCustomUIMenuState:d,logOpen:c,overlaySize:m,children:(0,a.jsx)(g.Z,{as:"button",ref:h,className:N().button,size:"sm",theme:u?"outline":"ghost",showIconOnly:u?void 0:"always",iconLeft:(0,a.jsx)(i.OP,{}),"aria-label":f,"data-button-custom-ui":!0,"data-custom-menu-state-empty":k,children:u&&_("Parameters")})}),(0,a.jsx)(r.u,{anchorRef:p,label:f,placement:"top"})]}):null}},36809:function(e,t,n){"use strict";n.d(t,{Z:function(){return eI}});var a,i,r=n(85893),l=n(67172),s=n(5152),o=n.n(s),d=n(67294),c=n(22578),u=n(54344),m=n(41578),p=n(22641),g=n(8583),h=n(75014),_=n(19156),f=n(15117),k=n(42093),b=n(12251),v=n(9729),C=n(46932),F=n(41149),y=n(23595),S=n(68374),w=n(64516),I=n(48556),x=n.n(I),P=n(30038),L=n(23738),M=n(82306),T=n(94370),B=n(22120),E=n(78410),inputFooter_ChatMessageCancelButton=e=>{let{className:t,...n}=e,{t:a}=(0,B.$G)(),[i,s]=(0,d.useState)(null),o=a("Cancel");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.Z,{as:"button",ref:s,className:t,size:"sm",showIconOnly:"always",iconLeft:(0,r.jsx)(T.bM,{}),"aria-label":o,theme:"secondary",isDisabled:n.isDisabled,...n}),(0,r.jsx)(l.u,{anchorRef:i,label:o,placement:"top"})]})},N=n(41012),j=n(41248),D=n.n(j);let A=(0,d.forwardRef)(e=>{let{onFileUpload:t,...n}=e,a=(0,d.useRef)(null),{t:i}=(0,B.$G)(),s=(0,d.useCallback)(()=>{var e;null==a||null===(e=a.current)||void 0===e||e.click()},[]),o=(0,d.useCallback)(e=>{if(e.target.files){let n=Array.from(e.target.files);e.target.value="",t(n)}},[t]),[c,u]=(0,d.useState)(null),m=i("Select attachment");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(E.Z,{as:"button",ref:u,size:"sm",theme:"ghost",showIconOnly:"always",iconLeft:(0,r.jsx)(T.SC,{}),"aria-label":m,isDisabled:n.isDisabled,onClick:s,"data-button-file-input":!0}),(0,r.jsx)(l.u,{anchorRef:c,label:m,placement:"top"})]}),(0,r.jsx)("input",{className:D().input,ref:a,type:"file",multiple:!0,onChange:o})]})});A.displayName="ChatMessageFileInputButton";var O=n(67265),R=n(21054),U=n(48675),V=n(14813),G=n(96522),Z=n.n(G);let ChatMessageInputAttachment=e=>{let{file:t,index:a,onDismiss:i}=e,l=(0,d.useCallback)(()=>{i(a)},[i,a]),s=(0,V.J$)(n(71745),t);return(0,r.jsx)(O.Z,{className:Z().attachment,onDismiss:l,children:(0,r.jsx)(R.ZP,{file:s})})};var inputFooter_ChatMessageInputAttachments=e=>{let{files:t,onFileRemoved:a}=e,i=(0,d.useCallback)(e=>{a(e)},[a]),l=(0,V.mj)(n(79315),t),s=function(){let e=(0,d.useRef)(0),t=(0,d.useRef)(new WeakMap),n=(0,d.useCallback)(n=>(t.current.has(n)||t.current.set(n,e.current++),t.current.get(n)),[]);return n}();return t.length?(0,r.jsx)(U.Z,{className:Z().container,children:l.map((e,t)=>(0,r.jsx)(ChatMessageInputAttachment,{file:e,index:t,onDismiss:i},s(e)))}):null},inputFooter_ChatMessageSendButton=e=>{let{className:t,isEditing:n,...a}=e,{t:i}=(0,B.$G)(),[s,o]=(0,d.useState)(null),c=i("Send message");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.Z,{as:"button",ref:o,className:t,size:"sm",showIconOnly:"always",iconLeft:n?(0,r.jsx)(T.DL,{}):(0,r.jsx)(T.Kq,{}),"aria-label":c,theme:a.isDisabled?"ghost":"primary",isDisabled:a.isDisabled,"data-button-send":!0,...a}),(0,r.jsx)(l.u,{anchorRef:s,label:c,placement:"top"})]})},H=n(96265),K=n.n(H);let useValueChangeListeners=e=>{let t=(0,d.useRef)([]),n=(0,d.useCallback)(e=>{t.current.forEach(t=>t(e))},[]),a=(0,d.useCallback)(e=>{n(e.target.value)},[n]),i=(0,d.useCallback)(n=>{if(t.current.push(n),1===t.current.length){var i;null===(i=e.current)||void 0===i||i.addEventListener("input",a)}},[e,a]),r=(0,d.useCallback)(n=>{if(t.current=t.current.filter(e=>e!==n),0===t.current.length){var i;null===(i=e.current)||void 0===i||i.removeEventListener("input",a)}},[e,a]);return(0,d.useEffect)(()=>()=>{var t;null===(t=e.current)||void 0===t||t.removeEventListener("input",a)},[e,a]),{addValueChangedListener:i,removeValueChangedListener:r,onValueChange:n}},usePlaceholderOverflow=(e,t)=>{let n=(0,d.useRef)(null),a=(0,d.useRef)(null),i=(0,d.useRef)([]),r=(0,d.useCallback)(e=>{i.current.forEach(t=>t(e))},[]),l=(0,d.useCallback)(e=>{i.current.push(e)},[]),s=(0,d.useCallback)(e=>{i.current=i.current.filter(t=>t!==e)},[]);(0,d.useEffect)(()=>{if(!t.current||!e.current)return;let i=new ResizeObserver(e=>{n.current=null==e?void 0:e[0].borderBoxSize[0].inlineSize,r(e)}),l=new ResizeObserver(e=>{var t;a.current=null==e?void 0:null===(t=e[0].contentBoxSize)||void 0===t?void 0:t[0].inlineSize,r(e)});return i.observe(e.current),l.observe(t.current),()=>{i.disconnect(),l.disconnect()}},[e,t,r]);let o=(0,d.useCallback)(e=>null!==a.current&&null!==n.current&&!!t.current&&(t.current.textContent=e,a.current>n.current),[t]);return{addPlaceholderResizeListener:l,removePlaceholderResizeListener:s,getPlaceholderOverflow:o}},W=(0,d.forwardRef)((e,t)=>{let{className:n,onInput:a,onChange:i,footer:l,placeholder:s,...o}=e,c=(0,d.useRef)(null),u=(0,d.useRef)(null),m=(0,d.useRef)(null),p=(0,y.G6)((0,w.F)()),g=(0,d.useCallback)(()=>{if(c.current&&u.current){var e;c.current.dataset.replicatedValue=u.current.value,p&&((e=u.current).scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&requestAnimationFrame(()=>{c.current&&(c.current.style.transform="translateY(0)",c.current.style.transform="unset")})}},[p]),h=(0,d.useCallback)(e=>{null==a||a(e),g()},[a,g]),{addValueChangedListener:_,removeValueChangedListener:f,onValueChange:k}=useValueChangeListeners(u),{getPlaceholderOverflow:v,addPlaceholderResizeListener:C,removePlaceholderResizeListener:F}=usePlaceholderOverflow(u,m);return(0,d.useImperativeHandle)(t,()=>({focus:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.focus()},blur:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.blur()},addEventListener:(e,t,n)=>{var a;return null===(a=u.current)||void 0===a?void 0:a.addEventListener(e,t,n)},removeEventListener:(e,t,n)=>{var a;return null===(a=u.current)||void 0===a?void 0:a.removeEventListener(e,t,n)},getValue:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.value},setValue:(e,t)=>{if(!u.current)return;let n=u.current.selectionStart,a=u.current.selectionEnd;u.current.value=e,u.current.scrollTo(0,u.current.scrollHeight),g(),t&&u.current.setSelectionRange(...t(n,a)),k(e)},addValueChangedListener:_,removeValueChangedListener:f,getSelectionStart:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.selectionStart},getSelectionEnd:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.selectionEnd},setSelectionRange:(e,t,n)=>{var a;return null===(a=u.current)||void 0===a?void 0:a.setSelectionRange(e,t,null!=n?n:"none")},getPlaceholderOverflow:v,addPlaceholderResizeListener:C,removePlaceholderResizeListener:F}),[g,_,f,k,v,C,F]),(0,r.jsxs)("div",{className:(0,b.$)(K().growWrap,n),ref:c,children:[(0,r.jsx)("textarea",{className:K().textArea,ref:u,rows:1,onInput:h,onChange:i,placeholder:s,...o}),(0,r.jsx)("div",{className:K().hidden,ref:m}),l]})});W.displayName="GrowingTextArea";var z=n(21041),q=n(40999),$=n(16177),Q=n(89357),J=n(20740),X=n(98092),Y=n(61084),ee=n(63366),et=n.n(ee),en=n(46895);let EditorStatePlugin_useValueChangeListeners=()=>{let e=(0,d.useRef)(new Set),t=(0,d.useCallback)(t=>{e.current.forEach(e=>{e(t)})},[]),n=(0,d.useCallback)(t=>{e.current.add(t)},[]),a=(0,d.useCallback)(t=>{e.current.delete(t)},[]);return{addValueChangedListener:n,removeValueChangedListener:a,onValueChange:t}};var textEditor_EditorStatePlugin=e=>{let{forwardedRef:t,outerOnChange:n,onKeyDown:a}=e,[i]=(0,en.g)(),{addValueChangedListener:r,removeValueChangedListener:l,onValueChange:s}=EditorStatePlugin_useValueChangeListeners();return(0,d.useEffect)(()=>{let e=i.registerUpdateListener(e=>{let{editorState:t}=e;t.read(()=>{let e=(0,Y.Gv)().getTextContent();s(e),n()})});return()=>{e()}},[i,s,n]),(0,d.useImperativeHandle)(t,()=>({focus:()=>{i.focus()},blur:()=>{i.blur(),i.update(()=>{let e=(0,Y.dL)();(0,Y.OP)(e)&&(e.anchor.offset=0,e.focus.offset=0,(0,Y.oq)(null))})},addEventListener:(e,t,n)=>{var a;null===(a=i.getRootElement())||void 0===a||a.addEventListener(e,t,n)},removeEventListener:(e,t,n)=>{var a;null===(a=i.getRootElement())||void 0===a||a.removeEventListener(e,t,n)},getValue:()=>{let e="";return i.getEditorState().read(()=>{e=(0,Y.Gv)().getTextContent()}),e},setValue:(e,t)=>{i.update(()=>{let n=(0,Y.dL)(),a=(0,Y.OP)(n)?n.anchor.offset:0,i=(0,Y.OP)(n)?n.focus.offset:0,r=(0,Y.Gv)(),l=(0,Y.BE)(),s=(0,Y.MX)(e);if(l.append(s),r.clear(),r.append(l),t){let[e,n]=t(a,i);s.select(e,n)}})},addValueChangedListener:r,removeValueChangedListener:l,getSelectionStart:()=>{let e=0;return i.getEditorState().read(()=>{let t=(0,Y.dL)();t&&(0,Y.OP)(t)&&(e=t.anchor.offset)}),e},getSelectionEnd:()=>{let e=0;return i.getEditorState().read(()=>{let t=(0,Y.dL)();t&&(0,Y.OP)(t)&&(e=t.focus.offset)}),e},setSelectionRange:(e,t)=>{i.update(()=>{let n=(0,Y.Gv)(),a=n.getFirstChild();if(a&&(0,Y.Rl)(a)){let n=a.getFirstChild();n&&(0,Y.Gg)(n)&&n.select(e,t)}})},getPlaceholderOverflow:()=>!1,addPlaceholderResizeListener:()=>{},removePlaceholderResizeListener:()=>{}}),[i,r,l]),(0,d.useEffect)(()=>{if(!a)return;let e=i.getRootElement();if(!e)return;let domKeyDownHandler=e=>{a(e)};return e.addEventListener("keydown",domKeyDownHandler),()=>{e.removeEventListener("keydown",domKeyDownHandler)}},[i,a]),null};let ea={namespace:"MyEditor",onError:function(e){console.error(e)},nodes:[],editorState:()=>{let e=(0,Y.Gv)();if(null===e.getFirstChild()){let t=(0,Y.BE)();e.append(t)}return null}},ei=(0,d.forwardRef)((e,t)=>{let{className:n,onChange:a,footer:i,placeholder:l,onKeyDown:s}=e,o=(0,d.useMemo)(()=>({...ea,editorState:()=>{let e=(0,Y.Gv)();if(null===e.getFirstChild()){let t=(0,Y.BE)();e.append(t)}return null}}),[]);return(0,r.jsx)(q.R,{initialConfig:o,children:(0,r.jsxs)("div",{className:(0,b.$)(et().textEditorContainer,et().textArea,n),children:[(0,r.jsx)(X.B,{contentEditable:(0,r.jsx)($.f,{className:et().textEditor}),placeholder:(0,r.jsx)("div",{className:et().placeholder,children:l}),ErrorBoundary:Q.g}),i,(0,r.jsx)(J.e,{}),(0,r.jsx)(z.C,{}),(0,r.jsx)(textEditor_EditorStatePlugin,{forwardedRef:t,outerOnChange:a,onKeyDown:s})]})})});ei.displayName="ChatInputRichTextEditor";var er=n(4095);(a=i||(i={}))[a.BACKSPACE=8]="BACKSPACE",a[a.TAB=9]="TAB",a[a.ENTER=13]="ENTER",a[a.SPACE=32]="SPACE",a[a.ESC=27]="ESC",a[a.UP=38]="UP",a[a.DOWN=40]="DOWN",a[a.PAGE_UP=33]="PAGE_UP",a[a.PAGE_DOWN=34]="PAGE_DOWN",a[a.HOME=36]="HOME",a[a.END=35]="END";var el=i;let getLastHumanMessageText=e=>{if(!e)return null;for(let t=e.length-1;t>=0;t--){let{node:a}=(0,c.readInlineData)(n(33848),e[t]);if((0,er.Q1)(a))return a.text}return null},useOnKeyDown=(e,t,a,i)=>{let r=(0,c.useFragment)(n(45830),e),l=(0,d.useCallback)(e=>{e.preventDefault(),a()},[a]),s=(0,d.useCallback)(e=>{var n,a;if(!(null===(n=t.current)||void 0===n?void 0:n.getValue())){e.preventDefault();let n=getLastHumanMessageText(r);n&&(null===(a=t.current)||void 0===a||a.setValue(n,(e,t)=>[e+n.length,t+n.length]),i())}},[r,t,i]);return(0,d.useCallback)(e=>{e.shiftKey||e.keyCode!=el.ENTER?e.keyCode==el.UP&&s(e):l(e)},[l,s])},useGlobalShortcutFocus=e=>{(0,d.useEffect)(()=>{var t,n;let focusTextbox=()=>{var t;null===(t=e.current)||void 0===t||t.focus()};return null===(n=window.electronAPI)||void 0===n||null===(t=n.onGlobalShortcutTriggered)||void 0===t||t.call(n,focusTextbox),()=>{var e,t;null===(t=window.electronAPI)||void 0===t||null===(e=t.removeGlobalShortcutListener)||void 0===e||e.call(t,focusTextbox)}},[e])},es=(0,d.forwardRef)((e,t)=>{let{viewer:a,edges:i,className:l,submitMessage:s,onChange:o,footer:u,placeholderText:m,onPaste:p}=e,g=(0,c.useFragment)(n(17971),a),h=(0,c.useFragment)(n(28159),i),_=(0,d.useRef)(null);useGlobalShortcutFocus(_);let f=useOnKeyDown(h,_,s,o),k=(0,d.useMemo)(()=>(0,C.Z)([_,t]),[_,t]);return g.formattedChatInput?(0,r.jsx)(ei,{ref:k,className:l,placeholder:m,onChange:o,onKeyDown:f,onPaste:p,footer:u}):(0,r.jsx)(W,{ref:k,className:l,placeholder:m,onChange:o,onKeyDown:f,onPaste:p,footer:u})});es.displayName="ChatMessageTextArea";var eo=n(41143),ed=n.n(eo),ec=n(31657),eu=n(73331),em=n(6269),ep=n.n(em),eg=n(96384);let hideVoiceInputButton=e=>(0,y.P)(e)||(0,y.G6)(e),getSpeechRecognition=()=>{let{userAgent:e}=window.navigator;return hideVoiceInputButton(e)?null:"undefined"!=typeof SpeechRecognition?SpeechRecognition:"undefined"!=typeof webkitSpeechRecognition?webkitSpeechRecognition:null},getMessageFromErrorEvent=(e,t)=>{switch(t.error){case"no-speech":return e("No speech was detected. Try again.");case"audio-capture":return e("No microphone was found. Ensure that a microphone is installed and that microphone settings are configured correctly.");case"not-allowed":case"service-not-allowed":return e("Permission to use microphone was denied. Update your browser permission settings and try again.");case"network":return e("A network error occurred. Check your internet connection and try again.");case"language-not-supported":return e("The language {{language}} is not supported by your browser.",{language:(null==t?void 0:t.target)&&"lang"in t.target&&t.target.lang||"en"});case"aborted":if("No speech detected"===t.message)return e("No speech was detected. Try again.");return null;default:return e("An error occurred: {{error}}",{error:t.error})}};let SpeechRecognitionError=class SpeechRecognitionError extends eu.n9{constructor(e){let t=[e.error,e.message].filter(Boolean).join(": ");super(t),this.name="SpeechRecognitionError"}};let logErrorEvent=e=>{("aborted"!==e.error||"No speech detected"===e.message)&&(0,eu.H)(new SpeechRecognitionError(e))},createRecognition=e=>{let{onStart:t,onEnd:n,onError:a,onResult:i}=e,r=getSpeechRecognition();ed()(r,"SpeechRecognition is not supported");let l=new r;return l.continuous=!0,l.interimResults=!0,l.onstart=t,l.onspeechend=()=>{l.stop()},l.onend=n,l.onerror=a,l.onresult=i,l},useSpeechRecognition=(e,t)=>{let{t:n}=(0,B.$G)(),[a,i]=(0,d.useState)(!1),r=(0,d.useRef)(!1),[l,s]=(0,d.useState)(null),o=(0,d.useCallback)(()=>r.current,[]),c=(0,d.useContext)(ec.Z),u=(0,d.useRef)(null),m=(0,d.useCallback)(()=>{var e;null===(e=u.current)||void 0===e||e.stop(),u.current=null},[]),p=(0,d.useCallback)(()=>{var e;null===(e=u.current)||void 0===e||e.abort(),u.current=null},[]),g=(0,d.useCallback)(()=>{var a;s(null);let l=(null===(a=e.current)||void 0===a?void 0:a.getValue())||"",o=null==c?void 0:c.botId,d=null==c?void 0:c.model,p=null==c?void 0:c.chatId,g=createRecognition({onStart:()=>{var t,n;null===(t=e.current)||void 0===t||t.blur(),null===(n=e.current)||void 0===n||n.addEventListener("focus",m),i(!0),(0,v.Z)("poe/action_log",{action_type:(0,eg.E)(P.Z.start_voice_record),bot_id:o,chat_id:p,model_name:d})},onEnd:()=>{var t,n;i(!1),null===(t=e.current)||void 0===t||t.focus(),null===(n=e.current)||void 0===n||n.removeEventListener("focus",m),(0,v.Z)("poe/action_log",{action_type:(0,eg.E)(P.Z.finish_voice_record),bot_id:o,chat_id:p,model_name:d})},onError:e=>{logErrorEvent(e);let t=getMessageFromErrorEvent(n,e);t&&s(t)},onResult:n=>{let{results:a}=n;if(u.current===g){let n=Array.from(a).filter(e=>e[0].confidence>0).map(e=>e[0].transcript).join("");if(n){var i;r.current=!0,null===(i=e.current)||void 0===i||i.setValue(l+n),t()}}}});u.current=g,g.start()},[e,t,i,m,n,c]);return(0,d.useEffect)(()=>{let t=e.current,resetVoiceInputWhenClearInput=e=>{""==e&&(r.current=!1)};return null==t||t.addValueChangedListener(resetVoiceInputWhenClearInput),()=>{null==t||t.removeValueChangedListener(resetVoiceInputWhenClearInput)}},[e]),(0,d.useEffect)(()=>()=>{p()},[p]),{isRunning:a,startRecognition:g,stopRecognition:m,abortRecognition:p,getVoiceInputUsed:o,errorMessage:l}},eh=(0,d.forwardRef)((e,t)=>{let{className:n,chatInputRef:a,onInputChange:i,...s}=e,{t:o}=(0,B.$G)(),{isRunning:c,startRecognition:u,stopRecognition:m,abortRecognition:p,getVoiceInputUsed:g,errorMessage:h}=useSpeechRecognition(a,i);(0,d.useImperativeHandle)(t,()=>({startRecognition:u,stopRecognition:m,abortRecognition:p,getVoiceInputUsed:g}),[u,m,p,g]);let[_,f]=(0,d.useState)(null),k=h||o("Use microphone");return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:ep().container,children:[(0,r.jsx)(E.Z,{as:"button",size:"sm",theme:"ghost",showIconOnly:"always",iconLeft:(0,r.jsx)(T.lE,{}),ref:f,className:(0,b.$)(ep().button,n),onClick:c?m:u,"aria-selected":!!c,isDisabled:s.isDisabled,"data-button-voice-input":!0,...s}),(0,r.jsx)(l.u,{anchorRef:_,label:k,placement:"top",open:!!h||void 0,theme:h?"error":"base"})]})})});eh.displayName="ChatMessageVoiceInputButtonInner";let e_=(0,d.forwardRef)((e,t)=>{let[n,a]=(0,d.useState)(!1),i=(0,w.F)();return((0,d.useEffect)(()=>{a(!!getSpeechRecognition()&&!(0,y.Ev)(i))},[i]),hideVoiceInputButton(i))?null:(0,r.jsx)(eh,{ref:t,...e,isDisabled:!n})});e_.displayName="ChatMessageVoiceInputButton";var ef=n(64913),ek=n(47450),eb=n(12879),ev=n(44311),eC=n(26246),eF=n(89582),inputFooter_useMultibotAtMention=e=>{let{selectBot:t,chatInputRef:a,chatInputSelectorInputsRef:i,mentionedBotsSetInputs:r}=e,l=(0,d.useRef)(null),s=(0,d.useRef)(null),o=(0,d.useCallback)(e=>{let i;if((0,eF.rw)(e))i=e.mention,t(e,s.current);else{let a=(0,ev.readInlineData)(n(23840),e);i=(null==a?void 0:a.handle)||null,t(a,s.current)}if(l.current=i,i){var r;null===(r=a.current)||void 0===r||r.focus()}},[a,t]),c=(0,d.useRef)(""),u=(0,d.useCallback)(()=>{var e,t,n,l,o;let d=(null===(e=a.current)||void 0===e?void 0:e.getValue())||"";if(c.current!==d){let{mention:e,start:u,end:m}=(0,eC.XX)(d,(null===(t=a.current)||void 0===t?void 0:t.getSelectionStart())||0,(null===(n=a.current)||void 0===n?void 0:n.getSelectionEnd())||0);s.current={start:u,end:m},r(d,e),null===(o=i.current)||void 0===o||null===(l=o.setInputs)||void 0===l||l.call(o,e),c.current=d}},[i,r,a]);return{onInputChange:u,selectBot:o}};let importAddBotToChatModal=()=>n.e(3126).then(n.bind(n,83126)),ey=o()(()=>n.e(7821).then(n.bind(n,77821)),{loadableGenerated:{webpack:()=>[77821]},ssr:!1}),eS=o()(()=>n.e(3449).then(n.bind(n,93449)),{loadableGenerated:{webpack:()=>[93449]},ssr:!1}),ew=(0,d.forwardRef)((e,t)=>{let{bot:a,viewer:i,edges:s,chat:o,disableSend:I,onSubmitMessage:T,placeholderText:B,isBotResponding:E,fileHandlerRef:j,selectBot:D,setTargetedBot:O,setInputErrorMessage:R,onInputCleared:U,handleCancelEdit:V,accessoryChatBreakButton:G,disableCollapsibleBehavior:Z,autofocusOnTouchDevice:H=!1}=e,K=(0,c.useFragment)(n(80752),a),W=(0,c.useFragment)(n(52103),s),{fileUploadSizeLimits:z,submitMessageParamsAsDict:q,...$}=(0,c.useFragment)(n(4027),i),Q=(0,c.useFragment)(n(91305),o),J=(0,d.useRef)(null),{isLoggedInUser:X}=(0,u.b)(),Y=(0,w.F)(),ee=JSON.parse(z),et=ee.total,en=(0,d.useCallback)(e=>{var t,n;eU((null===(n=eD.current)||void 0===n?void 0:null===(t=n.getValue())||void 0===t?void 0:t.trim())===""&&0===e.mainAttachments.length)},[]),ea=(0,g.ZP)(),ei=(0,d.useCallback)(e=>{ea({type:g.pC.error,content:e})},[ea]),{attachments:er,handleFileUpload:el,handleFileRemove:eo,addFileToCustomUIControl:ed,removeFileFromCustomUIControl:ec,removeAllFilesFromCustomUIControl:eu,clearFilesFromCustomUI:em,clearFiles:ep,isFileOverLimit:eg,totalFileSize:eh}=(0,ek.ZP)({bot:K,chat:Q||null,viewer:$,onFileChange:en,onError:ei}),[ev,eC]=(0,f.k)(),eF=(0,d.useMemo)(()=>ev[K.handle]||{parameters:{},bindings:{}},[ev,K.handle]),{draft:ew,updateDraft:eI,clearDraft:ex}=(0,_.cX)(),eP=(0,d.useCallback)(e=>{let t={...ev};t[K.handle]=e,eC(t),eI(e=>({...e,botHandleToCustomUIMenuState:t}))},[ev,eC,K.handle,eI]),eL=(0,d.useCallback)((e,t)=>{ed(K.handle,e,t)},[ed,K.handle]),eM=(0,d.useCallback)((e,t)=>{ec(K.handle,e,t)},[ec,K.handle]),eT=(0,d.useCallback)(e=>{eu(K.handle,e)},[eu,K.handle]),eB=(0,d.useCallback)(()=>{em(K.handle)},[em,K.handle]),eE=(0,d.useMemo)(()=>({featureFlags:{attachments:!0},attachments:er.attachmentsByBot[K.handle]||{},addAttachments:eL,removeAttachment:eM,removeParamAttachments:eT,clearAttachments:eB}),[er.attachmentsByBot,K.handle,eL,eM,eT,eB]);(0,d.useImperativeHandle)(j,()=>({handleFiles:el,clearAllFiles:ep}),[el,ep]);let eN=er.mainAttachments,ej=(0,d.useMemo)(()=>{if(eN.length>0)return!0;let e=er.attachmentsByBot[K.handle]||{},t=Object.keys(e),n=!1;return t.forEach(t=>{let a=e[t]||[];a.length>0&&(n=!0)}),n},[er.attachmentsByBot,eN,K.handle]),eD=(0,d.useRef)(null),eA=(0,d.useRef)(null),eO=(0,d.useMemo)(()=>(0,C.Z)([eD,t]),[eD,t]),[eR,eU]=(0,d.useState)(!0),[eV,eG]=(0,d.useState)(!1),eZ=(0,d.useRef)(null),{queryReference:eH,debouncePromise:eK,setInputs:eW}=(0,eb.t)({chat:Q||null,setTargetedBot:O,setInputErrorMessage:R}),{selectBot:ez,onInputChange:eq}=inputFooter_useMultibotAtMention({selectBot:D,chatInputRef:eD,chatInputSelectorInputsRef:eZ,mentionedBotsSetInputs:eW}),e$=(0,d.useCallback)(()=>{var e;let t=(null===(e=eD.current)||void 0===e?void 0:e.getValue())||"",n=(null==t?void 0:t.trim())===""&&!ej;eU(n),eq(),n&&(null==U||U())},[ej,eq,U]),eQ=(0,d.useCallback)(function(){for(var e,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];e$(...n);let i=(null===(e=eD.current)||void 0===e?void 0:e.getValue())||"";eI(e=>({...e,content:i}))},[e$,eI]),{isDeleted:eJ}=(0,k.iZ)(K),eX=(0,d.useRef)(null),eY=(0,d.useCallback)(()=>{var e;null===(e=eX.current)||void 0===e||e.call(eX)},[eX]);(0,d.useEffect)(()=>{eY()},[eY,eV]);let{editingMessageData:e0,isLoadingEdit:e1}=(0,F.m)(),e2=!!e0,e4=I||(null==Q?void 0:Q.isOptimistic)&&E||eR||eh>et||eV||eg;(0,d.useEffect)(()=>{!e2&&eD.current&&(ew.botHandleToCustomUIMenuState&&eC(ew.botHandleToCustomUIMenuState),void 0!==ew.content&&(eD.current.setValue(ew.content),e$()))},[eD]),(0,d.useEffect)(()=>{e0&&eD.current&&e0.text&&(eD.current.setValue(e0.text),eD.current.focus())},[e0,eD]);let e9=(0,d.useCallback)(()=>{var e,t;if(null===(e=eA.current)||void 0===e||e.abortRecognition(),eY(),navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&!(0,y.ED)(Y)&&(null===(t=eD.current)||void 0===t||t.blur()),e4)return;ex();let{submissionAttachments:n,stateCorrections:a}=(0,ef.s_)(er.mainAttachments,er.attachmentsByBot[K.handle]||{}),i={...eF.parameters,...a};return T(eD,eA,n,0===Object.keys(i).length?void 0:i,!!q,ep)},[eY,e4,er.mainAttachments,er.attachmentsByBot,K.handle,eF,T,ep,ex,q,Y]),e5=(0,d.useCallback)(()=>{var e;(!navigator.maxTouchPoints||!(navigator.maxTouchPoints>0)||(0,y.ED)(Y))&&(null===(e=eD.current)||void 0===e||e.focus())},[eD,Y]),e8=(0,d.useRef)(!1),e6=function(e){let t=(0,d.useRef)(e);return t.current=e,t}((0,M.fo)());(0,d.useEffect)(()=>{var e;(X||!0!==e8.current)&&e6.current!==M.YU.canvasFullWidth&&(!navigator.maxTouchPoints||!(navigator.maxTouchPoints>0)||(0,y.ED)(Y)||H)&&(null===(e=eD.current)||void 0===e||e.focus(),e8.current=!0)},[K.id,X,H,e6,Y]),(0,d.useEffect)(()=>{let e=eD.current;return null==e||e.addValueChangedListener(eQ),()=>{null==e||e.removeValueChangedListener(eQ)}},[eQ]);let e3=eJ||!K.allowsImageAttachments&&eh>et,e7=function(e){let{handleFileUpload:t,isFileInputDisabled:n}=e;return(0,d.useCallback)(e=>{if(n)return;let a=function(e){var t,n;let a=Array.from((null===(t=e.clipboardData)||void 0===t?void 0:t.files)||[]);if(0===a.length)return[];let i=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/html");return i&&!function(e){try{var t;let n=new DOMParser().parseFromString(e,"text/html");return 1===n.body.childElementCount&&(null===(t=n.body.firstElementChild)||void 0===t?void 0:t.tagName)==="IMG"}catch(e){return console.error("there was an issue parsing pasted html"),!1}}(i)?[]:a}(e);0!==a.length&&(t(a),e.preventDefault())},[t,n])}({isFileInputDisabled:e3,handleFileUpload:el}),[te,tt]=(0,d.useState)(!1),tn=(0,d.useCallback)(()=>{tt(!1),e9()},[tt,e9]),ta=(0,d.useCallback)(()=>{tt(!1)},[tt]),ti=(0,d.useMemo)(()=>({close:ta,botHandle:K.handle,onSubmitAndClose:tn}),[K.handle,ta,tn]),tr=(0,d.useRef)(!1),tl=(0,d.useCallback)(()=>{e9(),tr.current||((0,S.nL)(S.wy.SendChatClicked),tr.current=!0)},[e9]),ts=(0,h.el)(tl,{viewer:$,viewObjectType:L.Z.limited_access_bot,bot:K}),to=(0,d.useRef)(null),td=(0,b.$)(x().inputContainer,e2&&x().editingMode),tc=(0,d.useCallback)(()=>{(0,v.Z)("poe/action_log",{action_type:P.Z.open_custom_ui_menu,bot_id:K.id,action_metadata:{}})},[K.id]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{isOpen:te,onRequestClose:ta,body:importAddBotToChatModal,bodyProps:ti,variant:"compact"}),(0,r.jsx)(l.pF,{children:(0,r.jsx)("div",{ref:to,className:td,onClick:e5,"data-input-is-empty":eR,"data-disable-collapsed-layout":Z,tabIndex:-1,children:(0,r.jsxs)(N.qo,{anchorRef:to,dismissAction:eX,children:[(0,r.jsx)(ey,{viewer:$,className:x().botSelector,chatInputSelectorInputsRef:eZ,anchorRef:to,chatInputRef:eD,chat:Q,selectBot:ez,onIsActiveChange:eG}),(0,r.jsx)(m.Z,{fallback:null,children:(0,r.jsx)(eS,{queryReference:eH,debouncePromise:eK,setInputs:eW,chat:Q,setInputErrorMessage:R,setTargetedBot:O})}),(0,r.jsx)(es,{ref:eO,viewer:$,edges:W,className:x().textArea,submitMessage:ts,onChange:eQ,placeholderText:B,onPaste:e7,footer:(0,r.jsx)(inputFooter_ChatMessageInputAttachments,{files:eN,onFileRemoved:eo})}),(0,r.jsxs)("div",{className:x().actionContainerLeft,children:[!!G&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{onClick:eY,children:G}),(0,r.jsx)("div",{className:x().breakSeparator})]}),(0,r.jsx)(A,{isDisabled:e3,onFileUpload:el,ref:J}),(0,r.jsx)(N.ZP,{customUIDefinition:K.customUIDefinition,customUIMenuState:eF,messageContext:eE,updateCustomUIMenuState:eP,logOpen:tc})]}),(0,r.jsxs)("div",{className:x().actionContainerRight,children:[(0,r.jsx)(e_,{ref:eA,chatInputRef:eD,onInputChange:eQ,isDisabled:eJ}),e2&&V&&(0,r.jsx)(inputFooter_ChatMessageCancelButton,{className:x().cancelButton,onClick:V}),(0,r.jsx)(inputFooter_ChatMessageSendButton,{className:x().sendButton,onClick:ts,isDisabled:e4,isEditing:e2,isLoading:e1})]})]})})})]})});ew.displayName="ChatMessageInputContainer";var eI=ew},64913:function(e,t,n){"use strict";n.d(t,{yJ:function(){return buildCustomUIPrompt},s_:function(){return computeSubmissionAttachments},ci:function(){return prettyPrintParameterState}});let attachmentAlreadyHasName=(e,t)=>e.includes(t),addNonceToFileName=(e,t)=>{let n=e.split(".");return n[0]=n[0]+"_"+t+"_",n.join(".")},findNonDuplicateFileName=(e,t)=>{let n=t,a=0;for(;attachmentAlreadyHasName(e,n);)n=addNonceToFileName(t,++a);return n},applyFilePickerAttachments=(e,t)=>{let n=[...e],a=[];return t.forEach(e=>{let t=n.map(e=>e.name),i=findNonDuplicateFileName(t,e.name);n.push(new File([e],i,{type:e.type})),a.push(i)}),{updatedAttachments:n,finalizedPickerState:a}},computeSubmissionAttachments=(e,t)=>{let n=e,a={},i=Object.keys(t);return i.forEach(e=>{let{updatedAttachments:i,finalizedPickerState:r}=applyFilePickerAttachments(n,t[e]);n=i,a[e]=r.length>0?r.join(","):void 0}),{submissionAttachments:n,stateCorrections:a}},alphabeticalSort=(e,t)=>e<t?-1:e>t?1:0,buildCustomUIPrompt=(e,t)=>{let n=Object.keys(t).sort((e,t)=>{let n=e.startsWith("poe_"),a=t.startsWith("poe_");return a&&!n?-1:n&&!a?1:alphabeticalSort(e,t)}).filter(t=>!e.includes("--".concat(t," "))).reduce((e,n)=>{let a=t[n];return null!=a?"".concat(e," --").concat(n," ").concat(a):e},"");return e+n},prettyPrintParameterState=e=>Object.entries(e).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n)}).join(", ")},39752:function(e,t,n){"use strict";n.d(t,{A:function(){return autocompleteBotHandle},X:function(){return useIsBotResponding}}),n(67294);var a=n(22578),i=n(25008),r=n(64291),l=n(35715),s=n(69388);let useIsBotResponding=e=>{let t=(0,a.useFragment)(n(93857),e),{isMessageCancelled:i}=(0,r.Z)(t);if(!t)return!1;let{author:o,isOptimistic:d,state:c,timeoutLevel:u}=t;return o==l.Z.human&&d&&c==s.Z.complete||c==s.Z.incomplete&&(null!=u?u:0)<3&&!i},autocompleteBotHandle=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t&&e.current){var a,r,l;if(n){let a=n.end-n.start,i=(null===(r=e.current.getValue())||void 0===r?void 0:r.slice(0,n.start))+t+" "+(null===(l=e.current.getValue())||void 0===l?void 0:l.slice(n.end)),s=t.length+1-a;e.current.setValue(i,(e,n)=>[Math.max(e+s,t.length+1),Math.max(n+s,t.length+1)]);return}let s="@".concat(t," "),o=e.current.getValue(),d=i.zg.exec(o||""),c=null==d?void 0:null===(a=d.groups)||void 0===a?void 0:a.mention,[u,m]=c&&o?["@".concat(t," ")+o.slice(c.length),s.length-c.length]:["@".concat(t," ")+(o||""),s.length];e.current.setValue(u,(e,t)=>[Math.max(e+m,s.length),Math.max(t+m,s.length)])}}},47450:function(e,t,n){"use strict";n.d(t,{$8:function(){return MessageAttachmentsProvider},IV:function(){return addAttachmentsToFileHandler},cy:function(){return useMessageAttachments}});var a=n(85893),i=n(67294),r=n(22120),l=n(22578),s=n(21054),o=n(24579),d=n(50311),c=n(93105),u=n(9729),m=n(30038),p=n(96384);let g=(0,i.createContext)(null);function MessageAttachmentsProvider(e){let t=(0,i.useState)({mainAttachments:[],attachmentsByBot:{}});return(0,a.jsx)(g.Provider,{value:t,children:e.children})}function useMessageAttachments(){let e=(0,i.useContext)(g);if(null===e)throw Error("This can only be invoked inside MessageAttachmentsProvider");return e}let completeAttachmentsForBot=(e,t)=>{let n=t.mainAttachments,a=t.attachmentsByBot[e]||{},i=Object.keys(a).reduce((e,t)=>[...e,...a[t]],n);return i},getAttachmentData=e=>(0,l.readInlineData)(n(37446),e),addAttachmentsToFileHandler=async(e,t)=>{if(!(null==t?void 0:t.current)||(t.current.clearAllFiles(),o.i.clear(),!e.length))return;let n=e.map(e=>getAttachmentData(e)),a=await Promise.all(n.map(e=>fetch(e.url).then(e=>e.blob()))),i=[];for(let e=0;e<a.length;e++){let t=a[e],r=n[e].name,l=new File([t],r,{type:n[e].file.mimeType});o.i.set(l,{id:n[e].attachmentId}),i.push(l)}t.current.handleFiles(i)};t.ZP=e=>{let{bot:t,chat:a,viewer:g,onFileChange:h,onError:_}=e,{botId:f,handle:k}=(0,l.useFragment)(n(28333),t),{fileUploadSizeLimits:b}=(0,l.useFragment)(n(16641),g),[v,C]=useMessageAttachments(),{t:F}=(0,r.$G)(),y=(0,i.useCallback)(e=>{let t=(0,l.readInlineData)(n(70827),a||null);e.forEach(e=>{(0,d.a)(e),(0,u.Z)("poe/action_log",{action_type:(0,p.E)(m.Z.attach_file_in_chat_input),bot_id:f,chat_id:null==t?void 0:t.chatId,action_metadata:{file_size_in_kB:Math.round(e.size/1024),file_format:e.type}})}),C(t=>{let n=t.mainAttachments,a=[...n,...e],i={mainAttachments:a,attachmentsByBot:t.attachmentsByBot};return null==h||h(i),i})},[h,C,f,a]),S=(0,i.useCallback)(e=>{C(t=>{let n=t.mainAttachments,a=n.filter((t,n)=>n!==e),i={mainAttachments:a,attachmentsByBot:t.attachmentsByBot};return null==h||h(i),i})},[C,h]),w=(0,i.useCallback)(()=>{o.i.clear(),C(e=>{let t={mainAttachments:[],attachmentsByBot:e.attachmentsByBot};return null==h||h(t),t})},[h,C]),I=(0,i.useCallback)((e,t,n)=>{C(a=>{let i=a.attachmentsByBot[e]||{},r=i[t]||[],l={mainAttachments:a.mainAttachments,attachmentsByBot:{...a.attachmentsByBot,[e]:{...i,[t]:[...r,...n]}}};return null==h||h(l),l})},[h,C]),x=(0,i.useCallback)((e,t,n)=>{C(a=>{let i=a.attachmentsByBot[e]||{},r=i[t]||[],l={mainAttachments:a.mainAttachments,attachmentsByBot:{...a.attachmentsByBot,[e]:{...i,[t]:r.filter((e,t)=>t!==n)}}};return null==h||h(l),l})},[h,C]),P=(0,i.useCallback)((e,t)=>{C(n=>{let a=n.attachmentsByBot[e]||{},i={...a};delete i[t];let r={mainAttachments:n.mainAttachments,attachmentsByBot:{...n.attachmentsByBot,[e]:{...i}}};return null==h||h(r),r})},[h,C]),L=(0,i.useCallback)(e=>{C(t=>{let n={mainAttachments:t.mainAttachments,attachmentsByBot:{...t.attachmentsByBot,[e]:{}}};return null==h||h(n),n})},[h,C]),M=completeAttachmentsForBot(k,v),T=(0,i.useMemo)(()=>(0,c.sv)(M),[M]),B=(0,i.useMemo)(()=>(0,c.VX)(b),[b]),{isFileOverLimit:E,fileTypeOverLimit:N,fileTypeSizeLimit:j}=(0,i.useMemo)(()=>(0,c.Mj)(M,B),[M,B]),D=(0,s.xD)(N);return(0,i.useEffect)(()=>{if(B){if(E){let e=(0,c.K9)(E,D,j,F)||"";e&&(null==_||_(e));return}if(T>B.total){let e=(0,c.K9)(E,D,B.total,F)||"";e&&(null==_||_(e));return}}},[E,D,j,T,B,_,F]),{attachments:v,handleFileUpload:y,handleFileRemove:S,clearFiles:w,addFileToCustomUIControl:I,removeFileFromCustomUIControl:x,removeAllFilesFromCustomUIControl:P,clearFilesFromCustomUI:L,isFileOverLimit:E,totalFileSize:T}}},12879:function(e,t,n){"use strict";n.d(t,{U:function(){return s},t:function(){return useMentionedBotsInputs}});var a=n(67294),i=n(22578),r=n(44311),l=n(33358);let s=n(16795),useMentionedBotsInputs=e=>{let{chat:t,setTargetedBot:o,setInputErrorMessage:d}=e,c=(0,i.useFragment)(n(75557),t),[u,m,p]=(0,i.useQueryLoader)(s),[g,h,_]=(0,l.h)(),f=(0,a.useRef)(""),k=(0,a.useRef)(null),b=(0,i.useRelayEnvironment)(),v=(0,a.useCallback)((e,t)=>{if(f.current=e,k.current=t,""===e)d(null),null==o||o(null),p(),h();else{let n=!!(null==c?void 0:c.isOptimistic),a={chatCode:c?c.chatCode:"",hasChat:!!c&&!n,fullChatInput:e,currentPartialHandle:(null==t?void 0:t.endsWith("/"))?null==t?void 0:t.slice(0,-1):t||""};"available"===b.getStore().check((0,r.createOperationDescriptor)(s.default,a)).status?(m(a),h()):g(()=>{f.current===e&&k.current===t&&m(a)})}},[c,g,h,b,m,p,d,o]);return{queryReference:u,debouncePromise:_.current,setInputs:v}}},29154:function(e,t,n){"use strict";var a=n(85893),i=n(67294),r=n(22641);let importAddChatMembersModal=()=>Promise.all([n.e(665),n.e(685)]).then(n.bind(n,69804));t.Z=e=>{let[t,n]=(0,i.useState)(!1),[l,s]=(0,i.useState)(()=>()=>{}),o=(0,i.useCallback)(()=>{n(!0)},[]),d=(0,i.useCallback)(()=>{n(!1),l()},[l]),c=(0,i.useMemo)(()=>({closeModal:d,chatId:null==e?void 0:e.chatId,botId:null==e?void 0:e.botId,setOnClose:s,sourcePage:null==e?void 0:e.sourcePage}),[d,null==e?void 0:e.chatId,null==e?void 0:e.botId,null==e?void 0:e.sourcePage]),u=(0,a.jsx)(r.Z,{isOpen:t,onRequestClose:d,body:importAddChatMembersModal,bodyProps:c});return{modal:u,openModal:o}}},91469:function(e,t,n){"use strict";var a=n(85893),i=n(13525),r=n(12251),l=n(23595),s=n(64516),o=n(11300),d=n.n(o);t.Z=e=>{let{header:t,startAtBottom:n,children:o,disallowScroll:c,noMaxWidth:u=!1,deviceType:m}=e,{elementProps:p,providerProps:g}=(0,i.GO)(),h=(0,s.F)(),_=!(0,l.k6)(h,m)&&d().scrollSectionOverflow;return(0,a.jsxs)(a.Fragment,{children:[t,(0,a.jsx)(i.yp,{...g,children:(0,a.jsx)("div",{className:(0,r.$)(d().scrollSection,n&&d().startAtBottom,_,c&&d().disallowScroll),...p,children:(0,a.jsx)("div",{className:(0,r.$)(d().column,u&&d().noMaxWidth),children:o})})})]})}},67265:function(e,t,n){"use strict";var a=n(85893),i=n(67294),r=n(39620),l=n(12251),s=n(99460),o=n.n(s);t.Z=e=>{let{children:t,onDismiss:n,className:s}=e,d=(0,i.useCallback)(e=>{e.stopPropagation(),n()},[n]);return(0,a.jsxs)("div",{className:(0,l.$)(o().dismissableContainer,s),children:[t,(0,a.jsx)("button",{className:o().dismissButton,onClick:d,children:(0,a.jsx)(r.Z,{className:o().icon})})]})}},34389:function(e,t,n){"use strict";n.d(t,{C:function(){return useIsForcedCompact},_:function(){return i}});var a=n(67294);let i=(0,a.createContext)(!1),useIsForcedCompact=()=>(0,a.useContext)(i)},21980:function(e,t,n){"use strict";var a=n(85893),i=n(94370),r=n(12251),l=n(8828),s=n.n(l);t.Z=e=>{let{className:t,text:n}=e;return(0,a.jsxs)("div",{className:(0,r.$)(s().banner,t),children:[(0,a.jsx)("div",{className:s().iconContainer,children:(0,a.jsx)(i.au,{size:"sm"})}),n]})}},83169:function(e,t,n){"use strict";n.d(t,{HN:function(){return DropdownMenuItemGroup},lY:function(){return i}});var a,i,r=n(85893),l=n(67294),s=n(12251),o=n(59505),d=n.n(o);(a=i||(i={}))[a.default=0]="default",a[a.destructive=1]="destructive",a[a.separator=2]="separator";let DropdownMenuItemGroup=e=>{let{children:t}=e;return l.Children.toArray(t).some(e=>e)?(0,r.jsx)("div",{className:d().group,children:t}):null};t.ZP=e=>{let{children:t,onClick:n,href:a,target:i,className:l,type:o=0,shrink:c=!1,isDisabled:u=!1}=e,m=(0,s.$)(l,d().item,1===o&&d().destructive,2===o&&d().separator,!c&&d().notShrink,u&&d().isDisabled);return a&&!u?(0,r.jsx)("a",{className:m,href:a,target:i,children:t}):(0,r.jsx)("button",{className:m,disabled:u,onClick:n,children:t})}},85832:function(e,t,n){"use strict";var a=n(85893),i=n(22049),r=n.n(i);t.Z=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:r().itemList,children:t})}},21900:function(e,t,n){"use strict";var a=n(85893),i=n(67294),r=n(12251),l=n(38719),s=n.n(l);let o=i.forwardRef((e,t)=>{let{className:n,isChecked:i,isDisabled:l,children:o,...d}=e,c=(0,r.$)(s().root,n,l&&s().isDisabled);return(0,a.jsxs)("label",{className:c,children:[(0,a.jsx)("div",{className:s().text,children:o}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"checkbox",className:s().input,disabled:l,checked:i,ref:t,...d}),(0,a.jsx)("span",{className:s().uiElement})]})]})});o.displayName="Switch",t.Z=o},1261:function(e,t,n){"use strict";n.d(t,{O:function(){return Tab},m:function(){return Tabs}});var a=n(85893),i=n(67294),r=n(12251),l=n(42764),s=n.n(l);let Tab=e=>{let{className:t,children:n,isActive:i=!1,...l}=e,o=(0,r.$)(s().tab,i&&s().isActive,t);return(0,a.jsx)("button",{className:o,type:"button",role:"tab",...l,children:(0,a.jsx)("span",{className:s().inner,children:n})})},Tabs=e=>{let{className:t,children:n,...l}=e,o=(0,r.$)(s().tabs,t);return(0,a.jsx)("ol",{className:o,role:"tablist",...l,children:i.Children.map(n,e=>(0,a.jsx)("li",{className:s().tabsItem,children:e}))})}},84684:function(e,t,n){"use strict";var a=n(85893),i=n(67294),r=n(12251),l=n(53213),s=n.n(l);let o=(0,i.forwardRef)((e,t)=>{let{className:n,value:i,hasError:l=!1,isDisabled:o=!1,...d}=e,c=(0,r.$)(s().root,l&&s().hasError,o&&s().isDisabled,n);return(0,a.jsx)("textarea",{ref:t,className:c,value:i,disabled:o,...d})});o.displayName="TextArea",t.Z=o},75241:function(e,t,n){"use strict";var a=n(85893),i=n(67294),r=n(12251),l=n(81516),s=n.n(l);let o=(0,i.forwardRef)((e,t)=>{let{className:n,hasError:i=!1,isDisabled:l=!1,action:o,...d}=e,c=(0,r.$)(s().root,i&&s().hasError,l&&s().isDisabled,!!o&&s().withAction,n);return(0,a.jsxs)("div",{className:c,children:[(0,a.jsx)("input",{className:s().input,disabled:l,ref:t,...d}),(0,a.jsx)("div",{className:s().actionWrapper,children:o}),(0,a.jsx)("div",{className:s().wrapper})]})});o.displayName="TextInput",t.Z=o},38401:function(e,t,n){"use strict";n.d(t,{iA:function(){return c},GB:function(){return p},Wt:function(){return _},GX:function(){return s},UG:function(){return ToggleGroupRoot}});var a=n(85893),i=n(88426),r=n(67294);let useRovingIndex=e=>{let{selector:t="button"}=e,n=r.useRef([]),a=r.useRef(null),i=r.useRef(0),l=r.useCallback(e=>{let t=i.current;if("Home"===e.key)t=0;else if("End"===e.key)t=n.current.length-1;else if("ArrowLeft"===e.key)t=i.current-1;else if("ArrowUp"===e.key)t=i.current-1;else if("ArrowDown"===e.key)t=i.current+1;else{if("ArrowRight"!==e.key)return;t=i.current+1}t=t<0?n.current.length-1:t>n.current.length-1?0:t,i.current=t;let a=n.current[t];null==a||a.focus()},[]),s=r.useCallback(e=>{i.current=n.current.findIndex(t=>t===e.target)},[]);return r.useEffect(()=>{var e,r;n.current=Array.from(null!==(r=null===(e=a.current)||void 0===e?void 0:e.querySelectorAll(t))&&void 0!==r?r:[]),i.current=n.current.findIndex(e=>"on"===e.dataset.state)},[t]),r.useEffect(()=>{let e=a.current;return null==e||e.addEventListener("keydown",l),null==e||e.addEventListener("pointerdown",s,!0),()=>{null==e||e.removeEventListener("keydown",l),null==e||e.removeEventListener("pointerdown",s,!0)}},[a,l,s]),a},l=r.createContext({value:"",onToggleSelected:()=>{},type:"checkbox"});function ToggleGroupRoot(e){let{type:t="radio",required:n=!1,value:i,defaultValue:s,onValueChange:o,children:d,...c}=e;n&&void 0===s&&void 0===i&&console.warn("ToggleGroupRoot: When required is true, defaultValue or value is required");let[u,m]=(0,r.useState)(s),p=void 0!==i,g=p?i:u,h=useRovingIndex({selector:"[data-pdl-toggle-group-item]"}),_=r.useCallback(e=>{(!n||void 0!==e&&0!==e.length)&&(p||m(e),o&&o(e))},[n,o,m,p,t]),f=r.useCallback(e=>{if("radio"===t){let t=g===e?void 0:e;_(t)}else if("checkbox"===t){let t=null!=g?g:[],n=t.includes(e),a=n?t.filter(t=>t!==e):[...t,e];_(a)}},[g,t,_]),k=r.useMemo(()=>({value:g,onToggleSelected:f,type:t}),[f,t,g]);return(0,a.jsx)(l.Provider,{value:k,children:(0,a.jsx)("div",{ref:h,role:"group","data-pdl-toggle-group":"",...c,children:d})})}let s=r.forwardRef((e,t)=>{let{value:n,children:s,onClick:o,...d}=e,{value:c,onToggleSelected:u,type:m}=r.useContext(l),p="radio"===m?c===n:Array.isArray(c)&&c.includes(n),g=r.useCallback(e=>{o&&o(e),u(n)},[o,u,n]),h="radio"===m?{role:"radio","aria-checked":p}:{"aria-pressed":p};return(0,a.jsx)(i.g7,{...d,...h,ref:t,role:"button","data-pdl-toggle-group-item":"","data-value":n,"data-state":p?"on":"off",tabIndex:p?0:-1,onClick:g,children:s})});s.displayName="ToggleGroupItem";var o=n(51052),d=n.n(o);let c=r.forwardRef((e,t)=>{let{avatar:n,children:i,...r}=e;return(0,a.jsx)(s,{...r,ref:t,children:(0,a.jsxs)("button",{className:d().toggle_group_bot_selector,children:[n,i]})})});c.displayName="ToggleGroupBotSelector";var u=n(92850),m=n.n(u);let p=r.forwardRef((e,t)=>{let{children:n,...i}=e;return(0,a.jsx)(s,{...i,ref:t,children:(0,a.jsx)("button",{className:m().toggle_group_button,children:n})})});p.displayName="ToggleGroupButton";var g=n(45020),h=n.n(g);let _=r.forwardRef((e,t)=>{let{children:n,...i}=e;return(0,a.jsx)(s,{...i,ref:t,children:(0,a.jsx)("button",{className:h().toggle_group_filter_chip,children:n})})});_.displayName="ToggleGroupFilterChip"},36796:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(85893),i=n(67294),r=n(12251),l=n(46932),s=n(72722),o=n(92635),d=n.n(o);let c=!1,u=new Map,m=new Map,onMessageEvent=e=>{if(!e.source||"poeFrame"!==e.data.source)return;let t=e.source,n=u.get(t);if(n)n(t,e);else{let n=m.get(t);n?n.push(e):m.set(t,[e])}},startListening=()=>{c||(window.addEventListener("message",onMessageEvent),c=!0)},registerPreviewCb=(e,t)=>{startListening(),u.set(e,t);let n=m.get(e);n&&(n.forEach(n=>t(e,n)),m.delete(e))},unregisterPreviewCb=(e,t)=>{u.get(e)===t&&u.delete(e)};var p=n(94370),g=n(22120),h=n(78410),_=n(98077),preview_PreviewSafeModeOverlay=e=>{let{onClose:t,onConfirm:n,className:i}=e,{t:r}=(0,g.$G)();return(0,a.jsx)(_.Z,{className:i,icon:(0,a.jsx)(p.au,{size:"x-lg"}),text:(0,a.jsx)("p",{children:r("We blocked this application from accessing untrusted external resources. Allowing all access for this application could share some of your information with third parties, like messages in this conversation and your IP address.")}),actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{as:"button",theme:"outline",onClick:n,children:r("Allow all")}),(0,a.jsx)(h.Z,{as:"button",theme:"outline",onClick:t,children:r("Keep blocked")})]})})},f=n(51882);let useIFrameListener=e=>{let[t,n]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let n=null==t?void 0:t.contentWindow;if(n)return registerPreviewCb(n,e),()=>{unregisterPreviewCb(n,e)}},[t,e]),n},getPreviewToHostClientMessage=e=>{if("poeFrame"!==e.data.source)return null;let t=e.data;return t},usePreviewIFrameListener=e=>{let{onReady:t,onLoaded:n,onResize:a,onLog:r,onWarn:l,onError:s,onUncaughtError:o,onFileContentsForDownload:d,onSendUserMessage:c,onSecurityPolicyViolation:u,onDomContentLoaded:m,onOpenUrl:p,onDownloadNativeAppOnly:g,onCanvasActionsRequest:h,onCopyToClipboardDesktopAppOnly:_,iframeUrl:k}=e,b=(0,i.useCallback)((e,t)=>{let n=e.requestName;"sendMessage"===n?null==c||c(e,t):"registerHandler"===n?(0,f.T)(t,e,{code:"unknown",message:"Not supported on this client",success:!1},k):(0,f.T)(t,e,{code:"unknown",message:"Unknown request",success:!1},k)},[c,k]),v=(0,i.useCallback)((e,i)=>{let c=getPreviewToHostClientMessage(i);if(c)switch(c.type){case"ready":null==t||t(e);break;case"loaded":null==n||n(c);break;case"resize":null==a||a(c);break;case"log":null==r||r(c);break;case"warn":null==l||l(c);break;case"error":null==s||s(c);break;case"uncaughtError":null==o||o(c);break;case"fileContentsForDownload":null==d||d(c);break;case"miniAppAPI":b(c,e);break;case"canvasActionsRequest":null==h||h(c,e);break;case"securityPolicyViolation":null==u||u(c);break;case"DOMContentLoaded":null==m||m(c);break;case"openUrl":null==p||p(c);break;case"copyToClipboardDesktopAppOnly":null==_||_(c);break;case"downloadNativeAppOnly":null==g||g(c);break;default:console.error("Unknown preview message type",c.type)}},[t,n,a,r,l,s,o,d,b,m,g,u,p,_,h]);return useIFrameListener(v)},getPreviewSrc=(e,t)=>t?e:e+"?safemode=false",k=(0,i.forwardRef)((e,t)=>{let{className:n,style:o,safeMode:c=!0,shouldShowSafeModeOverlay:u=!1,onSafeModeOverlayConfirm:m,onSafeModeOverlayDismiss:p,containerClassName:g,overlayClassName:h,sendUserMessageOverlay:_,openUrlOverlay:f,iframeClickCaptureIsDisabled:k,inline:b,iframeUrl:v,...C}=e,F=(0,s.Z)(),y=usePreviewIFrameListener({...C,iframeUrl:v}),S=(0,i.useMemo)(()=>(0,l.Z)([y,t]),[y,t]);return F?(0,a.jsxs)("div",{className:(0,r.$)(d().container,k?d().disableClickCapture:null,g),children:[(0,a.jsx)("iframe",{className:(0,r.$)(d().frame,d().stackedChild,b&&d().inline,n),style:o,ref:S,sandbox:"allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-forms allow-downloads",allow:"clipboard-write; web-share",allowFullScreen:!0,src:getPreviewSrc(v,c)}),f,_,u&&(0,a.jsx)(preview_PreviewSafeModeOverlay,{className:(0,r.$)(h,d().stackedChild),onClose:p,onConfirm:m})]}):null});k.displayName="PreviewIFrame";var b=k},98077:function(e,t,n){"use strict";var a=n(85893),i=n(12251),r=n(9485),l=n.n(r);t.Z=function(e){let{children:t,icon:n,text:r,actions:s,className:o,forceDark:d,isNarrow:c}=e;return(0,a.jsx)("div",{className:(0,i.$)(l().wrapper,d&&l().forceDark,o),children:(0,a.jsxs)("div",{className:(0,i.$)(l().wrapperInner,c&&l().isNarrow),children:[n,r,(0,a.jsx)("div",{className:l().actions,children:s}),t]})})}},45444:function(e,t,n){"use strict";n.d(t,{Os:function(){return useOpenUrlBaseProps},te:function(){return useOpenUrlProps}});var a=n(85893),i=n(94370),r=n(67294),l=n(22120),s=n(78410),o=n(73337),d=n(12251),c=n(57069),u=n(77338),m=n(98077),p=n(58595),g=n.n(p),useColoreScheme=function(){let[e,t]=(0,r.useState)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");return(0,r.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),handleChange=e=>{t(e.matches?"dark":"light")};return handleChange(e),e.addEventListener("change",handleChange),()=>{e.removeEventListener("change",handleChange)}},[]),e};let useOnVisible=(e,t)=>{let n=(0,r.useRef)(!1),a=(0,r.useRef)(t);a.current=t,(0,r.useEffect)(()=>{let t=new IntersectionObserver(e=>{e[0].isIntersecting&&!n.current&&(a.current(),n.current=!0)});return e.current&&t.observe(e.current),()=>t.disconnect()},[e])},useIsScrollable=e=>{let[t,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let t=e.current;t&&n(t.scrollHeight>t.clientHeight)},[e]),t},useIsAtTopOfScrollView=e=>{let[t,n]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let onScroll=()=>{let t=e.current;t&&n(t.scrollTop<=15)},t=e.current;return t&&(t.addEventListener("scroll",onScroll),onScroll()),()=>null==t?void 0:t.removeEventListener("scroll",onScroll)},[e]),t},useForceInvertedColorSchemeClassName=()=>{let e=(0,c.Fg)(),t=null==e?void 0:e.theme,n=useColoreScheme();return"dark"===t?g().forceLight:"light"===t?g().forceDark:"dark"===n?g().forceLight:g().forceDark},OpenUrlOverlay=e=>{let{url:t,onConfirmOpenUrl:n,onCancel:c,logger:p}=e,{t:h}=(0,l.$G)(),_=(0,r.useRef)(null),f=useIsScrollable(_),k=useIsAtTopOfScrollView(_),b=useForceInvertedColorSchemeClassName(),v=(0,r.useCallback)(()=>{_.current&&_.current.scrollTo({top:_.current.scrollHeight,behavior:"smooth"})},[]),C=(0,r.useCallback)(()=>{p.logPreviewInteraction(u.Z.open_external_link_modal_impression)},[p]);return useOnVisible(_,C),(0,a.jsx)(m.Z,{icon:(0,a.jsx)(o.Z,{linked:!1,className:g().logo}),text:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:g().title,children:h("Opening an external link")}),(0,a.jsx)("p",{className:g().description,children:h("This application is taking you to the following URL.")}),(0,a.jsxs)("div",{className:g().scrollContainerWrapper,children:[(0,a.jsx)("div",{className:g().borderContainer,children:(0,a.jsx)("div",{className:g().scrollContainer,ref:_,children:(0,a.jsx)("p",{className:g().link,children:t})})}),f&&k&&(0,a.jsx)("div",{className:g().scrollIndicator,children:(0,a.jsx)(s.Z,{as:"button",theme:"secondary",className:(0,d.$)(g().scrollDownButton,b),iconLeft:(0,a.jsx)(i.BD,{}),onClick:v,size:"sm",children:h("Scroll down to see more")})})]})]}),actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{as:"button",theme:"primary",onClick:n,children:h("Open link")}),(0,a.jsx)(s.Z,{as:"button",theme:"outline",onClick:c,children:h("Cancel")})]})})};function useOpenUrlProps(e,t){return useOpenUrlBaseProps(e,t)}function useOpenUrlBaseProps(e,t){let[n,i]=(0,r.useState)(null),l=(0,r.useCallback)(e=>{var t;if(t=e.url,!["http","https","mailto","tel","sms"].some(e=>t.startsWith(e+":"))){console.error("Invalid URL scheme",e.url);return}if(function(e){try{let t=new URL(e),n=["http://poe.com","https://poe.com"].includes(t.origin);return n}catch(e){return console.error("Unable to parse url"),!1}}(e.url)){window.open(e.url,"_blank");return}i(e.url)},[]),s=(0,r.useCallback)(()=>{n&&(window.open(n,"_blank"),i(null),t.logPreviewInteraction(u.Z.accept_open_external_link))},[n,t]),o=(0,r.useCallback)(()=>{i(null),t.logPreviewInteraction(u.Z.reject_open_external_link)},[t]);(0,r.useEffect)(()=>{i(null)},[e]);let d=n?(0,a.jsx)(OpenUrlOverlay,{url:n,onConfirmOpenUrl:s,onCancel:o,logger:t}):null;return{openUrlOverlay:d,onOpenUrl:l}}},6305:function(e,t,n){"use strict";n.d(t,{R:function(){return useHandleCopyToClipboardOnDesktopApp}});var a=n(67294),i=n(23595),r=n(64516);let useHandleCopyToClipboardOnDesktopApp=()=>{let e=(0,r.F)(),t=(0,a.useCallback)(t=>{(0,i.P)(e)&&navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(t.text)},[e]);return t}},51882:function(e,t,n){"use strict";n.d(t,{T:function(){return sendResponse}});var a=n(34478);function sendResponse(e,t,n,i){return(0,a.q$)(e,i,{source:"poeFrame",type:"miniAppAPI",subType:"response",requestName:t.requestName,requestId:t.requestId,data:n})}},58705:function(e,t,n){"use strict";var a=n(67294),i=n(34478);t.Z=function(e,t,n){let{inline:r=!0,withConsole:l=!0,withDomContentLoadedEvent:s=!0,allowDownloads:o=!1,interceptCopyEvents:d=!1,useInFrameCanvasServerRelay:c=!1,linkInterceptionBehavior:u="csp",debugMode:m=!1,datastoreBehavior:p="disabled",contentSource:g}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},h=(0,a.useCallback)(a=>{(0,i.q$)(a,e,{source:"poeFrame",type:"content",content:t,contentType:n,inline:r,miniApp:!0,withConsole:l,withDomContentLoadedEvent:s,allowDownloads:o,linkInterceptionBehavior:u,interceptCopyEvents:d,relayEnabled:c,debugMode:m,datastoreBehavior:p,contentSource:g})},[e,t,n,r,l,s,o,u,d,m,p,g,c]);return h}},41156:function(e,t,n){"use strict";n.d(t,{B:function(){return usePreviewIframeImpressionLogger}});var a=n(67294),i=n(12107),r=n(77338);let usePreviewIframeImpressionLogger=(e,t)=>{let{ref:n}=(0,i.Z)(t,{additionalLogData:()=>e?{...e.getData(),entry_type:r.Z.viewable_impression}:{}});return(0,a.useEffect)(()=>{e&&e.logPreviewInteraction(r.Z.impression)},[e]),n}},64468:function(e,t,n){"use strict";n.d(t,{X:function(){return usePreviewIframeUrl}});var a=n(22578);function usePreviewIframeUrl(e){let t=(0,a.useFragment)(n(54599),e);return t.canvasPreviewUrlOverride||"https://puc.poecdn.net/preview.69a3eca84a6dd594f38a.html"}n(44311)},12001:function(e,t,n){"use strict";var a=n(67294),i=n(9729),r=n(77338);t.Z=(e,t)=>{let[n,l]=(0,a.useState)(!0),[s,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),u=(0,a.useCallback)(()=>{l(!1),t&&t.logPreviewInteraction(r.Z.disable_safemode)},[t]),m=(0,a.useCallback)(e=>{let{blockedURI:t,disposition:n,documentURI:a,effectiveDirective:r,originalPolicy:l,referrer:s,statusCode:d,violatedDirective:c}=e;(0,i.Z)("poe/preview_csp_violation_report",{"blocked-uri":t,disposition:n,"document-uri":a,"effective-directive":r,"original-policy":l,referrer:s,"status-code":d,"violated-directive":c}),o(!0)},[]),p=(0,a.useCallback)(()=>{c(!0)},[]);return(0,a.useEffect)(()=>{d&&c(!1),s&&o(!1)},[e]),{safeMode:n,securityPolicyViolated:s,shouldShowSafeModeOverlay:n&&s&&!d,disableSafeMode:u,onSecurityPolicyViolation:m,onSafeModeOverlayDismiss:p}}},28937:function(e,t,n){"use strict";n.d(t,{Z:function(){return subscription_PaywallContextWrapper}});var a,i,r=n(85893),l=n(67294),s=n(22578),o=n(41143),d=n.n(o);n(44311);var c=n(22641);(a=i||(i={})).web_subs_announcement="web_subs_announcement",a.response_speed_upsell="response_speed_upsell",a.subs_onboarding_flow="subs_onboarding_flow",a.ios_subs_signup_upsell="ios_subs_signup_upsell",a.android_subs_announcement="android_subs_announcement";var u=i;let importAnnouncement=()=>n.e(4098).then(n.bind(n,94098));var subscription_WebSubscriptionAnnouncementModalOpener=e=>{var t;let{bot:a,viewer:i}=e,o=(0,s.useFragment)(n(10962),a),m=(0,s.useFragment)(n(34932),i),[p]=(0,s.useMutation)(n(74969)),g=m.creationTime;d()(!!g,"Viewer creation time cannot be empty!");let h=g/1e3,_=Date.now()-h>=864e5,f=m.shouldSeeWebSubscriptionAnnouncement&&!(null===(t=m.subscription)||void 0===t?void 0:t.subscriptionProduct.paidSubscriptionPeriod)&&o.isCreatedByPoeUserAccount&&_,[k,b]=(0,l.useState)(f),v=(0,l.useCallback)(()=>{b(!1),p({variables:{dismissibleType:u.web_subs_announcement},onCompleted:()=>{b(!1)}})},[b,p]),C=(0,l.useMemo)(()=>({closeAnnouncement:v}),[v]);return(0,r.jsx)(c.Z,{isOpen:k,onRequestClose:v,body:importAnnouncement,bodyProps:C,modalHeight:200,useMinHeight:!0})},m=n(6940),p=n(84931),g=n(20620);let importPaywallModal=()=>Promise.all([n.e(8324),n.e(6470),n.e(668),n.e(3258),n.e(7420),n.e(6696)]).then(n.bind(n,2459));var subscription_PaywallOpener=e=>{let{subscriptionFunnelId:t,bot:a,viewer:i}=e,{botId:o}=(0,s.useFragment)(n(1828),a),d=(0,s.useFragment)(n(90665),i),{subscription:c}=d,u=(0,l.useMemo)(()=>({botId:o,subscriptionFunnelId:t}),[o,t]),{closePaywall:m}=(0,p.r)();return(null==c?void 0:c.subscriptionProduct.paidSubscriptionPeriod)?null:(0,r.jsx)(l.Suspense,{fallback:null,children:(0,r.jsx)(g.Z,{body:importPaywallModal,bodyProps:u,onRequestClose:m})})},subscription_PaywallContextWrapper=e=>{let{bot:t,viewer:a,children:i}=e,o=(0,s.useFragment)(n(45815),t),d=(0,s.useFragment)(n(56848),a);(0,m.zw)();let[c,u]=(0,l.useState)(null),g=!!d.poeUser;return(0,r.jsxs)(p.U,{value:g?u:null,children:[i,g&&(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsx)(subscription_PaywallOpener,{viewer:d,...c}),(0,r.jsx)(subscription_WebSubscriptionAnnouncementModalOpener,{bot:o,viewer:d})]})]})}},15117:function(e,t,n){"use strict";n.d(t,{E:function(){return ParameterControlsProvider},k:function(){return useParameterControls}});var a=n(85893),i=n(67294);let r=(0,i.createContext)(null);function ParameterControlsProvider(e){let t=(0,i.useState)({});return(0,a.jsx)(r.Provider,{value:t,children:e.children})}let useParameterControls=()=>{let e=(0,i.useContext)(r);if(null===e)throw Error("This can only be invoked inside ParameterControlsProvider");return e}},64291:function(e,t,n){"use strict";var a=n(67294),i=n(22578),r=n(69388);let l=new Map;t.Z=e=>{var t;let s=(0,i.useFragment)(n(69514),e),o=(0,i.useRelayEnvironment)();if((0,a.useEffect)(()=>{(0,i.commitLocalUpdate)(o,e=>{if(!s)return;let t=e.get(s.id);t&&s.state===r.Z.cancelled&&s.textLengthOnCancellation&&t.setValue(s.textLengthOnCancellation,"textLengthOnCancellationImmediate")})},[o,s]),!s)return{isMessageCancelled:!1,textLengthOnCancellation:null};let{state:d,textLengthOnCancellation:c}=s;return d===r.Z.cancelled&&c&&c>0&&l.set(s.id,c),{isMessageCancelled:d===r.Z.cancelled,textLengthOnCancellation:null!==(t=l.get(s.id))&&void 0!==t?t:c}}},27382:function(e,t,n){"use strict";n.d(t,{Uw:function(){return formattedCopyToClipboard},VP:function(){return copyImageToClipboard},n9:function(){return copyStringToClipboard},vQ:function(){return copyToClipboard}});let copyToClipboard=async(e,t)=>{let n=Promise.resolve(e);if(void 0!==window.ClipboardItem){let e=new window.ClipboardItem({"text/plain":n.then(e=>new Blob([e],{type:"text/plain"}))});try{return await navigator.clipboard.write([e]),!0}catch(e){return console.error("Error copying to clipboard",e),t&&t(),!1}}else try{let e=window.document.createElement("textarea");window.document.body.appendChild(e),e.value=await n,e.select();let a=window.document.execCommand("copy");return a||(e.focus(),e.setSelectionRange(0,99999),a=window.document.execCommand("copy")),e.remove(),!a&&t&&t(),a}catch(e){return t&&t(),!1}},copyStringToClipboard=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return t?formattedCopyToClipboard({"text/plain":e},n):copyToClipboard(e,n)},formattedCopyToClipboard=async(e,t)=>{if(void 0!==window.ClipboardItem){let n={};Object.entries(e).forEach(e=>{let[t,a]=e;n[t]=Promise.resolve(a).then(e=>new Blob([e],{type:t}))});let a=new window.ClipboardItem(n);try{return await navigator.clipboard.write([a]),!0}catch(e){return console.error("Error copying to clipboard",e),t&&t(),!1}}else try{let n=window.document.createElement("textarea");window.document.body.appendChild(n),n.value=await e["text/plain"],n.select();let a=window.document.execCommand("copy");return a||(n.focus(),n.setSelectionRange(0,99999),a=window.document.execCommand("copy")),n.remove(),!a&&t&&t(),a}catch(e){return t&&t(),!1}},convertImageBlobToPng=async e=>new Promise(t=>{let n=document.createElement("canvas"),a=n.getContext("2d");if(!a)throw Error("Failed to get 2D context from canvas");let i=new Image;i.src=URL.createObjectURL(e),i.onload=()=>{n.width=i.width,n.height=i.height,a.drawImage(i,0,0),n.toBlob(e=>{if(e)t(e);else throw Error("Failed to convert canvas to blob")},"image/png")}}),copyImageToClipboard=async e=>{let t=fetch(e).then(e=>e.blob()).then(e=>"image/jpeg"===e.type?convertImageBlobToPng(e):e);await navigator.clipboard.write([new ClipboardItem({"image/png":t})])}},61936:function(e,t,n){"use strict";n.d(t,{Y:function(){return useDragAndDrop},w:function(){return getDirectoriesFromDragEvent}});var a=n(67294);let dragContainsNonFileData=e=>{var t;let n=(null===(t=e.dataTransfer)||void 0===t?void 0:t.types)||[];return n.some(e=>"Files"!==e)},useDragEventListener=(e,t,n)=>{(0,a.useEffect)(()=>{let a=e.current;return a&&n?(a.addEventListener(t,n),()=>{a.removeEventListener(t,n)}):()=>{}},[e,t,n])},onDropTargetDragOver=e=>{e.preventDefault()},useDragState=e=>{let[t,n]=(0,a.useState)(!1),i=(0,a.useRef)(0),r=(0,a.useCallback)(()=>{n(!1),i.current=0},[]),l=(0,a.useCallback)(e=>{e.preventDefault(),i.current++,dragContainsNonFileData(e)||n(!0)},[]),s=(0,a.useCallback)(e=>{e.preventDefault(),i.current--,i.current<=0&&n(!1)},[]);return useDragEventListener(e,"dragenter",l),useDragEventListener(e,"dragleave",s),useDragEventListener(e,"dragover",onDropTargetDragOver),{isDraggingOver:t,clearState:r}};function getDirectoriesFromDragEvent(e){var t;let n=Array.from((null===(t=e.dataTransfer)||void 0===t?void 0:t.items)||[]);return n.filter(e=>{var t,n;let a;return!(a=(null==e?void 0:null===(t=e.webkitGetAsEntry)||void 0===t?void 0:t.call(e))||null)&&"getAsEntry"in e&&"function"==typeof e.getAsEntry&&(a=(null===(n=e.getAsEntry)||void 0===n?void 0:n.call(e))||null),null==a?void 0:a.isDirectory})}let useDragAndDrop=(e,t)=>{let n=(0,a.useRef)(document),{isDraggingOver:i,clearState:r}=useDragState(n),{isDraggingOver:l,clearState:s}=useDragState(e),o=(0,a.useCallback)(()=>{r(),s()},[r,s]),d=(0,a.useCallback)(e=>{e.preventDefault(),o(),dragContainsNonFileData(e)||t(e)},[o,t]);return useDragEventListener(n,"drop",o),useDragEventListener(e,"drop",d),{isDropTargetDraggingOver:l,isDocumentDraggingOver:i}}},24579:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});let a=new Map},41149:function(e,t,n){"use strict";n.d(t,{l7:function(){return MessageEditingProvider},m:function(){return useMessageEditing},tv:function(){return useEditMessage}});var a=n(67294),i=n(22120),r=n(22578),l=n(44311),s=n(8583),o=n(19156),d=n(24579),c=n(30038),u=n(96384),m=n(43518),p=n(28871),g=n(41580),h=n(50311),_=n(9729);let editMessage=(e,t,a,i,r,s,o,d,c,u)=>{let m={mutation:n(31869),uploadables:o,variables:{originalMessageId:t,query:a,source:i,attachmentsToRemove:r,attachments:s,fileHashJwts:d},onCompleted:e=>{null==c||c(e)},onError:e=>{null==u||u(e)}};return(0,l.commitMutation)(e,m)},messageHasNotChanged=(e,t,n,a)=>a===n&&0===e.length&&0===t.length,f={sourceType:"chat_input",chatInputMetadata:{useVoiceRecord:!1}},editMessageWithOptions=async e=>{var t,a;let{environment:i,messageId:l,newText:o,viewer:c,chatInputRef:u,voiceButtonRef:_,chatId:k,files:b,clearFiles:v,cancelEditing:C,onSuccess:F,setToast:y,t:S,previousMessageText:w,setIsLoadingEdit:I}=e;if(!o.trim()&&(null==b?void 0:b.length)===0){y({content:S("Message cannot be empty"),type:s.pC.error});return}I(!0);let{shouldUseFinishUploadEndpoint:x,shouldUsePresignedUrl:P}=(0,r.readInlineData)(n(75267),c),L=Array.from(d.i.entries()).filter(e=>{let[t]=e;return!(null==b?void 0:b.includes(t))}).map(e=>{let[,t]=e;return t.id}),M=null!==(t=null==b?void 0:b.filter(e=>!d.i.has(e)))&&void 0!==t?t:[],resetState=()=>{C(),(null==u?void 0:u.current)&&u.current.setValue(""),null==v||v(),I(!1)},onMessageEditError=(e,t)=>{y({content:t?S("Failed to edit message: {{statusMessage}}",{statusMessage:t}):S("Failed to edit message."),type:s.pC.error}),resetState()};if(messageHasNotChanged(M,L,o,w)){resetState();return}logMessageEditedAction(l,k,{removedAttachmentCount:L.length,newAttachmentCount:M.length});let[T,B]=(0,p.A6)(M),E=await Promise.all(B.map(async e=>({contentType:T[e].type,fileHash:await (0,h.B)(T[e]),name:T[e].name})));if(P){let e=await (0,m.$)(E.map(e=>({fileHash:e.fileHash,contentType:e.contentType})),i,S,onMessageEditError),t=await (0,m.K)(new Map(e.map((e,t)=>[e,M[t]])),onMessageEditError,S);if(t.length>0)return}let N=[];if(x&&T){let{success:e,tokens:t}=await (0,g.qY)({uploadablesAndAttachmentsOrFileInfo:P?E:{uploadables:T,attachments:B},onComplete:e=>{if(!e.every(e=>e.success)){let t=e.filter(e=>!e.success),n=new Map;t.forEach(e=>{n.has(e.error)||n.set(e.error,[]),n.get(e.error).push(e.filename)});let a=Array.from(n.entries()).map(e=>{let[t,n]=e;return S("{{errorMessage}}: {{filenames}}",{errorMessage:t,filenames:n.join(", ")})}).join(" ");onMessageEditError(Error("Failed to upload files"),a)}}});if(!e)return;N=t}try{null==_||null===(a=_.current)||void 0===a||a.abortRecognition();let e=editMessage(i,l,o,f,L,B,T,N,e=>{"success"!==e.messageEdgeEdit.status?y({content:S("Failed to edit message: {{statusMessage}}",{statusMessage:e.messageEdgeEdit.statusMessage}),type:s.pC.error}):y({content:S("Message edited"),type:s.pC.success}),resetState(),null==F||F(e)},onMessageEditError);return e}catch(e){throw y({content:S("Failed to edit message"),type:s.pC.error}),I(!1),e}},logMessageEditedAction=(e,t,n)=>{(0,_.Z)("poe/action_log",{action_type:(0,u.E)(c.Z.edit_message),message_id:e,chat_id:t,action_metadata:n})},useEditMessage=()=>{let e=(0,r.useRelayEnvironment)(),t=(0,s.ZP)(),{t:n}=(0,i.$G)(),{editingMessageData:l,setIsLoadingEdit:o}=useMessageEditing();return(0,a.useCallback)(a=>editMessageWithOptions({...a,environment:e,setToast:t,t:n,previousMessageText:null==l?void 0:l.text,setIsLoadingEdit:o}),[e,t,n,l,o])},k=(0,a.createContext)({editingMessageData:null,initialMessageDraftValue:"",startEditing:()=>{},cancelEditing:()=>{},isLoadingEdit:!1,setIsLoadingEdit:()=>{}});function MessageEditingProvider(e){let{children:t}=e,[n,i]=(0,a.useState)(null),[r,l]=(0,a.useState)(""),[s,d]=(0,a.useState)(!1),{draft:c,updateDraft:u}=(0,o.cX)();(0,a.useEffect)(()=>{c.editingMessageId&&c.content&&i({messageId:c.editingMessageId,text:c.content})},[c]);let m=(0,a.useCallback)((e,t,n)=>{void 0!==n&&l(n),i({messageId:e,text:t}),u(n=>({...n,editingMessageId:e,content:t}))},[u]),p=(0,a.useCallback)(()=>{i(null),d(!1),u(e=>({...e,editingMessageId:void 0,content:""}))},[u]);return a.createElement(k.Provider,{value:{editingMessageData:n,initialMessageDraftValue:r,startEditing:m,cancelEditing:p,isLoadingEdit:s,setIsLoadingEdit:d}},t)}function useMessageEditing(){return(0,a.useContext)(k)}},18462:function(e,t,n){"use strict";n.d(t,{Br:function(){return MultiselectProvider},oW:function(){return i}});var a,i,r=n(85893),l=n(67294);(a=i||(i={}))[a.none=0]="none",a[a.share=1]="share",a[a.delete=2]="delete";let s=(0,l.createContext)(0),o=(0,l.createContext)(()=>{}),d=(0,l.createContext)([]),c=(0,l.createContext)(()=>{}),MultiselectProvider=e=>{let{children:t}=e,[n,a]=(0,l.useState)(0),[i,u]=(0,l.useState)([]);return(0,r.jsx)(s.Provider,{value:n,children:(0,r.jsx)(o.Provider,{value:a,children:(0,r.jsx)(d.Provider,{value:i,children:(0,r.jsx)(c.Provider,{value:u,children:t})})})})};t.ZP=()=>{let e=(0,l.useContext)(s),t=(0,l.useContext)(o),n=(0,l.useContext)(d),a=(0,l.useContext)(c),i=(0,l.useCallback)(e=>{a(t=>[...t,e])},[a]),r=(0,l.useCallback)(e=>{a(t=>t.filter(t=>t!==e))},[a]),u=(0,l.useCallback)(e=>{n.includes(e)?r(e):i(e)},[n,r,i]),m=(0,l.useCallback)(()=>{a([])},[a]),p=(0,l.useMemo)(()=>0!==e,[e]);return{selectionMode:e,selectedIds:n,setSelectionMode:t,addSelection:i,removeSelection:r,toggleSelection:u,clearSelection:m,isSelecting:p}}},15601:function(e,t,n){"use strict";n.d(t,{q:function(){return getHasBeenOffline}});var a=n(67294);let i=!1,getHasBeenOffline=()=>i;t.Z=()=>{let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let setOffline=()=>{i=!0,t(!0)},setOnline=()=>{t(!1)};return window.addEventListener("offline",setOffline),window.addEventListener("online",setOnline),()=>{window.removeEventListener("offline",setOffline),window.removeEventListener("online",setOnline)}},[t]),e}},71953:function(e,t,n){"use strict";n.d(t,{F5:function(){return useCreateOptimisticChat},VQ:function(){return releaseOptimisticChatNodeForGarbageCollection},t3:function(){return useOptimisticChat},tR:function(){return createOptimisticChat}});var a=n(41143),i=n.n(a),r=n(67294),l=n(22578),s=n(44311),o=n(96458),d=n(87973),c=n(67280),u=n(69388),m=n(8453),p=n(46245),g=n(53236),h=n(89188);let gen_random_number=()=>Math.floor(1e9*Math.random()),getOptimisticChatId=e=>"OPTIMISTIC_CHAT_".concat(e),getOptimisticMessagesConnectionId=e=>s.ConnectionHandler.getConnectionID(e,"ChatMessagesView_chat_messagesConnection"),getOptimisticMessagePageInfoId=e=>"".concat(e,"_MESSAGE_PAGE_INFO"),getOptimisticMemberPageInfoId=e=>"".concat(e,"_MEMBER_PAGE_INFO"),getOptimisticIntroMessageEdgeId=e=>"".concat(e,"_INTRO_MESSAGE_EDGE"),getOptimisticMembersConnectionId=e=>"".concat(e,"_MEMBERS_CONNECTION"),getOptimisticBotMemberEdgeId=e=>"".concat(e,"_BOT_MEMBER_EDGE"),useOptimisticChat=(e,t)=>{let n=useCreateOptimisticChat(e),[a]=(0,r.useState)(()=>t||n());return a},useCreateOptimisticChat=e=>{let t=(0,l.useRelayEnvironment)();return(0,r.useCallback)(()=>createOptimisticChat({environment:t,bot:e}),[t,e])},createOptimisticChat=e=>{let t,a,{environment:r,bot:l}=e;return(0,s.commitLocalUpdate)(r,e=>{let{id:r,botId:_,nickname:f,introduction:k,isTrustedBot:b,viewerIsCreator:v,handle:C,canvasContent:F,isPrivateBot:y,...S}=(0,s.readInlineData)(n(67203),l),w=e.get(r);for(i()(w,"botRecord is ".concat(w));!t||e.get(t);)t=getOptimisticChatId(a=gen_random_number());let I=e.create(t,"Chat");if(I.setValue(t,"id"),I.setValue(t,"chatId"),I.setValue("","chatCode"),I.setValue(!0,"isOptimistic"),I.setValue(f,"defaultBotNickname"),I.setValue(1e3*Date.now(),"creationTime"),I.setValue(1e3*Date.now(),"lastInteractionTime"),I.setValue(null,"title"),I.setLinkedRecords([],"activeJobs"),I.setValue(!0,"shouldShowDisclaimer"),I.setValue(1e3*Date.now(),"creationTime"),I.setValue(!w.getValue("isTrustedBot"),"membersIncludeUntrustedBot"),I.setValue(!b,"membersIncludeUntrustedBot"),I.setLinkedRecord(w,"defaultBotObject"),I.setValue(null,"displayedChatModal"),F){let n=(0,m.kU)(e,{bot:{handle:C,id:r,botId:_,viewerIsCreator:v,deletionState:o.Z.not_deleted,isCanvasOnlyBot:!0,isPromptPublic:!0,isPrivateBot:y,canvasContent:{content:F.content,contentType:F.contentType}},botId:_,previewContentObject:{content:F.content,contentType:F.contentType,language:F.language},__isNode:"BotCanvasTab",isOptimistic:!0,id:(0,m.Zr)(),state:d.Z.foreground,canvasCode:"OPTIMISTIC_CANVAS_CODE",clientNonce:(0,g.C)(),title:C});(0,p.vf)(e,{canvasTab:n,chatNodeId:t})}let x=k?(0,h.dS)(e,{text:k,state:u.Z.complete,bot:S,contentType:c.Z.text_markdown}):null,P=k?[x]:[],L=P.map(n=>{i()(t,"chatId is ".concat(t));let a=e.create(getOptimisticIntroMessageEdgeId(t),"MessageEdge");return a.setLinkedRecord(n,"node"),a}),M=e.create(getOptimisticMessagePageInfoId(t),"PageInfo");M.setValue(!1,"hasPreviousPage"),M.setValue(x?x.getDataID():null,"startCursor");let T=e.create(getOptimisticMessagesConnectionId(t),"MessagesConnection");T.setLinkedRecords(L,"edges"),T.setLinkedRecord(M,"pageInfo"),I.setLinkedRecord(T,"messagesConnection",{last:5}),I.setLinkedRecord(T,"__ChatMessagesView_chat_messagesConnection_connection");let B=[e.create(getOptimisticBotMemberEdgeId(t),"ChatMemberEdge")];B[0].setLinkedRecord(w,"node");let E=e.create(getOptimisticMemberPageInfoId(t),"PageInfo");E.setValue(!1,"hasNextPage"),E.setValue(B[0].getDataID(),"endCursor");let N=e.create(getOptimisticMembersConnectionId(t),"ChatMemberConnection");N.setLinkedRecords(B,"edges"),N.setLinkedRecord(E,"pageInfo"),I.setLinkedRecord(N,"membersConnection"),e.getRoot().setLinkedRecord(I,"optimisticChat",{optimisticChatId:t})}),i()(t,"chatId is ".concat(t)),i()(a,"chatIdNumber is ".concat(a)),function(e,t){let a=n(19654),i=(0,s.getRequest)(a),r=(0,s.createOperationDescriptor)(i,{id:e}),l=t.retain(r);_.set(e,l)}(t,r),t},_=new Map;function releaseOptimisticChatNodeForGarbageCollection(e){let t=_.get(e);t&&(t.dispose(),_.delete(e))}},1874:function(e,t,n){"use strict";n.r(t),n.d(t,{OptimisticChatHeader:function(){return OptimisticChatHeader},default:function(){return T}});var a=n(85893),i=n(11163),r=n(67294),l=n(22578);n(44311);var s=n(41143),o=n.n(s),d=n(93581),c=n(80010),u=n(97482),m=n(91469),p=n(71258),g=n(42093),h=n(71953),_=n(59657),f=n(10198),k=n.n(f);let useProfileImageUrl=e=>{let t=(0,l.useFragment)(n(89211),e),a=(0,d.L)(t);if("string"==typeof a)return a;let i=a.src;return i.startsWith("/")&&(i="https://poe.com"+i),i},useBotTwitterCardProperties=(e,t)=>{let a=(0,l.useFragment)(n(20147),t),{shareLink:i,description:s}=a,d=(0,g.dC)(a),c=useProfileImageUrl(a);return o()(i,"Share link of bot is undefined"),(0,r.useMemo)(()=>({"twitter:card":e,"twitter:site":"@Quora","twitter:url":i,"twitter:title":d+" - Poe","twitter:description":null!=s?s:"","twitter:image":c}),[e,i,d,s,c])},useBotOpengraphProperties=(e,t)=>{let a=(0,l.useFragment)(n(56021),t),{shareLink:i,description:s}=a,d=(0,g.dC)(a),c=useProfileImageUrl(a);return o()(i,"Share link of bot is undefined"),(0,r.useMemo)(()=>({"og:type":e,"og:url":i,"og:title":d+" - Poe","og:description":null!=s?s:"","og:image":c}),[e,i,d,s,c])};var bot_LoggedOutBotLandingPageInner=e=>{let{bot:t,viewer:i}=e,r=(0,l.useFragment)(n(85286),t),s=(0,l.useFragment)(n(18816),i),{description:o,shouldIndexForExternalSearch:d}=r,f=(0,g.dC)(r),b=useBotTwitterCardProperties("summary_large_image",r),v=useBotOpengraphProperties("website",r),C=(0,h.t3)(r);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(m.Z,{header:(0,a.jsx)(u.Z,{viewer:s,bot:r,useChatTitle:!0,children:(0,a.jsx)(OptimisticChatHeader,{optimisticChatId:C})}),children:[(0,a.jsx)(p.Z,{title:(0,_.p)(f),description:o,twittercardProperties:b,opengraphProperties:v,shouldIndexForExternalSearch:d}),(0,a.jsx)("div",{className:k().loggedOutBotInfoCard,children:(0,a.jsx)(c.Z,{bot:r,viewer:s,showFollowerCount:!0,showTalkToBotButton:!0})})]})})},b=n(95578),v=n(96011),C=n(54344),F=n(58143),y=n(88258),S=n(74285),w=n(68374),I=n(4694),x=n(45598),P=n(38357),L=n(29664);let OptimisticChatHeader=e=>{let{optimisticChatId:t}=e,{optimisticChat:i}=(0,l.useLazyLoadQuery)(n(66690),{optimisticChatId:t});if(!i)throw new I.NotFound;return(0,a.jsx)(b.Z,{chat:i})},BotLandingPageInner=e=>{let{root:t,viewer:s,bot:o,optimisticChatId:d,chats:c}=e;if(!o)throw new I.NotFound;let u=(0,l.useFragment)(n(34169),t),m=(0,l.useFragment)(n(56304),o),p=(0,l.useFragment)(n(5531),c),g=(0,l.useFragment)(n(6226),s),h=(0,i.useRouter)();(0,S.Rz)(),(0,w.fs)(g);let[_,f]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let forceRerender=()=>{f(e=>e+1)},handleRouteChange=(e,t)=>{let{shallow:n}=t;n||forceRerender()};return h.events.on("routeChangeComplete",handleRouteChange),()=>{h.events.off("routeChangeComplete",handleRouteChange)}},[h,h.asPath]),(0,a.jsx)(v.OptimisticChatPageColumn,{root:u,bot:m,chats:p,viewer:g,optimisticChatId:d},_)},M=(0,y.T)(e=>{let{bot:t,chats:n,viewer:r,...l}=e,s=(0,i.useRouter)(),{isLoggedInUser:o}=(0,C.b)();if(!t){if(!o&&s.query.invite_code)throw new I.RedirectionError((0,P.yv)(s.asPath));throw new I.NotFound}return(0,a.jsx)(F.M,{pageType:L.Z.bot_profile,children:o?(0,a.jsx)(BotLandingPageInner,{root:l,bot:t,chats:n.edges,viewer:r}):(0,a.jsx)(bot_LoggedOutBotLandingPageInner,{bot:t,viewer:r})})},{query:n(73587),variables:e=>{let t=null==e?void 0:e.handle;if(!(0,x.H)(t))throw new I.NotFound;let n=e.invite_code;return(0,x.H)(n)||(n=void 0),{botHandle:t,inviteCode:n}}},{shouldIncludeGoogleOneTapPrompt:!0,leftSidebarDefaultCollapsed:!0});var T=M},18802:function(e,t){"use strict";var n,a;(a=n||(n={})).chat_page="chat_page",a.chat_settings="chat_settings",a.share_modal="share_modal",a.add_member_modal="add_member_modal",a.home_page="home_page",a.user_profile_page="user_profile_page",a.direct_message="direct_message",a.page_surface="page_surface",t.Z=n},77338:function(e,t){"use strict";var n,a;(a=n||(n={})).impression="impression",a.viewable_impression="viewable_impression",a.disable_safemode="disable_safemode",a.share="share",a.save_as_file="save_as_file",a.open_in_new_tab="open_in_new_tab",a.confirm_preview_triggered_message="confirm_preview_triggered_message",a.reject_preview_triggered_message="reject_preview_triggered_message",a.open_preview_in_canvas="open_preview_in_canvas",a.auto_open_preview_in_canvas="auto_open_preview_in_canvas",a.viewable_impression_10s="viewable_impression_10s",a.viewable_impression_30s="viewable_impression_30s",a.viewable_impression_60s="viewable_impression_60s",a.viewable_impression_300s="viewable_impression_300s",a.open_external_link_modal_impression="open_external_link_modal_impression",a.accept_open_external_link="accept_open_external_link",a.reject_open_external_link="reject_open_external_link",a.show_canvas_using_fab="show_canvas_using_fab",a.hide_canvas="hide_canvas",a.close_canvas_tab="close_canvas_tab",a.switch_canvas_tab="switch_canvas_tab",t.Z=n},13239:function(e){e.exports={container:"AspectRatioControl_container__TN0Oe",aspectRatioPreview:"AspectRatioControl_aspectRatioPreview__rDHik",aspectRatioPreviewContainer:"AspectRatioControl_aspectRatioPreviewContainer__HsQSt",toggleGroup:"AspectRatioControl_toggleGroup___D1gz",toggleGroupButton:"AspectRatioControl_toggleGroupButton__V0Flu",toggleGroupSpacer:"AspectRatioControl_toggleGroupSpacer__9uPBK"}},65858:function(e){e.exports={dropZone:"FilePickerControl_dropZone__jLcQ7",dropZoneWithFiles:"FilePickerControl_dropZoneWithFiles__ny0xg",dropZoneEmpty:"FilePickerControl_dropZoneEmpty__ozkBa",fileInput:"FilePickerControl_fileInput__wGGSV",attachmentsBar:"FilePickerControl_attachmentsBar__sal9r",attachment:"FilePickerControl_attachment__XglyM",instructionBarEmpty:"FilePickerControl_instructionBarEmpty__x9Rvx",instructionBar:"FilePickerControl_instructionBar__AJ8a3"}},38719:function(e){e.exports={root:"switch_root___vZBZ",isDisabled:"switch_isDisabled__5vwaF",input:"switch_input__8I5Oq",uiElement:"switch_uiElement__Yu93b",text:"switch_text__OKPsR",isChecked:"switch_isChecked__T9bSp"}},42764:function(e){e.exports={reset:"button_reset__UkH98",tabs:"tab_tabs__fbjCM",tabsItem:"tab_tabsItem__MVYvW",tab:"tab_tab__380dY button_reset__UkH98",inner:"tab_inner__lR6r6",isActive:"tab_isActive__rSDRV"}},53213:function(e){e.exports={root:"textArea_root__HPeK1",hasError:"textArea_hasError__iC4wN",isDisabled:"textArea_isDisabled__4XBQP"}},81516:function(e){e.exports={root:"textInput_root__vXWK0",input:"textInput_input__9YpqY",wrapper:"textInput_wrapper__p6IWz",hasError:"textInput_hasError__nkiMW",isDisabled:"textInput_isDisabled__F1eTN",withAction:"textInput_withAction__f9lsI",actionWrapper:"textInput_actionWrapper__NOEMH"}},51052:function(e){e.exports={toggle_group_bot_selector:"ToggleGroupBotSelector_toggle_group_bot_selector__t_yr7"}},92850:function(e){e.exports={toggle_group_button:"ToggleGroupButton_toggle_group_button__7uUzh"}},45020:function(e){e.exports={toggle_group_filter_chip:"ToggleGroupFilterChip_toggle_group_filter_chip__KAL6r"}},58595:function(e){e.exports={logo:"OpenUrlOverlay_logo__Exq65",title:"OpenUrlOverlay_title__o__hy",description:"OpenUrlOverlay_description__tL6fG",link:"OpenUrlOverlay_link__qYP_w",forceLight:"OpenUrlOverlay_forceLight__IOIhu force-light",forceDark:"OpenUrlOverlay_forceDark__onBvc force-dark",scrollContainerWrapper:"OpenUrlOverlay_scrollContainerWrapper__Awe9U",scrollDownButton:"OpenUrlOverlay_scrollDownButton__u80ra",borderContainer:"OpenUrlOverlay_borderContainer__EIFGh",scrollContainer:"OpenUrlOverlay_scrollContainer___J98W",scrollIndicator:"OpenUrlOverlay_scrollIndicator__J7Ccv"}},10198:function(e){e.exports={loggedOutBotInfoCard:"LoggedOutBotLandingPageInner_loggedOutBotInfoCard__Qk92J"}},15901:function(e){e.exports={dropTarget:"ChatDragDropTarget_dropTarget__1WrAL",isInsideRelativeContainer:"ChatDragDropTarget_isInsideRelativeContainer__7KI58"}},41248:function(e){e.exports={input:"ChatMessageFileInputButton_input__svNx4"}},96522:function(e){e.exports={"compact-only":"only screen and (max-width : 684px)",container:"ChatMessageInputAttachments_container__AAxGu",attachment:"ChatMessageInputAttachments_attachment__ZTrHT"}},94257:function(e){e.exports={tabsHeader:"ChatMessageCustomUIButton_tabsHeader__YxUou",component:"ChatMessageCustomUIButton_component__Jtyyv",toggleSwitch:"ChatMessageCustomUIButton_toggleSwitch__fZdYH",controlsContainer:"ChatMessageCustomUIButton_controlsContainer__tCKl6",customUITopLevelContainer:"ChatMessageCustomUIButton_customUITopLevelContainer__BFywP",columnsContainer:"ChatMessageCustomUIButton_columnsContainer__tMzsr",topLevelContainerColumnLeft:"ChatMessageCustomUIButton_topLevelContainerColumnLeft__vJajc",topLevelContainerColumnRight:"ChatMessageCustomUIButton_topLevelContainerColumnRight__z8PI7",collapsibleCard:"ChatMessageCustomUIButton_collapsibleCard__hR6KW",resetButton:"ChatMessageCustomUIButton_resetButton__uRH8A",button:"ChatMessageCustomUIButton_button__xgsBN",headerNotInteractive:"ChatMessageCustomUIButton_headerNotInteractive__CBZ2L",conditionallyRendered:"ChatMessageCustomUIButton_conditionallyRendered__S9otC",fadeIn:"ChatMessageCustomUIButton_fadeIn___Wvj8"}},48556:function(e){e.exports={"compact-only":"only screen and (max-width : 684px)",inputContainer:"ChatMessageInputContainer_inputContainer__s2AGa",actionContainerBase:"ChatMessageInputContainer_actionContainerBase__8BKrX",actionContainerLeft:"ChatMessageInputContainer_actionContainerLeft__dIwkm ChatMessageInputContainer_actionContainerBase__8BKrX",actionContainerRight:"ChatMessageInputContainer_actionContainerRight__fyfsX ChatMessageInputContainer_actionContainerBase__8BKrX",breakSeparator:"ChatMessageInputContainer_breakSeparator__6WnHy",textArea:"ChatMessageInputContainer_textArea__fNi6E"}},6269:function(e){e.exports={container:"ChatMessageVoiceInputButton_container__B5Uev",button:"ChatMessageVoiceInputButton_button__NjXno",pulse:"ChatMessageVoiceInputButton_pulse__5F2SB",fadeInUpAndOut:"ChatMessageVoiceInputButton_fadeInUpAndOut__NP3s1"}},11300:function(e){e.exports={scrollSection:"MainColumn_scrollSection__A9NHB",scrollSectionOverflow:"MainColumn_scrollSectionOverflow__FbPqw",column:"MainColumn_column__UEunw",noMaxWidth:"MainColumn_noMaxWidth__8pWAi",disallowScroll:"MainColumn_disallowScroll__zR9H2",startAtBottom:"MainColumn_startAtBottom__KeM8B"}},97554:function(e){e.exports={expanded:"only screen and (min-width : 1400px)",large:"only screen and (min-width : 1000px)","large-only":"only screen and (min-width : 1000px) and (max-width : 1399px)","large-below":"only screen and (max-width : 1399px)",medium:"only screen and (min-width : 685px)","medium-only":"only screen and (min-width : 685px) and (max-width : 999px)","medium-below":"only screen and (max-width : 999px)","compact-only":"only screen and (max-width : 684px)","compact-below":"only screen and (max-width : 683px)"}},99460:function(e){e.exports={dismissableContainer:"Dismissable_dismissableContainer__4Q5Jv",dismissButton:"Dismissable_dismissButton__faL3Y",icon:"Dismissable_icon__nU8Xb"}},96265:function(e){e.exports={growWrap:"GrowingTextArea_growWrap__im5W3",textArea:"GrowingTextArea_textArea__ZWQbP",hidden:"GrowingTextArea_hidden__xLW0K"}},8828:function(e){e.exports={banner:"WarningBanner_banner__otlmq",iconContainer:"WarningBanner_iconContainer__YW6xV"}},59505:function(e){e.exports={item:"DropdownMenuItem_item__EIRcp",isDisabled:"DropdownMenuItem_isDisabled__VdNad",group:"DropdownMenuItem_group__UQGhK",destructive:"DropdownMenuItem_destructive__Bi9MD",notShrink:"DropdownMenuItem_notShrink__AFip8",separator:"DropdownMenuItem_separator__Dzdm2"}},22049:function(e){e.exports={itemList:"DropdownMenuItemList_itemList__JiLsy"}},92635:function(e){e.exports={frame:"PreviewIFrame_frame__J9ynf",disableClickCapture:"PreviewIFrame_disableClickCapture__iupC_",loadingDots:"PreviewIFrame_loadingDots__bR1tH",inline:"PreviewIFrame_inline__R9ONc",container:"PreviewIFrame_container__LZzCY",stackedChild:"PreviewIFrame_stackedChild__Fe_To"}},9485:function(e){e.exports={wrapper:"PreviewOverlayLayout_wrapper__zxNOk",forceDark:"PreviewOverlayLayout_forceDark__jWZAU force-dark",wrapperInner:"PreviewOverlayLayout_wrapperInner__hm10d",isNarrow:"PreviewOverlayLayout_isNarrow__SPaJT",actions:"PreviewOverlayLayout_actions__mLNT7"}},63366:function(e){e.exports={textEditorContainer:"ChatInputRichTextEditor_textEditorContainer__e0wnU",textEditor:"ChatInputRichTextEditor_textEditor__wPXZH",placeholder:"ChatInputRichTextEditor_placeholder__wgit0"}}},function(e){e.O(0,[6342,1265,9692,2816,5675,1476,3967,8324,6470,668,1193,961,324,1191,8062,2071,2460,486,9142,4549,6384,1054,1366,4374,4144,665,8956,8043,4164,9774,2888,179],function(){return e(e.s=25987)}),_N_E=e.O()}]);