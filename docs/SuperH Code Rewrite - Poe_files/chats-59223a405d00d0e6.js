(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7044],{86867:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chats",function(){return n(84429)}])},58546:function(e,a,n){"use strict";var t,i,r,l,s,o,d,c,u,m,h,g,p;n.r(a);let k=(t=[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],r=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},i={kind:"Variable",name:"handle",variableName:"handle"}],l={kind:"ScalarField",name:"id"},s={kind:"ScalarField",name:"deletionState"},o={kind:"ScalarField",name:"displayName"},c=[d={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}],u=[{kind:"Literal",name:"size",value:"small"}],m={kind:"ScalarField",name:"uid"},h={kind:"ScalarField",name:"fullName"},g=[o,s,l],{fragment:{argumentDefinitions:t,kind:"Fragment",name:"ChatHistoryFilteredListPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},i],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ChatHistoryFilteredListPaginationQuery",selections:[{alias:"filteredChats",args:r,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"botId"},l,s,o,{kind:"LinkedField",name:"picture",plural:!1,selections:c},{alias:"smallPicture",args:u,kind:"LinkedField",name:"picture",plural:!1,selections:c,storageKey:'picture(size:"small")'}]},{concreteType:"PoeUser",kind:"LinkedField",name:"owner",plural:!1,selections:[m,l]},{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"ScalarField",name:"membersCount"},{args:[{kind:"Literal",name:"first",value:2}],concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[d,{kind:"InlineFragment",selections:[m,{alias:"smallProfilePhotoUrl",args:u,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},h],type:"PoeUser"},l]},l]}],storageKey:"userMembersConnection(first:2)"},{kind:"ScalarField",name:"viewerHasMutedChat"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{kind:"ScalarField",name:"text"},{kind:"ScalarField",name:"messageId"},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[m,h,l]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:g},{kind:"ScalarField",name:"isChatAnnouncement"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"},l]},l]},{kind:"ScalarField",name:"author"},p={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]},l]},d,{kind:"TypeDiscriminator",abstractKey:"__isNode"},p]},{kind:"ScalarField",name:"cursor"},l]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},l]},{alias:"filteredChats",args:r,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:g},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[m,{alias:"poeWebMuteChatNotifications",args:[{kind:"Literal",name:"gateName",value:"poe_web_mute_chat_notifications"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_mute_chat_notifications")'},{alias:"badgingEnabledProportion",args:[{kind:"Literal",name:"gateName",value:"poe_badging_enabled_proportion"}],kind:"ScalarField",name:"floatGate",storageKey:'floatGate(gateName:"poe_badging_enabled_proportion")'},l]}]},params:{id:"994f47c1645eb73db7525eff9205123936b91fcb6ddd73be64b70202896a9198",metadata:{},name:"ChatHistoryFilteredListPaginationQuery",operationKind:"query",text:null}});k.hash="debe3b985965aac5624a369f3ae705e9",a.default=k},95372:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:t=["filteredChats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:t},fragmentPathInResult:[],operation:n(58546)}},name:"ChatHistoryFilteredList_queryRoot",selections:[{alias:"filteredChats",args:[{kind:"Variable",name:"handle",variableName:"handle"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryFilteredList_queryRoot_filteredChats_connection",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{kind:"ScalarField",name:"cursor"},{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"__typename"}]}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}]},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryListFilterFooter_bot"},{kind:"FragmentSpread",name:"ChatHistoryListFilterHeader_bot"}]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_viewer"}]}],type:"QueryRoot"};i.hash="debe3b985965aac5624a369f3ae705e9",a.default=i},90995:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatHistoryListFilterFooter_bot",selections:[{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};t.hash="28febf44e9dd396e7c6da88cb2005174",a.default=t},10601:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatHistoryListFilterHeader_bot",selections:[{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};t.hash="58f3712365229316b6bb6e43f6b72e11",a.default=t},93390:function(e,a,n){"use strict";var t,i,r,l,s,o,d,c,u,m,h;n.r(a);let g=(c=[{kind:"Literal",name:"size",value:"small"}],u={kind:"ScalarField",name:"uid"},m={kind:"ScalarField",name:"fullName"},h={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]},{fragment:{argumentDefinitions:t=[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",name:"ChatHistoryListWithMessageSearchPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ChatHistoryListWithMessageSearch_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ChatHistoryListWithMessageSearchPaginationQuery",selections:[{args:i=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[r={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"botId"},r,l={kind:"ScalarField",name:"deletionState"},s={kind:"ScalarField",name:"displayName"},{kind:"LinkedField",name:"picture",plural:!1,selections:d=[o={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:c,kind:"LinkedField",name:"picture",plural:!1,selections:d,storageKey:'picture(size:"small")'}]},{concreteType:"PoeUser",kind:"LinkedField",name:"owner",plural:!1,selections:[u,r]},{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"ScalarField",name:"membersCount"},{args:[{kind:"Literal",name:"first",value:2}],concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[o,{kind:"InlineFragment",selections:[u,{alias:"smallProfilePhotoUrl",args:c,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},m],type:"PoeUser"},r]},r]}],storageKey:"userMembersConnection(first:2)"},{kind:"ScalarField",name:"viewerHasMutedChat"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{kind:"ScalarField",name:"text"},{kind:"ScalarField",name:"messageId"},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[u,m,r]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,l,r]},{kind:"ScalarField",name:"isChatAnnouncement"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"},r]},r]},{kind:"ScalarField",name:"author"},h,r]},o,{kind:"TypeDiscriminator",abstractKey:"__isNode"},h]},{kind:"ScalarField",name:"cursor"},r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},r]},{args:i,handle:"connection",key:"ChatHistoryListWithMessageSearch_queryRoot_chats",kind:"LinkedHandle",name:"chats"},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[u,{alias:"poeWebMuteChatNotifications",args:[{kind:"Literal",name:"gateName",value:"poe_web_mute_chat_notifications"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_mute_chat_notifications")'},{alias:"badgingEnabledProportion",args:[{kind:"Literal",name:"gateName",value:"poe_badging_enabled_proportion"}],kind:"ScalarField",name:"floatGate",storageKey:'floatGate(gateName:"poe_badging_enabled_proportion")'},r]}]},params:{id:"eb5ff627662df49e6844ecbabb7b0fb68129d2db41899a3ae11d10b175b95b84",metadata:{},name:"ChatHistoryListWithMessageSearchPaginationQuery",operationKind:"query",text:null}});g.hash="a64a3d336e2d40fbba7e0f13a0641377",a.default=g},86510:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:t=["chats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:t},fragmentPathInResult:[],operation:n(93390)}},name:"ChatHistoryListWithMessageSearch_queryRoot",selections:[{alias:"chats",concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryListWithMessageSearch_queryRoot_chats_connection",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{kind:"ScalarField",name:"cursor"},{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"__typename"}]}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_viewer"}]}],type:"QueryRoot"};i.hash="a64a3d336e2d40fbba7e0f13a0641377",a.default=i},48362:function(e,a,n){"use strict";var t,i,r,l,s,o,d,c,u,m,h;n.r(a);let g=(c=[{kind:"Literal",name:"size",value:"small"}],u={kind:"ScalarField",name:"uid"},m={kind:"ScalarField",name:"fullName"},h={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]},{fragment:{argumentDefinitions:t=[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",name:"ChatHistoryListWithSearchPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ChatHistoryListWithSearch_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ChatHistoryListWithSearchPaginationQuery",selections:[{args:i=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[r={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"botId"},r,l={kind:"ScalarField",name:"deletionState"},s={kind:"ScalarField",name:"displayName"},{kind:"LinkedField",name:"picture",plural:!1,selections:d=[o={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:c,kind:"LinkedField",name:"picture",plural:!1,selections:d,storageKey:'picture(size:"small")'}]},{concreteType:"PoeUser",kind:"LinkedField",name:"owner",plural:!1,selections:[u,r]},{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"ScalarField",name:"membersCount"},{args:[{kind:"Literal",name:"first",value:2}],concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[o,{kind:"InlineFragment",selections:[u,{alias:"smallProfilePhotoUrl",args:c,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},m],type:"PoeUser"},r]},r]}],storageKey:"userMembersConnection(first:2)"},{kind:"ScalarField",name:"viewerHasMutedChat"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{kind:"ScalarField",name:"text"},{kind:"ScalarField",name:"messageId"},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[u,m,r]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,l,r]},{kind:"ScalarField",name:"isChatAnnouncement"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"},r]},r]},{kind:"ScalarField",name:"author"},h,r]},o,{kind:"TypeDiscriminator",abstractKey:"__isNode"},h]},{kind:"ScalarField",name:"cursor"},r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},r]},{args:i,handle:"connection",key:"ChatHistoryListWithSearch_queryRoot_chats",kind:"LinkedHandle",name:"chats"},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[u,{alias:"poeWebMuteChatNotifications",args:[{kind:"Literal",name:"gateName",value:"poe_web_mute_chat_notifications"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_mute_chat_notifications")'},{alias:"badgingEnabledProportion",args:[{kind:"Literal",name:"gateName",value:"poe_badging_enabled_proportion"}],kind:"ScalarField",name:"floatGate",storageKey:'floatGate(gateName:"poe_badging_enabled_proportion")'},{alias:"pagingInterval",args:[{kind:"Literal",name:"gateName",value:"poe_web_chat_history_chat_title_page_interval"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_web_chat_history_chat_title_page_interval")'},r]}]},params:{id:"75bfe42912ef465ed01ccf5f6e37145b2621fd43c3972c9c0bd326a5ace15567",metadata:{},name:"ChatHistoryListWithSearchPaginationQuery",operationKind:"query",text:null}});g.hash="3cee015460c22c18eddeae000f34c05f",a.default=g},54421:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:t=["chats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:t},fragmentPathInResult:[],operation:n(48362)}},name:"ChatHistoryListWithSearch_queryRoot",selections:[{alias:"chats",concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryListWithSearch_queryRoot_chats_connection",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{kind:"ScalarField",name:"cursor"},{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"__typename"}]}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_viewer"},{kind:"FragmentSpread",name:"ChatHistoryPagedSearchResults_viewer"}]}],type:"QueryRoot"};i.hash="3cee015460c22c18eddeae000f34c05f",a.default=i},53742:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],kind:"Fragment",name:"ChatHistoryMain_queryRoot",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"messageSearchEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_use_message_search"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_use_message_search")'}]},{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryListWithSearch_queryRoot"},{kind:"FragmentSpread",name:"ChatHistoryListWithMessageSearch_queryRoot"}]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"handle",variableName:"handle"}],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"}]}]}],type:"QueryRoot"};t.hash="78b3c31b05821a95a1060ef744d5d9ce",a.default=t},73698:function(e,a,n){"use strict";var t,i,r,l,s,o,d,c,u,m,h;n.r(a);let g=(m=[{kind:"Literal",name:"size",value:"small"}],h={kind:"ScalarField",name:"uid"},{fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"searchString"}],kind:"Fragment",name:"ChatHistoryMessageSearchResultsQuery",selections:[{args:i=[{kind:"Variable",name:"searchString",variableName:"searchString"}],concreteType:"Message",kind:"LinkedField",name:"searchMessages",plural:!0,selections:[r={kind:"ScalarField",name:"messageId"},l={kind:"ScalarField",name:"text"},s={kind:"ScalarField",name:"creationTime"},{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[o={kind:"ScalarField",name:"chatId"},{kind:"FragmentSpread",name:"ChatHistoryListItem_chat"}]}]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryListItem_viewer"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ChatHistoryMessageSearchResultsQuery",selections:[{args:i,concreteType:"Message",kind:"LinkedField",name:"searchMessages",plural:!0,selections:[r,l,s,{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[o,d={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"botId"},d,{kind:"ScalarField",name:"deletionState"},{kind:"ScalarField",name:"displayName"},{kind:"LinkedField",name:"picture",plural:!1,selections:u=[c={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:m,kind:"LinkedField",name:"picture",plural:!1,selections:u,storageKey:'picture(size:"small")'}]},{concreteType:"PoeUser",kind:"LinkedField",name:"owner",plural:!1,selections:[h,d]},{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"ScalarField",name:"membersCount"},{args:[{kind:"Literal",name:"first",value:2}],concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[h,{alias:"smallProfilePhotoUrl",args:m,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"fullName"}],type:"PoeUser"},d]},d]}],storageKey:"userMembersConnection(first:2)"},{kind:"ScalarField",name:"viewerHasMutedChat"},{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}]},d]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[h,{alias:"poeWebMuteChatNotifications",args:[{kind:"Literal",name:"gateName",value:"poe_web_mute_chat_notifications"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_mute_chat_notifications")'},{alias:"badgingEnabledProportion",args:[{kind:"Literal",name:"gateName",value:"poe_badging_enabled_proportion"}],kind:"ScalarField",name:"floatGate",storageKey:'floatGate(gateName:"poe_badging_enabled_proportion")'},d]}]},params:{id:"327cba16d53076bd010c0aa6c17f9b76b88bf944aba7475b3d2935b0ccfeb138",metadata:{},name:"ChatHistoryMessageSearchResultsQuery",operationKind:"query",text:null}});g.hash="711c422118722e55ac93abd99a220f02",a.default=g},92236:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatHistoryPagedList_edges",selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"},{kind:"FragmentSpread",name:"ChatHistoryListItem_chat"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{kind:"ScalarField",name:"text"},{kind:"ScalarField",name:"messageId"},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[{kind:"ScalarField",name:"uid"},{kind:"ScalarField",name:"fullName"}]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}]},{kind:"FragmentSpread",name:"useLastMessageText_lastMessage"}]}]}],type:"ChatEdge"};t.hash="9406608e4410bb447542489df1c4d6f4",a.default=t},61514:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatHistoryPagedList_viewer",selections:[{kind:"FragmentSpread",name:"ChatHistoryListItem_viewer"},{kind:"FragmentSpread",name:"useLastMessageText_viewer"}],type:"Viewer"};t.hash="fb6dc183489c3ebfc161506da0dcc26d",a.default=t},49094:function(e,a,n){"use strict";var t,i,r,l,s,o,d;n.r(a);let c=(o=[{kind:"Literal",name:"size",value:"small"}],d={kind:"ScalarField",name:"uid"},{fragment:{argumentDefinitions:t=[{defaultValue:200,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",name:"ChatHistoryPagedSearchResultsPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ChatHistoryPagedSearchResults_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ChatHistoryPagedSearchResultsPaginationQuery",selections:[{args:i=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[r={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"botId"},r,{kind:"ScalarField",name:"deletionState"},{kind:"ScalarField",name:"displayName"},{kind:"LinkedField",name:"picture",plural:!1,selections:s=[l={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:o,kind:"LinkedField",name:"picture",plural:!1,selections:s,storageKey:'picture(size:"small")'}]},{concreteType:"PoeUser",kind:"LinkedField",name:"owner",plural:!1,selections:[d,r]},{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"ScalarField",name:"membersCount"},{args:[{kind:"Literal",name:"first",value:2}],concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"InlineFragment",selections:[d,{alias:"smallProfilePhotoUrl",args:o,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"fullName"}],type:"PoeUser"},r]},r]}],storageKey:"userMembersConnection(first:2)"},{kind:"ScalarField",name:"viewerHasMutedChat"},l,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}]},{kind:"ScalarField",name:"cursor"},r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},r]},{args:i,handle:"connection",key:"ChatHistoryPagedSearchResults_queryRoot_chats",kind:"LinkedHandle",name:"chats"}]},params:{id:"dd1b3978e6797849448c717c83983900e8ea6a0cef888d31cb2269707cb44460",metadata:{},name:"ChatHistoryPagedSearchResultsPaginationQuery",operationKind:"query",text:null}});c.hash="3fb346976daa573941017cb7152fe442",a.default=c},70946:function(e,a,n){"use strict";var t,i,r,l,s,o;n.r(a);let d=(s=[{kind:"Literal",name:"size",value:"small"}],o={kind:"ScalarField",name:"uid"},{fragment:{argumentDefinitions:[],kind:"Fragment",name:"ChatHistoryPagedSearchResultsQuery",selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedSearchResults_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"ChatHistoryPagedSearchResultsQuery",selections:[{args:t=[{kind:"Literal",name:"first",value:200}],concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[i={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"botId"},i,{kind:"ScalarField",name:"deletionState"},{kind:"ScalarField",name:"displayName"},{kind:"LinkedField",name:"picture",plural:!1,selections:l=[r={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:s,kind:"LinkedField",name:"picture",plural:!1,selections:l,storageKey:'picture(size:"small")'}]},{concreteType:"PoeUser",kind:"LinkedField",name:"owner",plural:!1,selections:[o,i]},{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"ScalarField",name:"membersCount"},{args:[{kind:"Literal",name:"first",value:2}],concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[o,{alias:"smallProfilePhotoUrl",args:s,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"fullName"}],type:"PoeUser"},i]},i]}],storageKey:"userMembersConnection(first:2)"},{kind:"ScalarField",name:"viewerHasMutedChat"},r,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]}]},{kind:"ScalarField",name:"cursor"},i]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},i],storageKey:"chats(first:200)"},{args:t,handle:"connection",key:"ChatHistoryPagedSearchResults_queryRoot_chats",kind:"LinkedHandle",name:"chats"}]},params:{id:"c2b5dbfb9a0fe51130fed8513698bad1e0a2cd21559ce0007004b793036afa72",metadata:{},name:"ChatHistoryPagedSearchResultsQuery",operationKind:"query",text:null}});d.hash="11ee8e1738f798b56f54a9fc49ebf511",a.default=d},63160:function(e,a,n){"use strict";var t;n.r(a);let i={argumentDefinitions:[{defaultValue:200,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:t=["chats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:t},fragmentPathInResult:[],operation:n(49094)}},name:"ChatHistoryPagedSearchResults_queryRoot",selections:[{alias:"chats",concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryPagedSearchResults_queryRoot_chats_connection",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"title"},{kind:"FragmentSpread",name:"ChatHistoryListItem_chat"},{kind:"ScalarField",name:"__typename"}]},{kind:"FragmentSpread",name:"useChatHistorySearch_edges"},{kind:"ScalarField",name:"cursor"}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}]}],type:"QueryRoot"};i.hash="3fb346976daa573941017cb7152fe442",a.default=i},63967:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"ChatHistoryPagedSearchResults_viewer",selections:[{kind:"FragmentSpread",name:"ChatHistoryListItem_viewer"},{alias:"pagingInterval",args:[{kind:"Literal",name:"gateName",value:"poe_web_chat_history_chat_title_page_interval"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_web_chat_history_chat_title_page_interval")'}],type:"Viewer"};t.hash="eb8e3cfff4bb6d9f590b838262db490f",a.default=t},19451:function(e,a,n){"use strict";var t,i,r,l,s,o,d,c,u,m,h,g,p,k,f,y;n.r(a);let F=(t=[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],i={kind:"Variable",name:"handle",variableName:"handle"},l=[{kind:"Literal",name:"first",value:50}],m=[{kind:"Literal",name:"size",value:"small"}],h={kind:"ScalarField",name:"uid"},g={kind:"ScalarField",name:"fullName"},p={kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]},k=[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[r={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[s={kind:"ScalarField",name:"botId"},r,o={kind:"ScalarField",name:"deletionState"},d={kind:"ScalarField",name:"displayName"},{kind:"LinkedField",name:"picture",plural:!1,selections:u=[c={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:m,kind:"LinkedField",name:"picture",plural:!1,selections:u,storageKey:'picture(size:"small")'}]},{concreteType:"PoeUser",kind:"LinkedField",name:"owner",plural:!1,selections:[h,r]},{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"ScalarField",name:"membersCount"},{args:[{kind:"Literal",name:"first",value:2}],concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[h,{alias:"smallProfilePhotoUrl",args:m,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},g],type:"PoeUser"},r]},r]}],storageKey:"userMembersConnection(first:2)"},{kind:"ScalarField",name:"viewerHasMutedChat"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{kind:"ScalarField",name:"text"},{kind:"ScalarField",name:"messageId"},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[h,g,r]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[d,o,r]},{kind:"ScalarField",name:"isChatAnnouncement"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"},r]},r]},{kind:"ScalarField",name:"author"},p,r]},c,{kind:"TypeDiscriminator",abstractKey:"__isNode"},p]},{kind:"ScalarField",name:"cursor"},r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},r],f={alias:"poeWebMuteChatNotifications",args:[{kind:"Literal",name:"gateName",value:"poe_web_mute_chat_notifications"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_mute_chat_notifications")'},y=[{kind:"Literal",name:"first",value:15},i],{fragment:{argumentDefinitions:t,kind:"Fragment",name:"chatsHistoryPageQuery",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"MainNavbarLeftItem_viewer"}]},{args:[i,{kind:"Variable",name:"useBot",variableName:"useBot"}],kind:"FragmentSpread",name:"ChatHistoryMain_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"chatsHistoryPageQuery",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"badgingEnabledProportion",args:[{kind:"Literal",name:"gateName",value:"poe_badging_enabled_proportion"}],kind:"ScalarField",name:"floatGate",storageKey:'floatGate(gateName:"poe_badging_enabled_proportion")'},r,{alias:"messageSearchEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_use_message_search"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_use_message_search")'}]},{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{args:l,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:k,storageKey:"chats(first:50)"},{args:l,handle:"connection",key:"ChatHistoryListWithSearch_queryRoot_chats",kind:"LinkedHandle",name:"chats"},{args:l,handle:"connection",key:"ChatHistoryListWithMessageSearch_queryRoot_chats",kind:"LinkedHandle",name:"chats"},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[h,f,{alias:"pagingInterval",args:[{kind:"Literal",name:"gateName",value:"poe_web_chat_history_chat_title_page_interval"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_web_chat_history_chat_title_page_interval")'}]}]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{alias:"filteredChats",args:y,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:k},{alias:"filteredChats",args:y,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[d,o,r,s]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[h,f]}]}]},params:{id:"3e8146d6f8af68afe42d098ee6eb0277111ff4564fd9627dfee716c1b03ae5ac",metadata:{},name:"chatsHistoryPageQuery",operationKind:"query",text:null}});F.hash="9a16743c75e903bcc93130b9770da2ad",a.default=F},6691:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"useChatHistorySearch_edges",selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{kind:"FragmentSpread",name:"ChatHistoryListItem_chat"}]}],type:"ChatEdge"};t.hash="90ffd559f3ffc813d4108c43e2a2d8bc",a.default=t},21483:function(e,a,n){"use strict";n.d(a,{q:function(){return Avatar}});var t=n(85893),i=n(25675),r=n.n(i);n(67294);var l=n(22492);let s={"xx-sm":20,"x-sm":24,sm:32,md:48,lg:72,"x-lg":100};var o=n(29707),d=n.n(o);let Avatar=e=>{let{theme:a="rounded",size:n="md",isDeleted:i=!1,hasBorder:o=!0,src:c,alt:u,className:m,style:h,...g}=e,p=(0,l.W)(d().root,d()[a],d()[n],i&&d().isDeleted,o&&d().hasBorder,m),k=s[n];return(0,t.jsx)("div",{className:p,"data-pdl-avatar":"",style:h,children:(0,t.jsx)(r(),{src:c,width:k,height:k,alt:u,...g})})}},9895:function(e,a,n){"use strict";n.d(a,{$:function(){return BadgeAvatarCount}});var t=n(85893);n(67294);var i=n(88426),r=n(22492),l=n(97153),s=n.n(l);let BadgeAvatarCount=e=>{let{size:a="md",count:n=0,maxCount:l=99,showPlus:o=!1,prefixPlus:d,asChild:c,className:u,...m}=e,h=c?i.g7:"span";return(0,t.jsxs)(h,{...m,"data-size":a,"data-pdl-badge-avatar-count":"",className:(0,r.W)(s().count_badge,u),children:[d&&o&&(0,t.jsx)("div",{className:(0,r.W)(s().plus_sign,s().prefix),children:"+"}),Math.min(l,n),!d&&o&&(0,t.jsx)("div",{className:s().plus_sign,children:"+"})]})}},35036:function(e,a,n){"use strict";n.d(a,{iY:function(){return BadgeNotification}});var t=n(85893),i=n(91123),r=n.n(i),l=n(22492);function BadgeNotification(e){let{accessibleLabel:a,count:n,maxCount:i=99,autoHide:s=!0,size:o="base",position:d="inline",offsetX:c,offsetY:u,className:m,style:h,...g}=e,p="number"==typeof n&&n>i?(0,t.jsxs)(t.Fragment,{children:[i,(0,t.jsx)("span",{className:r().plus,children:"+"})]}):n;return(0,t.jsx)("span",{role:"status","aria-atomic":"true","aria-hidden":s&&(0===n||"0"===n),"aria-label":a,"data-size":o,"data-position":d,"data-pdl-badge-notification":"",className:(0,l.W)(r().badge_notification,m),style:Object.assign({},h,{"--badge-offset-x":"number"==typeof c?"".concat(c,"px"):void 0,"--badge-offset-y":"number"==typeof u?"".concat(u,"px"):void 0}),...g,children:p})}},98588:function(e,a,n){"use strict";n.d(a,{bv:function(){return Float}});var t=n(85893);n(67294);var i=n(88426),r=n(22492),l=n(37103),s=n.n(l);let Float=e=>{let{placementY:a="top",placementX:n="start",originX:l="center",originY:o="center",offsetX:d,offsetY:c,asChild:u=!1,children:m,className:h,style:g,...p}=e,k=Object.assign({},void 0!==d&&"number"==typeof d?{"--float-offset-x":"".concat(d,"px")}:{},void 0!==c&&"number"==typeof c?{"--float-offset-y":"".concat(c,"px")}:{},g),f=Object.assign({},void 0!==a?{"data-placement-y":a}:{},void 0!==n?{"data-placement-x":n}:{},void 0!==l?{"data-origin-x":l}:{},void 0!==o?{"data-origin-y":o}:{},void 0!==d&&"string"==typeof d?{"data-offset-x":d}:{},void 0!==c&&"string"==typeof c?{"data-offset-y":c}:{}),y=u?i.g7:"div";return(0,t.jsx)(y,{...p,"data-pdl-float":"",...f,className:(0,r.W)(s().float,h),style:k,children:m})}},67172:function(e,a,n){"use strict";n.d(a,{u:function(){return Tooltip},pF:function(){return TooltipDelayGroup}});var t=n(85893),i=n(93075),r=n(24750),l=n(1371),s=n(88426),o=n(49460),d=n(67294),c=n(22492);let u={open:600,close:0};var m=n(11022),h=n.n(m);let g=(0,d.createContext)(null),useTooltip=e=>{let{placement:a="top",align:n="center",distance:t=0,delay:s=u,open:c,onOpenChange:m,disabled:h=!1,anchorRef:g}=e,[p,k]=(0,d.useState)(c),f=null!=c?c:p,y=null!=m?m:k,F=(0,o.ac)("(pointer: coarse)"),_=(0,o.ac)("(hover: hover)"),S=F&&!_,b=(0,d.useRef)(null);(0,d.useEffect)(()=>{},[]);let{floatingStyles:C,refs:v,context:L,middlewareData:x}=(0,i.YF)({open:f,onOpenChange:y,placement:a,whileElementsMounted:r.Me,elements:{reference:g},middleware:[(0,l.Cp)(),(0,l.cv)(e=>{let{placement:a,rects:i}=e,r=a.startsWith("top")||a.startsWith("bottom")?"center"===n?0:(i.floating.width/2-i.reference.width)*("end"===n?-1:1):"center"===n?0:(i.floating.height/2-i.reference.height)*("end"===n?-1:1);return{mainAxis:t+8,crossAxis:r}},[t,n]),(0,l.uY)({limiter:(0,l.dr)({offset:e=>{let{rects:a,placement:n}=e;return{mainAxis:"left"===n||"right"===n?a.reference.height/2:0,crossAxis:"left"===n||"right"===n?a.floating.width:0}}})}),(0,l.RR)({mainAxis:!0,crossAxis:!1,fallbackAxisSideDirection:"none"}),(0,l.x7)({element:b,padding:4})]}),{delay:T}=(0,i.Qu)(L),w=(0,i.XI)(L,{mouseOnly:!0,move:!1,delay:0===T?s:T,enabled:!S}),N=(0,i.KK)(L,{visibleOnly:!0,enabled:!S}),P=(0,i.bQ)(L),I=(0,i.qs)(L,{role:"tooltip"}),R=(0,i.NI)([w,N,P,I]);return(0,d.useMemo)(()=>({open:f,setOpen:y,arrowRef:b,disabled:h,...R,refs:v,context:L,floatingStyles:C,middlewareData:x}),[f,y,R,v,L,C,x,h])},useTooltipContext=()=>{let e=(0,d.useContext)(g);if(null==e)throw Error("Tooltip components must be wrapped in <TooltipRoot />");return e},TooltipRoot=e=>{let{children:a,...n}=e,i=useTooltip({...n});return(0,t.jsx)(g.Provider,{value:i,children:a})},p=d.forwardRef((e,a)=>{let{children:n,...r}=e,l=useTooltipContext(),o=(0,i.qq)([a,l.refs.setReference]);if(d.isValidElement(n)){let e=l.getReferenceProps({ref:o,...r,"data-state":l.open?"open":"closed"});return(0,t.jsx)(s.g7,{...e,children:n})}return null});p.displayName="TooltipTrigger";let TooltipOverlay=e=>{var a,n,r;let{theme:l="base",hasArrow:s=!0,children:o,className:d,...u}=e,{context:m,arrowRef:g,refs:p,disabled:k,getFloatingProps:f,floatingStyles:y,middlewareData:F,open:_}=useTooltipContext();return!_||k?null:(0,t.jsx)(i.ll,{children:(0,t.jsxs)("div",{ref:p.setFloating,className:(0,c.W)(h().root,(null===(a=F.hide)||void 0===a?void 0:a.referenceHidden)&&h().forceHidden,d),"data-theme":l,style:y,...f(),...u,children:[o,s&&(0,t.jsx)("div",{ref:g,className:h().arrow,"data-placement":m.placement,style:{left:null===(n=m.middlewareData.arrow)||void 0===n?void 0:n.x,top:null===(r=m.middlewareData.arrow)||void 0===r?void 0:r.y}})]})})},Tooltip=e=>{let{children:a,label:n,theme:i,hasArrow:r,...l}=e;return(0,t.jsxs)(TooltipRoot,{...l,children:[a&&(0,t.jsx)(p,{children:a}),(0,t.jsx)(TooltipOverlay,{theme:i,hasArrow:r,children:n})]})},TooltipDelayGroup=e=>{let{children:a,delay:n=u,timeoutMs:r=750}=e;return(0,t.jsx)(i.e0,{delay:n,timeoutMs:r,children:a})}},91469:function(e,a,n){"use strict";var t=n(85893),i=n(13525),r=n(12251),l=n(23595),s=n(64516),o=n(11300),d=n.n(o);a.Z=e=>{let{header:a,startAtBottom:n,children:o,disallowScroll:c,noMaxWidth:u=!1,deviceType:m}=e,{elementProps:h,providerProps:g}=(0,i.GO)(),p=(0,s.F)(),k=!(0,l.k6)(p,m)&&d().scrollSectionOverflow;return(0,t.jsxs)(t.Fragment,{children:[a,(0,t.jsx)(i.yp,{...g,children:(0,t.jsx)("div",{className:(0,r.$)(d().scrollSection,n&&d().startAtBottom,k,c&&d().disallowScroll),...h,children:(0,t.jsx)("div",{className:(0,r.$)(d().column,u&&d().noMaxWidth),children:o})})})]})}},24581:function(e,a,n){"use strict";var t=n(85893),i=n(1250),r=n(36803);a.Z=e=>(0,t.jsx)(r.Z,{leftNavItem:(0,t.jsx)(i.Z,{viewer:e.viewer}),...e})},84080:function(e,a,n){"use strict";n.d(a,{C:function(){return usePagingTriggerRef}});var t=n(85893),i=n(67294),r=n(12251),l=n(56782),s=n.n(l),o=n(13525);let usePagingTriggerRef=e=>{let{loadMore:a,canLoadMore:n,rootMargin:t,scrollRootRef:r}=e,l=i.useRef(null),s=(0,o.Oi)(),d=void 0!==r?r:s;return(0,i.useEffect)(()=>{var e;if(!l.current||!n)return;let i=new IntersectionObserver(e=>{e[0].isIntersecting&&a()},{root:null!==(e=null==d?void 0:d.current)&&void 0!==e?e:null,threshold:0,rootMargin:t});return i.observe(l.current),()=>{i.disconnect()}},[a,n,t,d]),l},calcRootMargin=(e,a,n)=>"".concat(!a&&n?e:0,"px ").concat(a&&!n?e:0,"px ")+"".concat(a||n?0:e,"px ").concat(a&&n?e:0,"px"),d=i.forwardRef(function(e,a){let{children:n,className:i,loadMore:l,hasMore:o,isLoading:d,loadingState:c=null,error:u,errorState:m=null,threshold:h,horizontal:g=!1,reverse:p=!1,scrollRootRef:k,as:f="div"}=e,y=usePagingTriggerRef({loadMore:l,canLoadMore:o&&!d&&!u,rootMargin:calcRootMargin(h,g,p),scrollRootRef:k}),F=u?m:(0,t.jsx)("div",{ref:y,className:s().pagingTrigger,children:d&&c});return(0,t.jsxs)(f,{ref:a,className:(0,r.$)(s().container,g&&s().horizontal,i),children:[p&&F,n,!p&&F]})});a.Z=d},38401:function(e,a,n){"use strict";n.d(a,{iA:function(){return c},GB:function(){return h},Wt:function(){return k},GX:function(){return s},UG:function(){return ToggleGroupRoot}});var t=n(85893),i=n(88426),r=n(67294);let useRovingIndex=e=>{let{selector:a="button"}=e,n=r.useRef([]),t=r.useRef(null),i=r.useRef(0),l=r.useCallback(e=>{let a=i.current;if("Home"===e.key)a=0;else if("End"===e.key)a=n.current.length-1;else if("ArrowLeft"===e.key)a=i.current-1;else if("ArrowUp"===e.key)a=i.current-1;else if("ArrowDown"===e.key)a=i.current+1;else{if("ArrowRight"!==e.key)return;a=i.current+1}a=a<0?n.current.length-1:a>n.current.length-1?0:a,i.current=a;let t=n.current[a];null==t||t.focus()},[]),s=r.useCallback(e=>{i.current=n.current.findIndex(a=>a===e.target)},[]);return r.useEffect(()=>{var e,r;n.current=Array.from(null!==(r=null===(e=t.current)||void 0===e?void 0:e.querySelectorAll(a))&&void 0!==r?r:[]),i.current=n.current.findIndex(e=>"on"===e.dataset.state)},[a]),r.useEffect(()=>{let e=t.current;return null==e||e.addEventListener("keydown",l),null==e||e.addEventListener("pointerdown",s,!0),()=>{null==e||e.removeEventListener("keydown",l),null==e||e.removeEventListener("pointerdown",s,!0)}},[t,l,s]),t},l=r.createContext({value:"",onToggleSelected:()=>{},type:"checkbox"});function ToggleGroupRoot(e){let{type:a="radio",required:n=!1,value:i,defaultValue:s,onValueChange:o,children:d,...c}=e;n&&void 0===s&&void 0===i&&console.warn("ToggleGroupRoot: When required is true, defaultValue or value is required");let[u,m]=(0,r.useState)(s),h=void 0!==i,g=h?i:u,p=useRovingIndex({selector:"[data-pdl-toggle-group-item]"}),k=r.useCallback(e=>{(!n||void 0!==e&&0!==e.length)&&(h||m(e),o&&o(e))},[n,o,m,h,a]),f=r.useCallback(e=>{if("radio"===a){let a=g===e?void 0:e;k(a)}else if("checkbox"===a){let a=null!=g?g:[],n=a.includes(e),t=n?a.filter(a=>a!==e):[...a,e];k(t)}},[g,a,k]),y=r.useMemo(()=>({value:g,onToggleSelected:f,type:a}),[f,a,g]);return(0,t.jsx)(l.Provider,{value:y,children:(0,t.jsx)("div",{ref:p,role:"group","data-pdl-toggle-group":"",...c,children:d})})}let s=r.forwardRef((e,a)=>{let{value:n,children:s,onClick:o,...d}=e,{value:c,onToggleSelected:u,type:m}=r.useContext(l),h="radio"===m?c===n:Array.isArray(c)&&c.includes(n),g=r.useCallback(e=>{o&&o(e),u(n)},[o,u,n]),p="radio"===m?{role:"radio","aria-checked":h}:{"aria-pressed":h};return(0,t.jsx)(i.g7,{...d,...p,ref:a,role:"button","data-pdl-toggle-group-item":"","data-value":n,"data-state":h?"on":"off",tabIndex:h?0:-1,onClick:g,children:s})});s.displayName="ToggleGroupItem";var o=n(51052),d=n.n(o);let c=r.forwardRef((e,a)=>{let{avatar:n,children:i,...r}=e;return(0,t.jsx)(s,{...r,ref:a,children:(0,t.jsxs)("button",{className:d().toggle_group_bot_selector,children:[n,i]})})});c.displayName="ToggleGroupBotSelector";var u=n(92850),m=n.n(u);let h=r.forwardRef((e,a)=>{let{children:n,...i}=e;return(0,t.jsx)(s,{...i,ref:a,children:(0,t.jsx)("button",{className:m().toggle_group_button,children:n})})});h.displayName="ToggleGroupButton";var g=n(45020),p=n.n(g);let k=r.forwardRef((e,a)=>{let{children:n,...i}=e;return(0,t.jsx)(s,{...i,ref:a,children:(0,t.jsx)("button",{className:p().toggle_group_filter_chip,children:n})})});k.displayName="ToggleGroupFilterChip"},74777:function(e,a,n){"use strict";n.d(a,{Z:function(){return selector_SearchBar},M:function(){return useSearchBar}});var t,i=n(85893),r=n(94370),l=n(67294),s=n(78410);let useSelector=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,t]=(0,l.useState)(e),[i,r]=(0,l.useState)(a),[s,o]=(0,l.useState)(a||!!e),d=(0,l.useDeferredValue)(n);return{value:n,deferredValue:d,setValue:t,isFocused:i,setIsFocused:r,hasFocused:s,setHasFocused:o}};var selector_Selector=e=>{let{value:a,setValue:n,isFocused:t,setIsFocused:r,setHasFocused:s,placeholderValue:o,className:d}=e,c=(0,l.useRef)(null),u=(0,l.useCallback)(e=>{n(e.target.value)},[n]),m=(0,l.useCallback)(()=>{r(!0),s(!0)},[r,s]),h=(0,l.useCallback)(()=>{r(!1)},[r]);return(0,l.useEffect)(()=>{var e,a;t?null===(e=c.current)||void 0===e||e.focus():null===(a=c.current)||void 0===a||a.blur()},[t,c]),(0,i.jsx)("input",{type:"text",className:d,placeholder:o,value:a,onChange:u,onFocus:m,onBlur:h,ref:c})};function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(null,arguments)}var search=function(e){return l.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 4a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM2 10.5a8.5 8.5 0 1 1 15.176 5.262l4.48 4.48a1 1 0 0 1-1.413 1.415l-4.481-4.481A8.5 8.5 0 0 1 2 10.5Z"})))},o=n(72853),d=n(54732),c=n.n(d);let generateSearchExperienceId=()=>(0,o.z)(20),useSearchBar=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{value:n,deferredValue:t,setValue:i,isFocused:r,setIsFocused:s,hasFocused:o,setHasFocused:d}=useSelector(e,a),[c,u]=(0,l.useState)(generateSearchExperienceId());return{value:n,deferredValue:t,setValue:i,isFocused:r,setIsFocused:s,hasFocused:o,setHasFocused:d,searchExperienceId:c,setSearchExperienceId:u}};var selector_SearchBar=e=>{let{value:a,setValue:n,isFocused:t,setIsFocused:o,hasFocused:d,setHasFocused:u,setSearchExperienceId:m,placeholderValue:h,onClose:g}=e,p=(0,l.useCallback)(()=>{o(!1),u(!1),n(""),null==g||g(),m(generateSearchExperienceId())},[o,n,u,g,m]);return(0,i.jsxs)("div",{className:c().inputRow,children:[(0,i.jsxs)("div",{className:c().inputContainer,children:[(0,i.jsx)(search,{className:c().searchIcon}),(0,i.jsx)("div",{className:c().selectorWrapper,children:(0,i.jsx)(selector_Selector,{value:a,setValue:n,isFocused:t,setIsFocused:o,setHasFocused:u,placeholderValue:h,className:c().input})})]}),d&&(0,i.jsx)(s.Z,{as:"button",theme:"ghost",onClick:p,"aria-label":"Close",iconLeft:(0,i.jsx)(r.bM,{}),showIconOnly:"always",children:"Close"})]})}},84429:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return K}});var t=n(85893),i=n(22120);n(44311);var r=n(11163),l=n(67294),s=n(22578),o=n(9729),d=n(30038),c=n(42093),u=n(78410),m=n(20385),h=n.n(m),chat_ChatHistoryListFilterFooter=e=>{let{bot:a,clearFilter:r,noResults:l=!1}=e,o=(0,s.useFragment)(n(90995),a),d=(0,c.dC)(o),{t:m}=(0,i.$G)(),g=m(l?"You don't have any chats that include {{displayName}}.":"You've viewed all chats that include {{displayName}}.",{displayName:d});return(0,t.jsxs)("div",{className:h().container,children:[o&&(0,t.jsx)("p",{children:g}),(0,t.jsx)(u.Z,{as:"button",theme:"outline",size:"sm",onClick:r,children:m("Clear filter")})]})},g=n(38401),p=n(65181),k=n.n(p),chat_ChatHistoryListFilterHeader=e=>{let{bot:a,clearFilter:r}=e,l=(0,s.useFragment)(n(10601),a),{t:o}=(0,i.$G)(),d=(0,c.dC)(l);return(0,t.jsxs)("div",{className:k().container,children:[l&&(0,t.jsx)(g.UG,{value:d,type:"radio",required:!0,children:(0,t.jsx)(g.Wt,{value:d,children:d})}),(0,t.jsx)(u.Z,{as:"button",theme:"outline",size:"sm",onClick:r,children:o("Clear filter")})]})},f=n(84080),y=n(50697),F=n.n(y),_=n(71075),S=n(4768);let ChatHistoryPagedListItemWrapper=e=>{let{edge:a,viewerData:n}=e,i=(0,S.G)(a.node.lastMessage,n,a.node.chatId);return(0,t.jsx)(_.Z,{chat:a.node,viewer:n,lastMessageText:i},a.node.id)};var chat_ChatHistoryPagedList=e=>{let{edges:a,viewer:i,loadNext:r,hasNext:o,isLoadingNext:d,loadingState:c,historyPageLimit:u}=e,m=(0,s.useFragment)(n(92236),a),h=(0,s.useFragment)(n(61514),i),[g,p]=(0,l.useState)(null),k=(0,l.useCallback)(()=>{u?(u.current>=m.length&&r(10,{onComplete:e=>{e&&p(e)}}),u.current+=10):r(10,{onComplete:e=>{e&&p(e)}})},[r,u,m.length]);return(0,t.jsx)(f.Z,{className:F().mainSection,loadMore:k,hasMore:o,isLoading:d,loadingState:c,error:!!g,threshold:1250,children:m.map(e=>(0,t.jsx)(ChatHistoryPagedListItemWrapper,{edge:e,viewerData:h},e.node.id))})},chat_ChatHistoryFilteredList=e=>{let{root:a,onFilterClear:i}=e,{data:r,loadNext:o,hasNext:d,isLoadingNext:c}=(0,s.usePaginationFragment)(n(95372),a),[u,m]=(0,l.useState)(!0),h=(0,l.useCallback)(()=>{m(!1),null==i||i()},[i]);return(0,t.jsxs)("div",{children:[u&&(0,t.jsx)(chat_ChatHistoryListFilterHeader,{bot:r.bot,clearFilter:h}),(0,t.jsx)(chat_ChatHistoryPagedList,{edges:r.filteredChats.edges,viewer:r.viewer,loadNext:o,hasNext:d,isLoadingNext:c}),u&&(0,t.jsx)(chat_ChatHistoryListFilterFooter,{bot:r.bot,clearFilter:h,noResults:0===r.filteredChats.edges.length})]})},b=n(94370),C=n(74777),v=n(6940),L=n(52770),x=n.n(L),T=n(67092),w=n.n(T),N=n(446);let P=n(73698);function ChatHistoryMessageSearchResultsInner(e){let{queryReference:a,searchQuery:n}=e,r=(0,s.usePreloadedQuery)(P,a),{t:o}=(0,i.$G)(),d=r.searchMessages,c=l.useMemo(()=>{let e=new Set;for(let a of d)e.add(a.chat.chatId);return e.size},[d]),[u,m]=(0,l.useState)(50);(0,l.useEffect)(()=>{m(50)},[n]);let h=l.useCallback(()=>{m(e=>e+50)},[]);return 0===d.length?(0,t.jsx)("div",{className:w().container,children:(0,t.jsx)("div",{className:w().mainSection,children:(0,t.jsx)("div",{className:w().emptyState,children:(0,t.jsx)("p",{children:o("No messages found")})})})}):(0,t.jsxs)("div",{className:w().container,children:[(0,t.jsx)(f.Z,{className:w().mainSection,loadMore:h,hasMore:u<d.length,isLoading:!1,loadingState:(0,t.jsx)(N.ZP,{}),error:!1,threshold:100,as:"ul",children:d.slice(0,u).map(e=>(0,t.jsx)(_.Z,{chat:e.chat,viewer:r.viewer,lastMessageText:e.text,overrideTimestamp:e.creationTime,searchTerm:n},e.messageId))}),(()=>{let e=1===d.length?o("{{numResults, number}} result from {{numChats, number}} chat",{numResults:d.length,numChats:c}):o("{{numResults, number}} results from {{numChats, number}} chats",{numResults:d.length,numChats:c});return(0,t.jsx)("div",{className:w().footer,children:(0,t.jsx)("p",{children:e})})})()]})}var chat_ChatHistoryMessageSearchResults=e=>{let{searchQuery:a}=e,{t:n}=(0,i.$G)(),[r,o]=(0,s.useQueryLoader)(P);(0,l.useEffect)(()=>{a.trim()&&o({searchString:a})},[o,a]);let d=(0,t.jsxs)("div",{className:w().container,children:[(0,t.jsx)("ul",{className:w().mainSection}),(0,t.jsx)("div",{className:w().footer,children:(0,t.jsx)("p",{children:n("Searching...")})})]});return null!=r&&a.trim()?(0,t.jsx)(l.Suspense,{fallback:d,children:(0,t.jsx)(ChatHistoryMessageSearchResultsInner,{queryReference:r,searchQuery:a})}):null},chat_ChatHistoryListWithMessageSearch=e=>{var a;let{root:o,setRefetchFullList:d}=e;(0,v.Rr)();let{data:c,loadNext:m,hasNext:h,isLoadingNext:g,refetch:p}=(0,s.usePaginationFragment)(n(86510),o),{t:k}=(0,i.$G)();(0,l.useEffect)(()=>{p&&d(p)},[d,p]);let f=(0,r.useRouter)(),{value:y,setValue:F,isFocused:_,setIsFocused:S,hasFocused:L,setHasFocused:T,setSearchExperienceId:w}=(0,C.M)(null!==(a=f.query.search)&&void 0!==a?a:"",!1);(0,l.useEffect)(()=>{var e;let a=null!==(e=f.query.search)&&void 0!==e?e:"";F(a)},[f.query.search,F]);let N=""===y.trim(),P=(0,l.useRef)(50),I=(0,l.useCallback)(()=>{P.current=50},[]),R=(0,l.useCallback)(e=>{let a="function"==typeof e?e(y):e;F(a);let n=a.trim()?"/chats?search=".concat(encodeURIComponent(a)):"/chats";f.replace(n,void 0,{shallow:!0}),a.length>0&&I()},[F,y,f,I]),H=(0,l.useCallback)(()=>{let e={...f.query};delete e.search,f.replace({pathname:f.pathname,query:e},void 0,{shallow:!0})},[f]);return 0===c.chats.edges.length?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:x().searchBarContainer,children:(0,t.jsx)(C.Z,{value:y,setValue:R,isFocused:_,setIsFocused:S,hasFocused:L,setHasFocused:T,setSearchExperienceId:w,onClose:H,placeholderValue:k("Search")})}),(0,t.jsxs)("div",{className:x().emptyContainer,children:[(0,t.jsx)("p",{children:k("You don't have any chats.")}),(0,t.jsx)(u.Z,{as:"a",theme:"outline",href:"/",iconLeft:(0,t.jsx)(b.l3,{}),children:k("New chat")})]})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:x().searchBarContainer,children:(0,t.jsx)(C.Z,{value:y,setValue:R,isFocused:_,setIsFocused:S,hasFocused:L,setHasFocused:T,setSearchExperienceId:w,onClose:H,placeholderValue:k("Search")})}),N?(0,t.jsx)(chat_ChatHistoryPagedList,{edges:c.chats.edges.slice(0,P.current),viewer:c.viewer,loadNext:m,hasNext:h,isLoadingNext:g,historyPageLimit:P}):(0,t.jsx)(chat_ChatHistoryMessageSearchResults,{searchQuery:y})]})},I=n(41143),R=n.n(I),H=n(34299),M=n.n(H);let buildSearchIndex=(e,a)=>{let n={};return e.forEach(e=>{let t=e.title||a,i=tokenizeText(t);i.forEach(a=>{for(let i=1;i<=a.length;i++){let r=a.substring(0,i);n[r]||(n[r]=[]);try{let a=new Set(n[r].map(e=>e.id));a.has(e.id)||n[r].push(e)}catch(e){console.error("Error building search index",{err:e,prefix:r,token:a,title:t})}}})}),n},extractChatItemsFromEdges=(e,a)=>e.map(e=>{var n;return(null==e?void 0:null===(n=e.node)||void 0===n?void 0:n.id)?{id:e.node.id,title:e.node.title||a,lastInteractionTime:e.node.lastInteractionTime}:null}).filter(e=>null!==e),tokenizeText=e=>{let a=[];if("undefined"!=typeof Intl&&Intl.Segmenter)try{let n=new Intl.Segmenter(void 0,{granularity:"word"}),t=Array.from(n.segment(e));a.push(...t.map(e=>e.segment.toLowerCase().trim()).filter(Boolean))}catch(e){}for(let n=0;n<e.length;n++){let t=e[n];if(!/[a-zA-Z0-9\s\-_.,!?;:'"()[\]{}]/.test(t)&&(a.push(t.toLowerCase()),n<e.length-1)){let t=e[n+1];/[a-zA-Z0-9\s\-_.,!?;:'"()[\]{}]/.test(t)||a.push(e.substring(n,n+2).toLowerCase())}}let n=e.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(e=>e.length>0);return Array.from(new Set([...a,...n]))},useChatHistorySearch=e=>{let{allEdges:a,searchQuery:t}=e,{t:r}=(0,i.$G)(),o=r("New chat"),d=(0,s.useFragment)(n(6691),a),c=(0,l.useMemo)(()=>{let e=new Map;return d.forEach((a,n)=>{var t;(null==a?void 0:null===(t=a.node)||void 0===t?void 0:t.id)&&e.set(a.node.id,n)}),e},[d]),u=(0,l.useMemo)(()=>{let e=extractChatItemsFromEdges(d,o);if(!t.trim())return e;let a=buildSearchIndex(e,o),n=t.toLowerCase().trim(),i=tokenizeText(n);if(0===i.length)return e;let r=[],l=a[i[0]]||[];r=[...l];for(let e=1;e<i.length;e++){let n=new Set((a[i[e]]||[]).map(e=>e.id));r=r.filter(e=>n.has(e.id))}return r.sort((e,a)=>new Date(a.lastInteractionTime).getTime()-new Date(e.lastInteractionTime).getTime())},[t,d,o]),m=(0,l.useMemo)(()=>{let e=u.map(e=>c.get(e.id)).filter(e=>void 0!==e);return e.map(e=>a[e]).filter(Boolean)},[u,c,a]);return{filteredEdges:m}},j=n(70946);function ChatHistoryPagedSearchResultsInner(e){let{queryReference:a,searchQuery:r,viewer:o}=e,d=(0,s.usePreloadedQuery)(j,a);R()(d,"queryData is required");let{t:c}=(0,i.$G)(),{data:u,loadNext:m,hasNext:h,isLoadingNext:g}=(0,s.usePaginationFragment)(n(63160),d),p=(0,s.useFragment)(n(63967),o),k=(0,l.useCallback)(()=>{m(200)},[m]),[y,F]=(0,l.useState)(!1),S=p.pagingInterval;(0,l.useEffect)(()=>{let autoLoad=async()=>{if(u.chats.edges.length<5e3&&h&&!g){let e=null!=S?S:0;await new Promise(a=>setTimeout(a,e)),k()}(u.chats.edges.length>=5e3||!h)&&F(!0)};autoLoad()},[u.chats.edges.length,h,g,k,S]);let[b,C]=(0,l.useState)(50);(0,l.useEffect)(()=>{C(50)},[r]);let{filteredEdges:v}=useChatHistorySearch({allEdges:u.chats.edges,searchQuery:r}),L=(0,l.useCallback)(()=>{C(e=>Math.min(e+50,5e3))},[]);return(0,t.jsxs)("div",{className:M().container,children:[(0,t.jsx)(f.Z,{className:M().mainSection,loadMore:L,hasMore:b<v.length,isLoading:!1,loadingState:(0,t.jsx)(N.ZP,{}),error:!1,threshold:100,as:"ul",children:Array.from(v).slice(0,b).map(e=>(0,t.jsx)(_.Z,{chat:e.node,viewer:p},e.node.id))}),y?(()=>{if(h){let e=1===v.length?c("{{numResults, number}} result from most recent {{numChatsLimit, number}} chats",{numResults:v.length,numChatsLimit:u.chats.edges.length}):c("{{numResults, number}} results from most recent {{numChatsLimit, number}} chats",{numResults:v.length,numChatsLimit:u.chats.edges.length});return(0,t.jsx)("div",{className:M().footer,children:(0,t.jsx)("p",{children:e})})}{let e=1===v.length?c("{{numResults, number}} result from all {{numEdgesSearched, number}} chats",{numResults:v.length,numEdgesSearched:u.chats.edges.length}):c("{{numResults, number}} results from all {{numEdgesSearched, number}} chats",{numResults:v.length,numEdgesSearched:u.chats.edges.length});return(0,t.jsx)("div",{className:M().footer,children:(0,t.jsx)("p",{children:e})})}})():(0,t.jsx)("div",{className:M().footer,children:(0,t.jsx)("p",{children:c("Searching {{numChats, number}} chats...",{numChats:u.chats.edges.length})})})]})}var chat_ChatHistoryPagedSearchResults=e=>{let{searchQuery:a,viewer:n}=e,{t:r}=(0,i.$G)(),[o,d]=(0,s.useQueryLoader)(j);(0,l.useEffect)(()=>{d({})},[d]);let c=(0,t.jsxs)("div",{className:M().container,children:[(0,t.jsx)("ul",{className:M().mainSection}),(0,t.jsx)("div",{className:M().footer,children:(0,t.jsx)("p",{children:r("Searching...")})})]});return null==o?null:(0,t.jsx)(l.Suspense,{fallback:c,children:(0,t.jsx)(ChatHistoryPagedSearchResultsInner,{queryReference:o,searchQuery:a,viewer:n})})},chat_ChatHistoryListWithSearch=e=>{var a;let{root:o,setRefetchFullList:d}=e;(0,v.Rr)();let{data:c,loadNext:m,hasNext:h,isLoadingNext:g,refetch:p}=(0,s.usePaginationFragment)(n(54421),o),{t:k}=(0,i.$G)();(0,l.useEffect)(()=>{p&&d(p)},[d,p]);let f=(0,r.useRouter)(),{value:y,setValue:F,isFocused:_,setIsFocused:S,hasFocused:L,setHasFocused:T,setSearchExperienceId:w}=(0,C.M)(null!==(a=f.query.search)&&void 0!==a?a:"",!1);(0,l.useEffect)(()=>{var e;let a=null!==(e=f.query.search)&&void 0!==e?e:"";F(a)},[f.query.search,F]);let N=""===y.trim(),P=(0,l.useRef)(50),I=(0,l.useCallback)(()=>{P.current=50},[]),R=(0,l.useCallback)(e=>{let a="function"==typeof e?e(y):e;F(a);let n=a.trim()?"/chats?search=".concat(encodeURIComponent(a)):"/chats";f.replace(n,void 0,{shallow:!0}),a.length>0&&I()},[F,y,f,I]),H=(0,l.useCallback)(()=>{let e={...f.query};delete e.search,f.replace({pathname:f.pathname,query:e},void 0,{shallow:!0})},[f]);return 0===c.chats.edges.length?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:x().searchBarContainer,children:(0,t.jsx)(C.Z,{value:y,setValue:R,isFocused:_,setIsFocused:S,hasFocused:L,setHasFocused:T,setSearchExperienceId:w,onClose:H,placeholderValue:k("Search")})}),(0,t.jsxs)("div",{className:x().emptyContainer,children:[(0,t.jsx)("p",{children:k("You don't have any chats.")}),(0,t.jsx)(u.Z,{as:"a",theme:"outline",href:"/",iconLeft:(0,t.jsx)(b.l3,{}),children:k("New chat")})]})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:x().searchBarContainer,children:(0,t.jsx)(C.Z,{value:y,setValue:R,isFocused:_,setIsFocused:S,hasFocused:L,setHasFocused:T,setSearchExperienceId:w,onClose:H,placeholderValue:k("Search")})}),N?(0,t.jsx)(chat_ChatHistoryPagedList,{edges:c.chats.edges.slice(0,P.current),viewer:c.viewer,loadNext:m,hasNext:h,isLoadingNext:g,historyPageLimit:P}):(0,t.jsx)(chat_ChatHistoryPagedSearchResults,{searchQuery:y,viewer:c.viewer})]})},chat_ChatHistoryMain=e=>{var a,i;let{root:c}=e,u=(0,s.useFragment)(n(53742),c),[m,h]=(0,l.useState)(),g=(0,r.useRouter)(),p=(0,l.useCallback)(()=>{var e;m?(g.replace("/chats",void 0,{shallow:!0}),m({})):g.push("/chats"),(0,o.Z)("poe/action_log",{action_type:d.Z.clear_chat_history_page_filter,bot_id:null===(e=u.bot)||void 0===e?void 0:e.botId})},[null===(a=u.bot)||void 0===a?void 0:a.botId,g,m]),k=u.viewer.messageSearchEnabled;return(null===(i=u.bot)||void 0===i?void 0:i.botId)?(0,t.jsx)(chat_ChatHistoryFilteredList,{root:u,onFilterClear:p}):k?(0,t.jsx)(chat_ChatHistoryListWithMessageSearch,{root:u,setRefetchFullList:h}):(0,t.jsx)(chat_ChatHistoryListWithSearch,{root:u,setRefetchFullList:h})},B=n(91469),E=n(24581),V=n(71258),A=n(88258),U=n(45598);let q=(0,A.T)(e=>{let{t:a}=(0,i.$G)();return(0,t.jsxs)(B.Z,{header:(0,t.jsx)(E.Z,{title:a("History"),viewer:e.viewer}),children:[(0,t.jsx)(V.Z,{title:a("History")}),(0,t.jsx)(chat_ChatHistoryMain,{root:e})]})},{query:n(19451),variables:e=>{let a=e.bot;return(0,U.H)(a)?{handle:a,useBot:!0}:{handle:"",useBot:!1}}},{loggedInOnly:!0});var K=q},29707:function(e){e.exports={root:"Avatar_root__rwLF0",circle:"Avatar_circle__3Dm9j",rounded:"Avatar_rounded__qlug0",isDeleted:"Avatar_isDeleted___ug1h",hasBorder:"Avatar_hasBorder__BIKm9","xx-sm":"Avatar_xx-sm__hwmu_","x-sm":"Avatar_x-sm__sqGK5",sm:"Avatar_sm__gAFzf",md:"Avatar_md__imQ_g",lg:"Avatar_lg__Nfu_7","x-lg":"Avatar_x-lg__VsaGf"}},97153:function(e){e.exports={count_badge:"BadgeAvatarCount_count_badge__tblHE",plus_sign:"BadgeAvatarCount_plus_sign__n8zs9",prefix:"BadgeAvatarCount_prefix__y_yXb"}},91123:function(e){e.exports={badge_notification:"BadgeNotification_badge_notification__Uvwm4",plus:"BadgeNotification_plus__pPYFP"}},37103:function(e){e.exports={float:"Float_float__hYgRk"}},11022:function(e){e.exports={root:"Tooltip_root____RrW",forceHidden:"Tooltip_forceHidden__H_T5d",arrow:"Tooltip_arrow__dzBGL"}},51052:function(e){e.exports={toggle_group_bot_selector:"ToggleGroupBotSelector_toggle_group_bot_selector__t_yr7"}},92850:function(e){e.exports={toggle_group_button:"ToggleGroupButton_toggle_group_button__7uUzh"}},45020:function(e){e.exports={toggle_group_filter_chip:"ToggleGroupFilterChip_toggle_group_filter_chip__KAL6r"}},20385:function(e){e.exports={container:"ChatHistoryListFilterFooter_container__KMEvP"}},65181:function(e){e.exports={container:"ChatHistoryListFilterHeader_container__E8CjK"}},52770:function(e){e.exports={emptyContainer:"ChatHistoryListWithSearch_emptyContainer__BDvjU",searchBarContainer:"ChatHistoryListWithSearch_searchBarContainer__UB2F3"}},67092:function(e){e.exports={mainSection:"ChatHistoryMessageSearchResults_mainSection__tmEVB",container:"ChatHistoryMessageSearchResults_container__5mgnj",footer:"ChatHistoryMessageSearchResults_footer__Zi8pt",loadingState:"ChatHistoryMessageSearchResults_loadingState__lv_tr",emptyState:"ChatHistoryMessageSearchResults_emptyState__Ft9z0"}},50697:function(e){e.exports={mainSection:"ChatHistoryPagedList_mainSection__h7IQR"}},34299:function(e){e.exports={mainSection:"ChatHistoryPagedSearchResults_mainSection__CetlE",container:"ChatHistoryPagedSearchResults_container__HWs7b",footer:"ChatHistoryPagedSearchResults_footer__d1enn",loadingState:"ChatHistoryPagedSearchResults_loadingState__eqk_e"}},11300:function(e){e.exports={scrollSection:"MainColumn_scrollSection__A9NHB",scrollSectionOverflow:"MainColumn_scrollSectionOverflow__FbPqw",column:"MainColumn_column__UEunw",noMaxWidth:"MainColumn_noMaxWidth__8pWAi",disallowScroll:"MainColumn_disallowScroll__zR9H2",startAtBottom:"MainColumn_startAtBottom__KeM8B"}},56782:function(e){e.exports={container:"InfiniteScroll_container__PHsd4",horizontal:"InfiniteScroll_horizontal__i7SXE",pagingTrigger:"InfiniteScroll_pagingTrigger__cdz9I"}},54732:function(e){e.exports={inputContainer:"SearchBar_inputContainer__5pnH0",selectorWrapper:"SearchBar_selectorWrapper__Oyf5Q",searchIcon:"SearchBar_searchIcon__Dg5YZ",inputRow:"SearchBar_inputRow__RQiP9",input:"SearchBar_input__somiR"}}},function(e){e.O(0,[6342,9692,2816,5675,1476,3967,8062,2071,2460,486,9142,4549,9774,2888,179],function(){return e(e.s=86867)}),_N_E=e.O()}]);