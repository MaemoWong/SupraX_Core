try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="dd5ab0b0-d744-4f0c-81e8-0c91beed282e",e._sentryDebugIdIdentifier="sentry-dbid-dd5ab0b0-d744-4f0c-81e8-0c91beed282e")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63471],{0x401a1006:(e,t,a)=>{a.d(t,{l:()=>u});var n=a(0x22102fd88),i=a(0xb91ccc43),s=a(0xa0c99a98),l=a(0x1a1f6dda6),r=a(0xfc89b4a4),d=a(0x1ab0d1ca1),o=a(0x225bae024);let c=(0,s.F)("flex\n  justify-between\n  w-fit\n  rounded-xl\n  p-3\n  gap-3\n  items-start\n  text-sm\n  border-0.5\n  border-border-200\n",{variants:{variant:{main:"bg-bg-200",danger:"text-danger-000 border-danger-100 bg-danger-900"}}});function u(e){let{message:t,onClose:a,...s}=e,u=(0,d.A)(),p=()=>"icon"in s&&s.icon?(0,n.jsx)("div",{className:"h-8 ml-1 flex items-center",children:r.createElement(s.icon,{size:20})}):null,g=()=>a?(0,n.jsx)(o.$,{size:"icon_sm",variant:"ghost",onClick:a,colorized:!0,"aria-label":u.formatMessage({defaultMessage:"Dismiss",id:"TDaF6JVgG6"}),children:(0,n.jsx)(i.X,{size:16})}):null,f=()=>s.button?(0,n.jsx)(o.$,{...s.button,variant:"secondary",colorized:!0,size:"sm"}):null;if("pictogram"in s&&s.pictogram){let e=s.pictogram,a=f();return(0,n.jsxs)("div",{className:"flex items-center w-fit rounded-xl p-3 text-sm border-0.5 border-border-200 bg-bg-200",children:[(0,n.jsx)(e,{size:"small",highlightFill:"pictogram-200"}),(0,n.jsx)("div",{className:"mx-3",children:t}),a&&(0,n.jsx)("div",{className:"mr-2",children:a}),g()]})}let x="variant"in s?s.variant:"main",v="actionLayout"in s?s.actionLayout:void 0,h="className"in s?s.className:void 0;return"multiline"===v?(0,n.jsxs)("div",{"data-color-context":x,className:(0,l.A)(c({variant:x}),h),children:[(0,n.jsxs)("div",{className:"flex items-start",children:[p(),(0,n.jsxs)("div",{className:"mt-[0.35rem] ml-3",children:[(0,n.jsx)("div",{children:t}),(0,n.jsx)("div",{className:"mt-3",children:f()})]})]}),g()]}):(0,n.jsxs)("div",{"data-color-context":x,className:(0,l.A)(c({variant:x}),h),children:[(0,n.jsxs)("div",{className:"flex items-start",children:[p(),(0,n.jsx)("div",{className:"my-[0.35rem] ml-3",children:t})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"mr-1",children:f()}),g()]})]})}},0x5d793911:(e,t,a)=>{a.d(t,{O:()=>s,U:()=>l});var n=a(0xfc89b4a4),i=a(0x1950735db);let s=()=>{let e=(0,n.useContext)(i.O);if(!e)throw Error("useExtensions must be used within ExtensionsProvider");return e},l=()=>{let{extensions:e,setExtensionSettings:t}=s();return async a=>{let n=e.find(e=>e.id===a);if(!n)return;let i=n.settings||{};await t(a,{...i,isEnabled:!i.isEnabled})}}},0x102661e8c:(e,t,a)=>{a.d(t,{X:()=>c});var n=a(0x22102fd88),i=a(0x139b5e710),s=a(0x225bae024),l=a(0x2252bfeb8),r=a(0xfc89b4a4),d=a(0x1ab0d1ca1),o=a(0x38e6572);let c=e=>{let{extension:t,size:a="normal",style:c}=e,u=(0,d.A)(),{addError:p}=(0,i.Y)(),[g,f]=(0,r.useState)(null),[x,v]=(0,r.useState)(!0),[h,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!t.id)return v(!1);try{var e;let a=await (null===l.Fd||void 0===l.Fd||null==(e=l.Fd.getIsUpdateAvailable)?void 0:e.call(l.Fd,t.id,t.manifest))||null;f(a)}catch(e){p((0,n.jsx)(o.A,{defaultMessage:"Failed to check for extension updates",id:"qmTCOIrDRY",description:"Error message when checking for extension updates fails"}),{error:e})}finally{v(!1)}})()},[t,p]);let b=async()=>{if(t.id&&g){m(!0);try{var e;await (null===l.Fd||void 0===l.Fd||null==(e=l.Fd.installDxtFromDirectory)?void 0:e.call(l.Fd,t.id,g))}catch(e){p((0,n.jsx)(o.A,{defaultMessage:"Failed to update extension",id:"II6Ozv49Lo",description:"Error message when extension update fails"}),{error:e})}finally{m(!1)}}};if(x||!g)return null;let y=u.formatMessage({defaultMessage:"Update available to v{version}. You are currently on v{currentVersion}.",id:"2Fd2dxtEBo",description:"Title for extension update button"},{version:g,currentVersion:t.manifest.version});return(0,n.jsx)(s.$,{variant:"primary",disabled:h,onClick:b,title:y,style:c,children:h?u.formatMessage({defaultMessage:"Updating...",id:"yugrR4jIsZ",description:"Button text while updating extension"}):"small"===a?u.formatMessage({defaultMessage:"Update",id:"rQoNAJyEVw",description:"Button to update extension (short version)"}):u.formatMessage({defaultMessage:"Update to {version}",id:"Wur112HVmK",description:"Button to update extension to specific version"},{version:g})})}},0x1417f52d9:(e,t,a)=>{a.d(t,{W:()=>l});var n=a(0x17aa9d8d7),i=a(0x14de19ae8),s=a(0xfc89b4a4);function l(){let{mutate:e,isPending:t}=(0,n.yJ)(),{account:a}=(0,i.YL)();return{dismiss:(0,s.useCallback)(t=>{var n,i,s;a&&(null!=a&&null!=(i=a.settings)&&null!=(n=i.dismissed_claudeai_banners)&&n.some(e=>e.banner_id===t)||e({dismissed_claudeai_banners:[...(null==a||null==(s=a.settings)?void 0:s.dismissed_claudeai_banners)||[],{banner_id:t,dismissed_at:new Date().toISOString()}]}))},[a,e]),isDismissed:(0,s.useCallback)(e=>{var t,n;return(null==a||null==(n=a.settings)||null==(t=n.dismissed_claudeai_banners)?void 0:t.some(t=>t.banner_id===e))||!1},[a]),isPending:t}}},0x1950735db:(e,t,a)=>{a.d(t,{O:()=>l,y:()=>r});var n=a(0x22102fd88),i=a(0x2252bfeb8),s=a(0xfc89b4a4);let l=(0,s.createContext)(void 0),r=e=>{let{children:t}=e,[a,r]=(0,s.useState)([]),[d,o]=(0,s.useState)(!0),[c,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)(null),[f,x]=(0,s.useState)(!0),[v,h]=(0,s.useState)(!0),m=(0,s.useCallback)(async()=>{try{var e;o(!0),g(null);let t=await (null===i.Fd||void 0===i.Fd||null==(e=i.Fd.getInstalledExtensionsWithState)?void 0:e.call(i.Fd));t&&r(t),u(!0)}catch(e){g(e instanceof Error?e.message:"Failed to load extensions")}finally{o(!1)}},[]),b=(0,s.useCallback)(async(e,t)=>{try{var a;await (null===i.Fd||void 0===i.Fd||null==(a=i.Fd.setExtensionSettings)?void 0:a.call(i.Fd,e,t)),r(a=>a.map(a=>a.id===e?{...a,settings:{...a.settings,...t}}:a))}catch(e){g(e instanceof Error?e.message:"Failed to update extension settings"),await m()}},[m]),y=(0,s.useCallback)(async e=>{try{var t;await (null===i.Fd||void 0===i.Fd||null==(t=i.Fd.deleteExtension)?void 0:t.call(i.Fd,e)),r(t=>t.filter(t=>t.id!==e))}catch(e){g(e instanceof Error?e.message:"Failed to delete extension"),await m()}},[m]);(0,s.useEffect)(()=>{var e,t,a,n;m(),null===i.Fd||void 0===i.Fd||null==(e=i.Fd.isDirectoryEnabled)||e.call(i.Fd).then(x),null===i.Fd||void 0===i.Fd||null==(t=i.Fd.isExtensionsEnabled)||t.call(i.Fd).then(h);let s=null===i.Fd||void 0===i.Fd||null==(a=i.Fd.onExtensionsChanged)?void 0:a.call(i.Fd,()=>{m()}),l=null===i.Fd||void 0===i.Fd||null==(n=i.Fd.onExtensionSettingsChanged)?void 0:n.call(i.Fd,(e,t)=>{r(a=>a.map(a=>a.id===e?{...a,settings:{...a.settings,...t}}:a))});return()=>{null==s||s(),null==l||l()}},[m]);let w=(0,s.useCallback)(e=>a.find(t=>t.id===e),[a]),j=(0,s.useMemo)(()=>({extensions:a,isLoading:d,hasLoadedOnce:c,error:p,isDirectoryEnabled:f,isExtensionsEnabled:v,setExtensionSettings:b,deleteExtension:y,getExtensionById:w}),[y,p,a,w,f,v,d,b,c]);return(0,n.jsx)(l.Provider,{value:j,children:t})}},0x1eb0949d5:(e,t,a)=>{a.d(t,{S:()=>f});var n=a(0x22102fd88),i=a(0x139b5e710),s=a(0x2471dc42f),l=a(0x225bae024),r=a(0x2252bfeb8),d=a(0x12a3a86b6),o=a(0x1ab362a20),c=a(0x88148a10),u=a(0xfc89b4a4),p=a(0x1ab0d1ca1),g=a(0x38e6572);let f=e=>{let{manifest:t,settings:a,onSave:f,onCancel:x,className:v}=e,h=(0,p.A)(),{addError:m}=(0,i.Y)(),[b,y]=(0,u.useState)({}),[w,j]=(0,u.useState)(!1),[_,F]=(0,u.useState)(!1),[k,M]=(0,u.useState)(!1);if((0,u.useEffect)(()=>{if(a.userConfig)y(a.userConfig);else if(t.user_config){let e={};for(let[a,n]of Object.entries(t.user_config))void 0!==n.default&&(e[a]=n.default);y(e)}},[t.user_config,a.userConfig]),!t.user_config)return null;let N=(e,t)=>{y(a=>({...a,[e]:t})),j(!0)},A=async()=>{F(!0);try{await f(b),j(!1),M(!0),setTimeout(()=>{M(!1)},1e4)}catch(e){m((0,n.jsx)(g.A,{defaultMessage:"Failed to save configuration",id:"k3HNr+oyR6",description:"Error message when extension configuration save fails"}),{error:e})}finally{F(!1)}};return(0,n.jsx)("div",{className:v,children:(0,n.jsxs)("div",{className:"break-inside-avoid",children:[Object.entries(t.user_config).map(e=>{let[t,a]=e;return(0,n.jsx)("div",{className:"mb-5",children:(0,n.jsxs)("label",{children:[(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:"text-md",children:a.title}),a.required&&(0,n.jsx)("span",{className:"text-text-400 ml-1",children:(0,n.jsx)(g.A,{defaultMessage:"(Required)",id:"5Q3Kor4lDg",description:"Label indicating a configuration field is required"})})]}),a.description&&"boolean"!==a.type&&(0,n.jsx)("p",{className:"text-xs text-text-400 mt-2 mb-3",children:a.description}),(0,n.jsx)("div",{className:"mb-2 mt-2",children:((e,t)=>{let a=b[e],i="w-full px-3 py-2 border border-border-300/25 rounded-md text-sm text-text-100 bg-bg-100";switch(t.type){case"string":return(0,n.jsx)("input",{type:t.sensitive?"password":"text",value:a||"",onChange:t=>N(e,t.target.value),placeholder:t.description,className:i});case"number":return(0,n.jsx)("input",{type:"number",value:a||"",onChange:t=>N(e,t.target.value?Number(t.target.value):""),min:t.min,max:t.max,placeholder:t.description,className:i});case"boolean":return(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(s.j,{checked:a||!1,onChange:t=>N(e,t.target.checked)}),(0,n.jsx)("span",{className:"text-sm text-text-300",children:t.description})]});case"directory":case"file":if(!t.multiple)return(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("input",{type:"text",value:a||"",onChange:t=>N(e,t.target.value),placeholder:h.formatMessage({defaultMessage:"{type} path",id:"p8XbPZF2o4",description:"Placeholder for directory or file path input"},{type:"directory"===t.type?"Directory":"File"}),className:"".concat(i," flex-1 w-auto")}),(0,n.jsx)(l.$,{variant:"secondary",onClick:async()=>{var a,n;let i="directory"===t.type?await (null===r.un||void 0===r.un||null==(a=r.un.getDirectoryPath)?void 0:a.call(r.un,!1)):await (null===r.un||void 0===r.un||null==(n=r.un.getFilePath)?void 0:n.call(r.un,!1));i&&N(e,i[0])},className:"px-3 py-1.5",children:h.formatMessage({defaultMessage:"Browse",id:"0TPgIp3K/q",description:"Button to browse for file/directory"})})]});{let s=a||[];return(0,n.jsxs)("div",{children:[s.map((a,c)=>(0,n.jsxs)("div",{className:"flex gap-2 mb-2 items-center",children:[(0,n.jsx)("input",{type:"text",value:a,onChange:t=>{let a=[...s];a[c]=t.target.value,N(e,a)},placeholder:h.formatMessage({defaultMessage:"{type} path",id:"p8XbPZF2o4",description:"Placeholder for directory or file path input"},{type:"directory"===t.type?"Directory":"File"}),className:"".concat(i," flex-1 w-auto")}),(0,n.jsx)(l.$,{variant:"ghost",size:"icon",onClick:async()=>{var a,n;let i="directory"===t.type?await (null===r.un||void 0===r.un||null==(a=r.un.getDirectoryPath)?void 0:a.call(r.un,!1)):await (null===r.un||void 0===r.un||null==(n=r.un.getFilePath)?void 0:n.call(r.un,!1));if(i){let t=[...s];t[c]=i[0],N(e,t)}},children:(0,n.jsx)(d.sj,{})}),(0,n.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>{N(e,s.filter((e,t)=>t!==c))},children:(0,n.jsx)(o.u,{})})]},c)),(0,n.jsxs)(l.$,{variant:"secondary",onClick:()=>{N(e,[...s,""])},className:"mt-2",children:[(0,n.jsx)(c.c,{className:"mr-1.5",size:16}),h.formatMessage({defaultMessage:"Add {type}",id:"1ddlPuxY71",description:"Button to add a new path"},{type:t.type})]})]})}default:return null}})(t,a)})]})},t)}),(0,n.jsxs)("div",{className:"flex gap-3 mt-6 justify-between items-center",children:[x&&(0,n.jsx)(l.$,{variant:"secondary",onClick:x,disabled:_,children:h.formatMessage({defaultMessage:"Cancel",id:"zVjtFM8JfM",description:"Button to cancel configuration edit"})}),k&&(0,n.jsx)("span",{className:"text-sm text-accent-secondary-100",children:h.formatMessage({defaultMessage:"Changes saved",id:"jdKVJo/vQ6",description:"Message shown after configuration is saved"})}),!k&&(0,n.jsx)("div",{}),(0,n.jsx)(l.$,{variant:"primary",onClick:A,disabled:!w||_,children:h.formatMessage({defaultMessage:"Save",id:"NuymVHsb1A",description:"Button to save configuration"})})]})]})})}},0x2252bfeb8:(e,t,a)=>{var n,i,s,l,r,d,o,c;a.d(t,{Fd:()=>x,TQ:()=>f,W$:()=>h,YQ:()=>p,a8:()=>g,lX:()=>m,oO:()=>u,un:()=>v});let u=null==(n=globalThis["claude.settings"])?void 0:n.AppConfig,p=null==(i=globalThis["claude.settings"])?void 0:i.Startup,g=null==(s=globalThis["claude.settings"])?void 0:s.GlobalShortcut,f=null==(l=globalThis["claude.settings"])?void 0:l.MCP,x=null==(r=globalThis["claude.settings"])?void 0:r.Extensions,v=null==(d=globalThis["claude.settings"])?void 0:d.FilePickers,h=null==(o=globalThis["claude.settings"])?void 0:o.AppPreferences,m=null==(c=globalThis["claude.settings"])?void 0:c.AppFeatures},0x2471dc42f:(e,t,a)=>{a.d(t,{j:()=>s});var n=a(0x22102fd88),i=a(0x1a1f6dda6);function s(e){let{className:t,variant:a,size:s="default",children:c,disableAnimation:u,...p}=e,{width:g,height:f}=r[s],x="".concat(f,"px"),v="".concat(g,"px"),h="calc(".concat(x," - 4px)"),m="calc(".concat(v," - ").concat(x,")"),{"data-force-hover":b,"data-force-focus":y,...w}=p;return(0,n.jsxs)("div",{className:(0,i.A)("group/switch relative select-none cursor-pointer","has-[:disabled]:pointer-events-none",t),"data-force-hover":b,"data-force-focus":y,children:[(0,n.jsx)("input",{type:"checkbox",style:{width:v,height:x},className:"peer sr-only",role:"switch","data-force-hover":b,"data-force-focus":y,...w}),(0,n.jsx)("div",{style:{width:v,height:x},className:(0,i.A)(d,u&&"!transition-none",o.pill[a||"default"])}),(0,n.jsx)("div",{style:{height:h,width:h,transform:"translateX(".concat(p.checked?m:"0",")")},className:(0,i.A)(l,u&&"!transition-none",o.circle[a||"default"]),children:c})]})}let l=(0,i.A)("absolute flex items-center justify-center start-[2px] top-[2px] rounded-full transition-all bg-white ring-[0.5px] ring-inset ring-border-200","group-hover/switch:ring-[1px]","group-data-[force-hover=true]/switch:ring-[1px]","peer-checked:ring-[0px]","group-hover/switch:peer-checked:ring-[0px]","group-data-[force-hover=true]/switch:peer-checked:ring-[0px]"),r={default:{width:36,height:20},small:{width:28,height:16}},d=(0,i.A)("rounded-full transition-all bg-bg-500 ring-[0.5px] ring-border-200","group-hover/switch:ring-[1px]","group-data-[force-hover=true]/switch:ring-[1px]","peer-focus-visible:outline peer-focus-visible:outline-[1px] peer-focus-visible:outline-accent-secondary-100 peer-focus-visible:outline-offset-2","peer-data-[force-focus=true]:outline peer-data-[force-focus=true]:outline-[1px] peer-data-[force-focus=true]:outline-accent-secondary-100 peer-data-[force-focus=true]:outline-offset-2","peer-disabled:opacity-50","peer-checked:bg-accent-secondary-100 peer-checked:ring-[0px]","group-hover/switch:peer-checked:ring-[1px] group-hover/switch:peer-checked:ring-accent-secondary-000","group-data-[force-hover=true]/switch:peer-checked:ring-[1px] group-data-[force-hover=true]/switch:peer-checked:ring-accent-secondary-000"),o={pill:{default:"",dark:(0,i.A)("peer-checked:bg-text-100","group-hover/switch:peer-checked:ring-text-100","group-data-[force-hover=true]/switch:peer-checked:ring-text-100")},circle:{default:"",dark:(0,i.A)("bg-bg-000","ring-bg-000","peer-checked:ring-[0.5px]","group-hover/switch:peer-checked:ring-[0.5px]","group-data-[force-hover=true]/switch:peer-checked:ring-[0.5px]")}}},0x25062734b:(e,t,a)=>{a.d(t,{$V:()=>k,vx:()=>_,yr:()=>N,kX:()=>F,sb:()=>j,v_:()=>S,Ax:()=>T,M8:()=>C,ko:()=>M,AY:()=>A,es:()=>E}),a(0x21e26ba67);var n=a(0x286b4261),i=a.n(n),s=a(0x17aa9d8d7),l=a(0xf32c56dd),r=a(0x12c9046cd),d=a(0x14de19ae8),o=a(0xc1dd9efc),c=a(0xac309a83),u=a(0x1bd175d8c),p=a(0xfc89b4a4),g=a(0x14c0dfde7),f=a(0x1d302b010),x=a(0x1417f52d9),v=a(0x9cb4c2a2),h=a(0x1c12b3087),m=a(0x78b33fbd),b=a(0xe824fb1c),y=a(0xbdad302d),w=a(0x31c535e9);let j=()=>(0,c.fS)("bagel_enabled"),_=()=>{let{account:e,activeOrganization:t}=(0,d.YL)(),a=(0,d.mV)(),n=(0,o.pG)(e,t,"claude-ai"),i=(0,o.yI)(e,t,o.Nt.IntegrationsManage);return!a||n||i},F=()=>{let e=(0,d.zm)(),t=_();return e&&!t},k="mcp_directory_chin",M=function(){var e,t;let{shouldTrack:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,p.useRef)(!1),i=j(),{dismiss:s}=(0,x.W)(),{account:l}=(0,d.YL)(),r=F(),o=new Date,c="".concat(o.getDate(),"-").concat(o.getMonth(),"-").concat(o.getFullYear()),u="".concat(k,"_").concat(c),g=(null!=(t=null==l||null==(e=l.settings.dismissed_claudeai_banners)?void 0:e.map(e=>e.banner_id))?t:[]).filter(e=>e.includes(k)),f=(0,p.useMemo)(()=>!(!i||r||g.includes(k))&&(!(g.length>3)||!g.includes(u)),[r,i,g,u]);return(0,p.useEffect)(()=>{!n.current&&f&&!g.includes(u)&&a&&(s(u),n.current=!0)},[u,g,a,s,f]),f};function N(e){var t;let a=(0,c.fS)("disable_destructive_mcp_tools_by_default"),{getMcpToolApprovalConfigSetting:n}=function(e){let{value:t}=(0,m.useDynamicConfig)("yukon_gold"===e?"tanuki_mcp_tool_approval_config":"mcp_tool_approval_config"),a=(0,p.useCallback)((e,a)=>{var n,i;if(!t||!e)return;let s=[e.url,e.uuid,e.name].map(e=>{var n,i;if(e)return(null==(n=t[e])?void 0:n[null!=a?a:"*"])||(null==(i=t[e])?void 0:i["*"])||void 0}).find(e=>void 0!==e);return void 0!==s?s:a&&(null==(n=t["*"])?void 0:n[a])!==void 0?t["*"][a]:(null==(i=t["*"])?void 0:i["*"])!==void 0?t["*"]["*"]:void 0},[t]);return{toolApprovalConfig:t,getMcpToolApprovalConfigSetting:a}}(e),{account:i}=(0,d.YL)(),s=null==i||null==(t=i.settings)?void 0:t.enabled_mcp_tools;return(0,p.useCallback)((e,t)=>{var i,l;let r=n(e,null==t?void 0:t.name),d=(null==t?void 0:t.alwaysApprovedKey)?null==s?void 0:s[null==t?void 0:t.alwaysApprovedKey]:void 0;return a&&(null==t||null==(i=t.annotations)?void 0:i.destructiveHint)===!0?{approvalRequired:!0,showAlwaysAllowed:!1}:"always"===r?{approvalRequired:!0,showAlwaysAllowed:!1,managedByOrg:!0}:d?{approvalRequired:!1}:"server"===r?{approvalRequired:!1,managedByServer:!0}:"never"===r&&!1!==d||"readOnly"===r&&(null==t||null==(l=t.annotations)?void 0:l.readOnlyHint)===!0&&!1!==d?{approvalRequired:!1}:{approvalRequired:!0,showAlwaysAllowed:!0,managedByOrg:!1,managedByServer:!1}},[a,n,s])}let A=()=>{let e=(0,b.Uz)({type:"local"});return!!(0,u.V)()&&e.length>0},C=()=>{var e,t,a;let n=(0,v.oM)(),i=(null==(e=n.pendingConversationSettings)?void 0:e.compass_mode)==="advanced"||(null==(a=n.conversation)||null==(t=a.conversationSettings)?void 0:t.compass_mode)==="advanced",s=(0,b.Uz)({type:"remote"}).length>0;return i&&s},E=e=>{let t=(0,h.jw)(),{account:a}=(0,d.YL)(),{updateSettings:n}=(0,w.IS)(),{track:r}=(0,l.st)(),{mutate:o}=(0,s.yJ)(),{mutateAsync:c}=(0,y.Z1)();return{toggleMcpToolEnabled:(s,l,d)=>{if(!a)return;let o=Array.isArray(s)?s.reduce((e,t)=>({...e,[t]:l}),{}):{[s]:l};r({event_key:"claudeai.mcp.tool.toggled",conversation_uuid:(null==t?void 0:t.id)||null,setting:s,value:l,url:d,source:null==e?void 0:e.source}),n({mcpToolsUpdate:o}).then(()=>{if(null==t?void 0:t.sessionId)return c({sessionId:t.sessionId})}).catch(i())},toggleMcpToolAlwaysApproved:(e,t)=>{a&&o({enabled_mcp_tools:{...a.settings.enabled_mcp_tools,[e]:t}})}}},S=e=>{let{activeOrganization:t}=(0,d.YL)(),a=null==t?void 0:t.uuid,{data:n}=(0,f.XT)(a,e||"",{enabled:!!e&&!!a});return!!n},T=()=>{let e=(0,g.p9)(),{activeOrganization:t}=(0,d.YL)(),a=null==t?void 0:t.uuid;return(0,r.L2)("/api/organizations/".concat(a,"/mcp/resources"),"POST",{enabled:e&&!!a})}}}]);