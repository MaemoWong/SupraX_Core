try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="84f457d7-7032-49ae-817c-bc0a3563df37",e._sentryDebugIdIdentifier="sentry-dbid-84f457d7-7032-49ae-817c-bc0a3563df37")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90370],{0x17185943:(e,t,n)=>{n.d(t,{E:()=>i});var r=n(0x22102fd88),a=n(0x1a1f6dda6);let i=e=>{let{color:t="default",size:n="default",children:i,className:s,uppercase:o}=e;return(0,r.jsx)("div",{className:(0,a.$)("inline-flex items-center align-middle leading-none flex-shrink-0","default"===t&&"bg-gradient-to-bl  from-bg-500/30  to-bg-500/70 text-text-300","flat"===t&&"bg-bg-500/40 text-text-200","secondary"===t&&"bg-accent-secondary-900/40 text-accent-secondary-200","pro"===t&&"bg-gradient-to-bl  from-accent-pro-200  to-accent-pro-100  text-oncolor-100","main"===t&&"bg-gradient-to-bl  from-accent-main-200/70  to-accent-main-100  text-oncolor-100","danger"===t&&"bg-danger-900 text-danger-200","default"===n&&"h-5 px-1.5 rounded-md text-[0.625rem]","sm"===n&&"h-4 px-1 rounded text-[0.625rem]","lg"===n&&"h-6 px-2 rounded-lg text-xs",o&&"uppercase",s),children:i})}},0x18bfd014:(e,t,n)=>{n.d(t,{S:()=>m,r:()=>f});var r=n(0x22102fd88),a=n(0xf32c56dd),i=n(0x20e00cddd),s=n(0x286b4261),o=n.n(s),l=n(0x4d348f95),d=n(0xfc89b4a4),u=n(0xb6b8b1fb);let c=d.createContext({incognitoModeEnabled:!1,setIncognitoModeEnabled:o(),temporaryConversationUuid:null,setTemporaryConversationUuid:o()}),m=()=>d.useContext(c),f=e=>{let{children:t}=e,n=(0,a.st)(),s=(0,l.useRouter)(),o=(0,l.useSearchParams)(),m=(0,u.I_)(),f=o.has(i.cn),[g,p]=(0,d.useState)(f),h=(0,d.useRef)(g),[v,b]=(0,d.useState)(null);(0,d.useEffect)(()=>{h.current=g},[g]),(0,d.useEffect)(()=>{f&&!g&&p(!0)},[f,g]);let x=(0,d.useCallback)(e=>{if(p(e),e)s.push("?".concat(i.cn));else{b(null);let e=new URLSearchParams(o.toString());e.delete(i.cn);let t=e.toString();s.push("".concat(window.location.pathname).concat(t?"?".concat(t):""),void 0)}n.track({event_key:"claudeai.incognito_mode.toggled",enabled:e})},[s,o,n]);(0,d.useEffect)(()=>{h.current&&!f&&x(!1)},[x,f]);let y=(0,d.useMemo)(()=>({incognitoModeEnabled:!!m&&g,setIncognitoModeEnabled:x,temporaryConversationUuid:m?v:null,setTemporaryConversationUuid:b}),[g,x,v,b,m]);return(0,r.jsx)(c.Provider,{value:y,children:t})}},0x9cb4c2a2:(e,t,n)=>{n.d(t,{_A:()=>F,oM:()=>Y});var r=n(0x22102fd88),a=n(0x101fa1001),i=n(0xab432de1),s=n(0x597e433e),o=n(0x16b1d0c0f),l=n(0x26b0b403),d=n(0xdd4f13c7),u=n(0x1065e6d73),c=n(0xf32c56dd),m=n(0x12c9046cd),f=n(0x14de19ae8),g=n(0xefe6388f),p=n(0x1016c6ed2),h=n(0x4d348f95),v=n(0xfc89b4a4),b=n(0x394ef833),x=n(0x107838ca5),y=n(0x1e841cc7d),_=n(0x87b1176c),S=n(0xb6b8b1fb),k=n(0x1bd42f6d2),M=n(0xbebfc702),w=n(0x139b5e710),C=n(0x31c535e9),P=n(0x1fb2770f2),E=n(0xe885efe2);n(0x1984f30f9);var T=n(0x2504fdeeb),I=n(0x15be5d623),A=n(0xb85e3e6b),j=n(0x57fb2d0b),L=n(0xe824fb1c),z=n(0x19ae67eb1),O=n(0x1f22b8dda),U=n(0x18bfd014),N=n(0x1c12b3087),R=n(0xac309a83);let D=v.createContext({transitionFiles:[],isAtMaxNumUploads:!1,model:"",isChatSyncing:!1,personalizedStyle:void 0,isProjectSyncing:!1,isNewConversation:!1,isProjectLocked:!1,isSending:!1,setModel:()=>Promise.resolve(),setProjectUuid:()=>void 0,sendMessage:()=>void 0,sendTransparentMessage:()=>void 0,stopSampling:()=>void 0,pendingConversationSettings:{},conversation:void 0,focusInput:()=>void 0,improvePrompt:()=>void 0,isImprovingPrompt:!1,promptInputRef:{current:null},willRedirectOnSubmit:!1,hasBlockingWarning:!1,setHasBlockingWarning:()=>void 0,setPersonalizedStyle:()=>void 0,isUploadingDriveSync:!1,isUploadingGithubSync:!1,setIsUploadingDriveSync:()=>void 0,setIsUploadingGithubSync:()=>void 0,includeProfilePreferences:!0,setIncludeProfilePreferences:()=>void 0,isUploadingFile:!1,setIsUploadingFile:()=>void 0,validateMaxUploadLimit:()=>!1,onDrop:()=>void 0,onPasteFiles:()=>Promise.resolve(),handleUpload:()=>Promise.resolve(),wiggleEnabled:!1,uploadInputProps:{type:"",accept:"",onChange:()=>void 0,multiple:!1,"aria-label":""},hasAttachments:!1,isModelSelectorOpen:!1,setIsModelSelectorOpen:()=>void 0,setPendingConversationSettings:()=>void 0,currentCompassTask:void 0,setCurrentCompassTask:()=>void 0,dynamicAction:()=>void 0}),Y=()=>v.useContext(D),F=e=>{var t,n,Y,F,K,Q,q,B;let{onSend:G,willRedirectOnSubmit:J,onCreate:X,onSessionCreate:V,onStopSampling:W,children:H,chatType:Z,yukonGoldSettings:$}=e,ee="conversation"in e,et=ee?e.conversation:void 0,en="projectUuid"in e?e.projectUuid:void 0,er="session"in e?e.session:void 0,ea=null!=(n=null==et?void 0:et.id)?n:void 0===en?"new-conversation":"".concat(en,":conversation"),ei=(0,g.d)("shrew"),es=(0,R.fS)("v2_prompt_storage"),{store:eo,unsubscribe:el}=(0,v.useMemo)(()=>(0,j.E)({enableV2:es,conversationId:ea,storage:ei}),[ea,es,ei]);(0,v.useEffect)(()=>()=>{null==el||el()},[el]);let{incognitoModeEnabled:ed}=(0,U.S)(),eu=(0,v.useRef)(null),{track:ec}=(0,c.st)(),{account:em}=(0,f.YL)(),ef=(0,h.useRouter)(),eg=(0,I.m)(),{getSession:ep,clearSession:eh}=(0,A.o)(),ev=(0,z.S4)();(0,v.useEffect)(()=>{(0,eo.getState().setPromptInputRef)(eu)},[eo]);let{markMessageSent:eb}=(0,T.B)(),ex=(0,v.useCallback)(()=>{ee&&W&&W()},[W,ee]);(e=>{let t=(0,v.useCallback)(t=>{if(!(!e||(e=>!!e&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName||"true"===e.getAttribute("contenteditable")||"textbox"===e.getAttribute("role")))(document.activeElement))&&!document.querySelector('[role="dialog"], [data-radix-dialog-content]')&&1===t.key.length&&!t.ctrlKey&&!t.altKey&&!t.metaKey){var n;if(!(" "===t.key&&(e=>{if(!e)return!1;let t=e.tagName;return"BUTTON"===t||"SUMMARY"===t||"SELECT"===t||("INPUT"===t?["button","submit","reset","checkbox","radio"].includes(e.type):["button","checkbox","radio","switch","menuitem","menuitemcheckbox","menuitemradio","option"].includes(e.getAttribute("role")||""))})(document.activeElement)))t.preventDefault(),null==(n=e.getEditor())||n.chain().insertContent(t.key).focus().run()}},[e]);(0,v.useEffect)(()=>(document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)),[t])})(eu.current);let{attachments:ey,files:e_,syncSourceUuids:eS}=(0,b.P)(eo,(0,x.k)(e=>({attachments:e.attachments,files:e.files,syncSourceUuids:e.syncSourceUuids}))),{setAttachments:ek,setFiles:eM,setSyncSourceUuids:ew}=(0,v.useMemo)(()=>{let e=eo.getState();return{setAttachments:e.setAttachments,setFiles:e.setFiles,setSyncSourceUuids:e.setSyncSourceUuids}},[eo]),eC=(0,y.NY)(eS),eP=(0,y.qJ)(eC),eE=(0,m.B7)(eC),eT=ey.length+e_.length+eS.length>=s.XA.maxTotalUploadsPerMessage,{isModelSelectorOpen:eI,isSending:eA,isUploadingDriveSync:ej,isUploadingGithubSync:eL,personalizedStyle:ez,includeProfilePreferences:eO,currentCompassTask:eU}=(0,b.P)(eo,(0,x.k)(e=>({isModelSelectorOpen:e.isModelSelectorOpen,isSending:e.isSending,isUploadingDriveSync:e.isUploadingDriveSync,isUploadingGithubSync:e.isUploadingGithubSync,personalizedStyle:e.personalizedStyle,includeProfilePreferences:e.includeProfilePreferences,currentCompassTask:e.currentCompassTask}))),{setIsModelSelectorOpen:eN,setIsSending:eR,setIsUploadingDriveSync:eD,setIsUploadingGithubSync:eY,setPersonalizedStyle:eF,setIncludeProfilePreferences:eK,setCurrentCompassTask:eQ,setStoreModel:eq,setStoreConversation:eB,setStorePendingConversationSettings:eG,_setProjectUuid:eJ}=(0,v.useMemo)(()=>{let e=eo.getState();return{setIsModelSelectorOpen:e.setIsModelSelectorOpen,setIsSending:e.setIsSending,setIsUploadingDriveSync:e.setIsUploadingDriveSync,setIsUploadingGithubSync:e.setIsUploadingGithubSync,setPersonalizedStyle:e.setPersonalizedStyle,setIncludeProfilePreferences:e.setIncludeProfilePreferences,setCurrentCompassTask:e.setCurrentCompassTask,setStoreModel:e.setModel,setStoreConversation:e.setConversation,setStorePendingConversationSettings:e.setPendingConversationSettings,_setProjectUuid:e.setProjectUuid}},[eo]),[eX,eV]=v.useState(),{stickyModelPreference:eW}=(0,d.F)(),eH=null!=(Q=null!=(K=null!=(F=null!=(Y=null==er?void 0:er.session_context.model)?Y:null==et?void 0:et.model)?F:eX)?K:eW)?Q:void 0,eZ=(0,C.vP)("enabled_mcp_tools"),e$=(0,v.useRef)(eZ);e$.current=eZ;let[e0,e1]=v.useState(),e2=(0,v.useMemo)(()=>({}),[]);(0,v.useLayoutEffect)(()=>{let e=eo.getState();e.model!==eH&&eq(eH),e.conversation!==et&&eB(et);let t=null!=e0?e0:e2,n=e.pendingConversationSettings,r=!n||0===Object.keys(n).length,a=!e0||0===Object.keys(e0).length;r&&a||n===t||eG(t)},[eo,et,eH,e0,e2,eq,eB,eG]);let e4=(0,v.useCallback)(e=>{e1(t=>{let n={...t,...e};return eG(n),n})},[eG]);(0,v.useEffect)(()=>{"yukon_gold"===Z&&e4({enabled_yukon_gold:!0})},[Z,e4]);let e3=(0,b.P)(eo,e=>e.projectUuid),e8=(0,S.Ah)(),e5=(0,M.kj)(),{mutate:e9}=(0,M.my)(),{mutate:e7}=(0,_.nI)(),{data:e6}=(0,M.xQ)(e3),te=(0,v.useCallback)(e=>{eJ(e),e5?e&&e9&&e9({projectUuid:e}):e8&&e&&e7&&e7({project_uuid:e})},[e8,e9,e7,eJ,e5]),tt=(0,k.ks)(e3),[tn,tr]=v.useState(),{storedStyle:ta,defaultStyle:ti}=(0,P.p)();(0,v.useEffect)(()=>{let e=null!=ta?ta:ti;!ez&&e&&eF(e)},[ta,ti,ez,eF]);let ts=(0,v.useRef)(en);(0,v.useEffect)(()=>{(ts.current!==en||void 0===e3&&void 0!==en)&&(e3!==en&&te(en),ts.current=en)},[en,e3,te]);let to="setPersonalizedStyleCallback"in e?e.setPersonalizedStyleCallback:null,tl=null==et?void 0:et.id,td=(0,O.Z)(tl);(0,v.useEffect)(()=>{tr(void 0),eR(!1)},[tl,eR]),(0,v.useEffect)(()=>{null==to||to(ez)},[ez,to]);let tu=(0,v.useCallback)(async()=>{var e,t,n;let r=eo.getState().getPrompt();if(!eu.current||""===r.trim()&&0===ey.length&&0===e_.length&&0===eS.length)return;$&&((null==(e=$.selectedModes)?void 0:e.length)>0||$.selectedSkill);let a=eo.getState().tipTapEditorState,s=(0,l.Oe)(a),{multipleNewlineCount:o,singleNewlineCount:d}=(0,i.Dn)(r);J&&tr([...e_]),eo.getState().clearAllInput(),eo.getState().setPrompt("",{forceUpdateTiptap:!1}),J?eu.current.setEditable(!1):eu.current.setContent(""),eR(!0);try{eb();let e=!!ee&&td;if(ec({event_key:"claudeai.message.sent",conversation_uuid:ea,model:eH,has_attachments:ey.length>0,has_files:e_.length>0,has_sync_sources:eS.length>0,message_length:r.length,is_new_conversation:!ee,has_personalized_style:!!ez,include_profile_preferences:eO,is_incognito:ed,is_yukon_gold:e,text_formatting:s,multiple_newline_count:o,single_newline_count:d}),ee&&G)await G({prompt:r,attachments:ey,files:e_,syncSources:eE,personalized_style:ez}),eR(!1),tr(void 0);else if(0){if(eg){let e=await ep();if(e){eh(),ev(e.conversationUuid,r),ef.push("/chat/".concat(e.conversationUuid));return}}let e=(n=null!=(t=e$.current)?t:{},Object.fromEntries(Array.from(new Set((0,L._b)(!1,n).filter(e=>"mcp_server_uuid"in e).map(e=>e.mcp_server_uuid))).map(e=>(0,L.et)(e)).filter(Boolean).filter(e=>(0,L.pH)(e.uuid)).map(e=>[e.uuid,{type:"http",url:e.url,headers:{"X-MCP-Server-ID":e.uuid}}])));await V(r,e,eH,e_,ey)}else{let e=eo.getState().pendingConversationSettings,t=e3&&e6&&!ee?{...e6,...e}:e;await X({prompt:r,attachments:ey,files:e_,syncSources:eE,model:eH,project_uuid:e3,personalized_style:ez,include_conversation_preferences:eO,is_temporary:ed,...t})}}catch(e){if(eo.getState().setPrompt(r,{forceUpdateTiptap:!0}),ek(ey),eM(e_),ew(eS),eu.current.setEditable(!0),eR(!1),tr(void 0),e instanceof p.LG&&"opus_messages_rate_limit_exceeded"===e.errorCode)(0,E.T)();else throw e}},[eo,ea,ey,e_,eS,J,eR,eb,ec,eH,eO,ed,ez,ee,td,G,V,eE,X,e3,e6,ek,eM,ew,null==em?void 0:em.settings.enabled_yukon_gold,$,eg,ev,ep,eh,ef]),tc=(0,v.useCallback)(async e=>{if(void 0!==e&&""!==e.trim()&&ee){eR(!0);try{G&&(await G({prompt:e,attachments:[],files:[],syncSources:[],personalized_style:ez}),eR(!1))}catch(e){if(e instanceof p.LG&&"opus_messages_rate_limit_exceeded"===e.errorCode)(0,E.T)();else throw e;eR(!1)}}},[ee,G,ez,eR]),{streamImprovement:tm,isStreaming:tf}=function(){let{activeOrganization:e}=(0,f.YL)(),[t,n]=(0,v.useState)(!1),[r,a]=(0,v.useState)(null),i=(0,v.useRef)(null),{addError:s}=(0,w.Y)(),o=(0,v.useCallback)(async(t,r,o,l)=>{i.current&&i.current.abort();let d=new AbortController;i.current=d,n(!0),a(null);let u="/api/organizations/".concat(null==e?void 0:e.uuid,"/prompt/improve/stream");try{var c,m,f;let e=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include",signal:d.signal});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let n=null==(c=e.body)?void 0:c.getReader(),a=new TextDecoder;if(!n)throw Error("No response body");let i="",s="",l=!1;for(;!l;){let e=await n.read();if(e.done){l=!0;break}let t=e.value,d=(i+=a.decode(t,{stream:!0})).split("\n");for(let e of(i=d.pop()||"",d))if(e.startsWith("data: ")){let t=e.slice(6);if("[DONE]"===t)continue;try{let e=JSON.parse(t);switch(e.type){case"content_block_delta":(null==(m=e.delta)?void 0:m.text)&&(s+=e.delta.text,r(e.delta.text));break;case"message_stop":o(e.improved_prompt||s);break;case"error":throw Error((null==(f=e.error)?void 0:f.message)||"Unknown error occurred")}}catch(e){}}else e.startsWith("event: ")&&e.slice(7)}}catch(t){if(t instanceof Error&&"AbortError"===t.name)return;let e=t instanceof Error?t:Error(String(t));a(e),null==l||l(e),s("Failed to improve prompt.",{error:e})}finally{n(!1),i.current===d&&(i.current=null)}},[null==e?void 0:e.uuid,s]);return(0,v.useEffect)(()=>()=>{i.current&&i.current.abort()},[]),{streamImprovement:o,isStreaming:t,error:r}}(),tg=(0,v.useCallback)(async()=>{var e,t,n,r;let a=eo.getState().getPrompt();if(!a.trim())return;null==(e=eu.current)||e.setEditable(!1);let i="",s=!1;try{await tm({conversation_uuid:(null==et?void 0:et.id)||"new-conversation",prompt:a},e=>{var t,n,r;s||(s=!0,eo.getState().setPrompt(""),null==(r=eu.current)||r.setContent("")),i+=e,eo.getState().setPrompt(i,{forceUpdateTiptap:!1}),null==(t=eu.current)||t.setContent(i),null==(n=eu.current)||n.scrollToEnd()},e=>{var t;eo.getState().setPrompt(e),null==(t=eu.current)||t.setContent(e)},e=>{var t;eo.getState().setPrompt(a),null==(t=eu.current)||t.setContent(a)})}catch(e){eo.getState().setPrompt(a),null==(t=eu.current)||t.setContent(a)}finally{null==(n=eu.current)||n.setEditable(!0),null==(r=eu.current)||r.focus()}},[eo,tm,null==et?void 0:et.id]),tp=(0,v.useCallback)(async e=>{let t=eo.getState().getPrompt();if(eV(e),eq(e),ee){eR(!0);try{var n;await X({prompt:t,attachments:ey,files:e_,syncSources:eE,model:e,project_uuid:e3,create_mode:null==et||null==(n=et.conversationSettings)?void 0:n.create_mode,...e0})}finally{eR(!1)}}},[eo,eq,ee,eR,X,ey,e_,eE,e3,null==et||null==(t=et.conversationSettings)?void 0:t.create_mode,e0]),th=(0,v.useCallback)(()=>{var e;return null==(e=eu.current)?void 0:e.focus()},[eu]),[tv,tb]=v.useState(!1),tx=(0,s.cV)(),ty=(0,u.u9)(),[t_,tS,tk,tM,tw,tC,tP,tE]=(0,a.Si)({syncSourceCount:eS.length,attachments:ey,setAttachments:ek,numExistingConversationAttachments:null!=(q=null==et?void 0:et.attachmentsSoFar)?q:0,files:e_,setFiles:eM,numExistingConversationFiles:null!=(B=null==et?void 0:et.files.length)?B:0,detectSameAttachment:()=>!1,selectedModel:eH,conversationUuid:null==et?void 0:et.id,blobFileUploadsEnabled:tx,wiggleEnabled:null!=ty&&ty}),tT=(0,o.f)(e=>e.isLoadingMentionData),tI=ey.length+e_.length,tA=eS.length,tj=t_||ej||eL,tL=tI>0||tA>0||tj||tT,tz=(0,v.useCallback)(e=>{switch(e.action){case"focusInput":th();break;case"improvePrompt":tg();break;case"sendMessage":tu();break;case"setAttachments":ek(e.value);break;case"setCurrentCompassTask":eQ(e.value);break;case"setFiles":eM(e.value);break;case"setHasBlockingWarning":tb(e.value);break;case"setIncludeProfilePreferences":eK(e.value);break;case"setIsModelSelectorOpen":eN(e.value);break;case"setIsUploadingDriveSync":eD(e.value);break;case"setIsUploadingFile":tS(e.value);break;case"setIsUploadingGithubSync":eY(e.value);break;case"setModel":tp(e.value);break;case"setPendingConversationSettings":e4(e.value);break;case"setPersonalizedStyle":eF(e.value);break;case"setProjectUuid":te(e.value);break;case"setPrompt":{var t;let n=e.value;eo.getState().setPrompt(null!=(t=null==n?void 0:n.text)?t:"",null==n?void 0:n.options)}break;case"setSyncSourceUuids":ew(e.value);break;case"setTipTapEditorState":eo.getState().setTipTapEditorJSON(e.value);break;case"stopSampling":ex()}},[th,tg,tu,ek,eQ,eM,tb,eK,eN,eD,tS,eY,tp,e4,eF,te,ew,ex,eo]),tO=(0,v.useMemo)(()=>{var t;return{files:e.willRedirectOnSubmit&&eA?null!=tn?tn:[]:e_,isAtMaxNumUploads:eT,isUploadingDriveSync:ej,isUploadingGithubSync:eL,model:eH,isChatSyncing:eP,personalizedStyle:ez,isProjectSyncing:tt,isNewConversation:void 0===et||0===et.messagesSoFar,isProjectLocked:void 0!==en||void 0!==et,isSending:eA,setModel:tp,setProjectUuid:te,sendMessage:tu,sendTransparentMessage:tc,improvePrompt:tg,isImprovingPrompt:tf,stopSampling:ex,conversation:et,focusInput:th,promptInputRef:eu,willRedirectOnSubmit:null!=(t=e.willRedirectOnSubmit)&&t,hasBlockingWarning:tv,setHasBlockingWarning:tb,setPersonalizedStyle:eF,setIsUploadingDriveSync:eD,setIsUploadingGithubSync:eY,includeProfilePreferences:eO,setIncludeProfilePreferences:eK,pendingConversationSettings:e0,setPendingConversationSettings:e4,isUploadingFile:t_,setIsUploadingFile:tS,validateMaxUploadLimit:tk,onDrop:tM,onPasteFiles:tw,handleUpload:tC,uploadInputProps:tE,hasAttachments:tL,isModelSelectorOpen:eI,setIsModelSelectorOpen:eN,currentCompassTask:eU,setCurrentCompassTask:eQ,dynamicAction:tz,wiggleEnabled:ty}},[et,e_,th,en,tv,eO,eT,eP,tt,eA,ej,eL,eH,ez,te,e.willRedirectOnSubmit,tu,tc,tg,tf,tp,e0,e4,ex,tn,t_,tS,tk,tM,tw,tC,tE,tL,eI,eN,eU,eQ,eK,eD,eY,eF,tz,ty]);return(0,r.jsx)(N.jM,{value:eo,children:(0,r.jsx)(D.Provider,{value:tO,children:H})})}},0xab432de1:(e,t,n)=>{function r(e){return e.replace(/(^|\n)(\s?)•(\s?)/g,"$1$2- ")}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"markdown-document",n=e.indexOf("```");if(-1===n||-1===e.indexOf("```",n+3))return e;let r=[...e.matchAll(/^(\s*)(```+)(.*)$/gm)];if(0===r.length)return e;let a=new Map,i=e=>{let t=a.get(e);return void 0===t&&(t="`".repeat(e),a.set(e,t)),t},s=[];for(let e of r){var o;let[t,n,r,a]=e,i=null!=(o=e.index)?o:0;s.push({index:i,length:t.length,backtickCount:r.length,indent:n,info:a.trim(),depth:0})}let l=[];for(let e=0;e<s.length;e++){let n=s[e];if(""!==n.info){n.depth=l.length,l.push(e);continue}if(0===l.length){n.depth=0,l.push(e);continue}let r=s[l[l.length-1]];if(n.backtickCount<r.backtickCount){n.depth=l.length,l.push(e);continue}let a=!0;if("code-in-markdown"===t&&1===l.length&&""!==r.info){let t=-1;for(let r=e+1;r<s.length&&""===s[r].info;r++)if(s[r].backtickCount===n.backtickCount){t=r;break}if(-1!==t){for(let e=t+1;e<s.length;e++)if(s[e].backtickCount>=r.backtickCount){a=!1;break}}}a?(n.depth=l.length-1,r.closingFenceIndex=e,l.pop()):(n.depth=l.length,l.push(e))}let d=new Map,u=0;for(let e of s){let t=d.get(e.depth)||3;d.set(e.depth,Math.max(t,e.backtickCount)),u=Math.max(u,e.depth)}for(let e=u-1;e>=0;e--){let t=d.get(e)||3,n=d.get(e+1)||0;n>=t&&d.set(e,n+1)}let c=new Map;for(let e of s){let t=d.get(e.depth)||3;if(t>e.backtickCount&&c.set(e.index,{index:e.index,length:e.length,replacement:"".concat(e.indent).concat(i(t)).concat(e.info)}),void 0!==e.closingFenceIndex){let n=s[e.closingFenceIndex];n.backtickCount!==t&&c.set(n.index,{index:n.index,length:n.length,replacement:"".concat(n.indent).concat(i(t))})}}if(0===c.size)return e;if(1===c.size){let[{index:t,length:n,replacement:r}]=c.values();return e.slice(0,t)+r+e.slice(t+n)}let m=Array.from(c.values()).sort((e,t)=>e.index-t.index),f=[],g=0;for(let{index:t,length:n,replacement:r}of m)f.push(e.slice(g,t)),f.push(r),g=t+n;return f.push(e.slice(g)),f.join("")}function i(e){return e.replace(/\\/g,"\\\\")}n.d(t,{Dn:()=>s,Gm:()=>i,UT:()=>a,tH:()=>r});let s=e=>{let t=e.match(/\n+/g),n=t?t.length:0,r=e.match(/\n{2,}/g),a=r?r.length:0;return{multipleNewlineCount:a,singleNewlineCount:n-a}}},0xb6b8b1fb:(e,t,n)=>{n.d(t,{Ah:()=>z,BV:()=>D,DO:()=>T,F1:()=>S,I_:()=>U,L1:()=>P,Mf:()=>E,P2:()=>Y,PB:()=>A,Rb:()=>R,SK:()=>j,Sb:()=>k,UG:()=>I,Uq:()=>h,bb:()=>v,ey:()=>M,kY:()=>b,lH:()=>L,mM:()=>w,t5:()=>N,tW:()=>_,xt:()=>O});var r=n(0x17aa9d8d7),a=n(0xf32c56dd),i=n(0x12c9046cd),s=n(0x14de19ae8),o=n(0x139b5e710),l=n(0x49fac030),d=n(0xac309a83),u=n(0x17e725145),c=n(0xfc89b4a4),m=n(0x1ab0d1ca1),f=n(0x156c4e43b),g=n(0x87b1176c),p=n(0x22be9474c);let h="https://support.anthropic.com/articles/11817273-how-does-claude-s-memory-work",v="https://privacy.anthropic.com/en/articles/10023580-is-my-data-used-for-model-training",b="https://support.anthropic.com/en/articles/11817273-using-claude-s-chat-search-and-memory-to-build-on-previous-context#h_4e397dd299",x=f.Ik({memory:f.Yj(),controls:f.YO(f.Yj()).nullable(),updated_at:f.Yj().datetime({offset:!0}).nullable()}),y=f.Ik({reflection:f.Yj(),updated_at:f.Yj().datetime({offset:!0}).nullable()}),_=(e,t)=>{var n;let{account:r,activeOrganization:a}=(0,s.YL)(),o=null==r?void 0:r.uuid,d=null==a?void 0:a.uuid,u=E(),c=e?"/api/organizations/".concat(d,"/memory?project_uuid=").concat(e):"/api/organizations/".concat(d,"/memory");return(0,i.Sk)(c,{queryKey:[l.IX,{accountUuid:o,orgUuid:d,projectUuid:e}],enabled:!!a&&(null==(n=null==t?void 0:t.enabled)||n)&&u},e=>x.parse(e))},S=e=>{var t;let{account:n,activeOrganization:r}=(0,s.YL)(),a=null==n?void 0:n.uuid,o=null==r?void 0:r.uuid,l="/api/organizations/".concat(o,"/reflection");return(0,i.Sk)(l,{queryKey:["reflection",{accountUuid:a,orgUuid:o}],enabled:!!r&&(null==(t=null==e?void 0:e.enabled)||t)},e=>y.parse(e))},k=()=>{let{account:e,activeOrganization:t}=(0,s.YL)(),n=null==e?void 0:e.uuid,r=null==t?void 0:t.uuid,a=E(),{addError:d}=(0,o.Y)(),c=(0,m.A)(),f=(0,u.useQueryClient)(),{mutate:g,isPending:p}=(0,i.L2)("/api/organizations/".concat(r,"/memory/synthesize"),"POST",{enabled:!!t&&a,onSuccess:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let[i,s]=t;f.invalidateQueries({queryKey:[l.IX,{accountUuid:n,orgUuid:r,projectUuid:s.project_uuid}]})},onError:()=>{d(c.formatMessage({defaultMessage:"Something went wrong while updating memory",id:"P1AER5mU4P"}),{messageForLogging:"Something went wrong while updating memory"})}});return{resynthesizeMemory:g,isResynthesizingMemory:p}},M=()=>{let e=(0,a.st)(),{activeOrganization:t}=(0,s.YL)(),n=null==t?void 0:t.uuid,r=E(),{addError:d}=(0,o.Y)(),c=(0,m.A)(),f=(0,u.useQueryClient)(),{mutate:g,isPending:p}=(0,i.L2)("/api/organizations/".concat(n,"/memory/reset"),"POST",{enabled:!!t&&r,onSuccess:()=>{f.invalidateQueries({queryKey:[l.IX]}),e.track({event_key:"claudeai.memory.memory_reset"})},onError:()=>{d(c.formatMessage({defaultMessage:"Something went wrong while resetting memory",id:"1U/+Klpk5D"}),{messageForLogging:"Something went wrong while resetting memory"})}});return{resetMemory:g,isResettingMemory:p}},w=function(){let{projectUuid:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.st)(),{account:n,activeOrganization:r}=(0,s.YL)(),d=null==n?void 0:n.uuid,c=null==r?void 0:r.uuid,f=E(),{addError:g,addSuccess:p}=(0,o.Y)(),h=(0,m.A)(),v=(0,u.useQueryClient)(),{mutate:b,isPending:x}=(0,i.Qv)("/api/organizations/".concat(c,"/memory/controls"),"PUT",(e,t)=>{var n;return{memory:null!=(n=null==t?void 0:t.memory)?n:"",controls:e.controls,updated_at:null==t?void 0:t.updated_at}},{queryKey:[l.IX,{accountUuid:d,orgUuid:c,projectUuid:e}],enabled:!!r&&f,onSuccess:()=>{p(h.formatMessage({defaultMessage:"Memory updated",id:"YqVBaoALVh"})),v.invalidateQueries({queryKey:[l.IX,{accountUuid:d,orgUuid:c,projectUuid:e}]}),t.track({event_key:"claudeai.memory.edit_memory",projectUuid:e})},onError:e=>{g(h.formatMessage({defaultMessage:"Something went wrong while updating memory",id:"P1AER5mU4P"}),{error:e,messageForLogging:"Something went wrong while updating memory"})}});return{updateMemoryControls:b,updateMemoryControlsIsPending:x}},C=()=>(0,d.fS)("claudeai_saffron_themes_enabled"),P=()=>{let{activeOrganization:e}=(0,s.YL)(),t=null==e?void 0:e.uuid,n=C(),r=t?"/api/organizations/".concat(t,"/memory/themes"):null;return(0,i.Sk)(r,{staleTime:3e5,enabled:!!t&&!!r&&n})},E=()=>(0,d.fS)("claudeai_saffron_enabled"),T=()=>{let e=(0,d.fS)("claudeai_saffron_admin_toggle_enabled"),t=E();return e&&!t},I=()=>{let e=C(),t=j();return e&&!!t},A=()=>{var e;let t=(0,s.mV)(),{data:n}=(0,p.rX)(),r=!!n&&!(null==(e=n.disabled_features)?void 0:e.includes("saffron"));return!t||r},j=()=>{var e;let t=A(),{account:n}=(0,s.YL)(),r=(0,d.fS)("claudeai_saffron_default_enabled");return!!t&&(null!=(e=null==n?void 0:n.settings.enabled_saffron)?e:r||void 0)},L=()=>{let e=(0,a.st)(),{mutate:t}=(0,r.yJ)(),{resetMemory:n}=M();return(r,a)=>{t({enabled_saffron:r}),(null==a?void 0:a.shouldResetMemory)&&n(),e.track({event_key:"claudeai.memory.account_setting_toggled",enabled:r,reset_memory:!!(null==a?void 0:a.shouldResetMemory)})}},z=()=>(0,d.fS)("claudeai_saffron_search_enabled"),O=()=>{let e=(0,a.st)(),{account:t}=(0,s.YL)(),n=(()=>{var e;let{account:t}=(0,s.YL)(),n=(0,d.fS)("claudeai_saffron_search_default_enabled");return null!=(e=null==t?void 0:t.settings.enabled_saffron_search)?e:n})(),i=z(),{mutate:o}=(0,r.yJ)(),{mutate:l}=(0,g.nI)(),u=(0,c.useRef)(null==t?void 0:t.settings);return(0,c.useEffect)(()=>{u.current=null==t?void 0:t.settings},[null==t?void 0:t.settings]),{toggleSaffronSearch:(0,c.useCallback)(t=>{o({enabled_saffron_search:t}),i&&t&&l({}),e.track({event_key:"claudeai.conversation_search.account_setting_toggled",enabled:t})},[o,l,i,e]),saffronSearchEnabled:n}},U=()=>(0,d.fS)("claudeai_saffron_ghost_enabled"),N=()=>(0,d.T9)("claudeai_saffron_frontend","resynthesize_enabled",!1,d.Km),R=()=>(0,d.T9)("claudeai_saffron_frontend","max_num_controls",10,d.T2),D=()=>(0,d.T9)("claudeai_saffron_frontend","max_control_chars",100,d.T2),Y=()=>{let e=(0,m.A)(),t=(0,d.fS)("claude_grove_enabled"),n=j();return t&&n?e.formatMessage({defaultMessage:"Incognito chats aren’t saved, added to memory, or used to train models.",id:"7vPniYndmQ"}):t?e.formatMessage({defaultMessage:"Incognito chats aren’t saved to history or used to train models.",id:"ePzoyDXPHe"}):n?e.formatMessage({defaultMessage:"Incognito chats aren’t saved or added to memory.",id:"SOrtx8O6Rq"}):e.formatMessage({defaultMessage:"Incognito chats aren’t saved to history.",id:"8EiWE4PL22"})}},0xb85e3e6b:(e,t,n)=>{n.d(t,{o:()=>l});var r=n(0xfc89b4a4),a=n(0xbdad302d),i=n(0xfd34bc37);let s="optimistically-created-session",o=null;function l(){let e=(0,a.ts)(),[t]=(0,i.d)(),n=(0,r.useCallback)(async()=>{if(o)return o;try{let e=localStorage.getItem(s);if(!e)return null;return JSON.parse(e)}catch(e){return localStorage.removeItem(s),null}},[]),l=(0,r.useCallback)(()=>{localStorage.removeItem(s),o=null},[]),d=(0,r.useCallback)(async r=>{if(o)return o;let a=await n();if(a)return a;let i=(async()=>{try{let n=await e({model:r,conversationUuid:t}),a={sessionId:n.session_id,conversationUuid:n.uuid,createdAt:Date.now(),model:r};return localStorage.setItem(s,JSON.stringify(a)),a}catch(e){return l(),null}})();return o=i,i},[e,n,l,t]);return(0,r.useMemo)(()=>({getSession:n,createSession:d,clearSession:l}),[n,d,l])}},0xc9dabb82:(e,t,n)=>{n.d(t,{M$:()=>u,O5:()=>o,f$:()=>l,lo:()=>d,n7:()=>c});var r=n(0x12c9046cd),a=n(0x14de19ae8),i=n(0x49fac030),s=n(0x17e725145);let o=()=>{let{activeOrganization:e}=(0,a.YL)(),t=null==e?void 0:e.uuid;return(0,r.Sk)("/api/organizations/".concat(t,"/list_styles"),{queryKey:[i.ss,{orgUuid:t}]})},l=()=>{let{activeOrganization:e}=(0,a.YL)(),t=null==e?void 0:e.uuid,n=(0,s.useQueryClient)();return(0,r.L2)("/api/organizations/".concat(t,"/styles/create"),"POST",{onSuccess:()=>{n.invalidateQueries({queryKey:[i.ss,{orgUuid:t}]})}})},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{activeOrganization:n}=(0,a.YL)(),o=null==n?void 0:n.uuid,l=(0,s.useQueryClient)();return(0,r.L2)("/api/organizations/".concat(o,"/styles/").concat(e,"/edit"),"PUT",{onSuccess:()=>{l.invalidateQueries({queryKey:[i.ss,{orgUuid:o}]})},enabled:!t})},u=e=>{let{activeOrganization:t}=(0,a.YL)(),n=null==t?void 0:t.uuid,o=(0,s.useQueryClient)();return(0,r.L2)("/api/organizations/".concat(n,"/styles/").concat(e,"/delete"),"DELETE",{onSuccess:()=>{o.invalidateQueries({queryKey:[i.ss,{orgUuid:n}]})}})},c=()=>{let{activeOrganization:e}=(0,a.YL)(),t=null==e?void 0:e.uuid;return(0,r.L2)("/api/organizations/".concat(t,"/styles/preview"),"POST")}},0xd96dfc62:(e,t,n)=>{n.d(t,{S:()=>f,v:()=>m});var r=n(0x22102fd88),a=n(0x225bae024),i=n(0x22fc8d729),s=n(0x1ab362a20),o=n(0x141440998),l=n(0x4d348f95),d=n(0x1dc42fcee),u=n(0x38e6572),c=n(0x21fb79560);function m(e){let{isOpen:t,onClose:n,limitType:m="projects",customTitle:f,customDescription:g}=e,p=(0,l.useRouter)(),h=["opus"===m?{defaultMessage:"More Opus usage*",id:"JxRTAGj5OB"}:"message_limit"===m?{defaultMessage:"Access to tools like research and web search",id:"message_limit_benefit_tools"}:{defaultMessage:"Access to unlimited Projects to organize chats and documents",id:"uK9wA9v6Z3"},"opus"===m&&{defaultMessage:"Access to unlimited Projects to organize chats and documents",id:"uK9wA9v6Z3"},"projects"===m&&{defaultMessage:"More usage*",id:"Rve6Z5dM8k"},"message_limit"===m&&{defaultMessage:"Claude Code directly in your terminal",id:"message_limit_benefit_code"},"message_limit"===m&&{defaultMessage:"Integration to Google Workspace: email, calendar, and docs",id:"message_limit_benefit_workspace"},"message_limit"===m&&{defaultMessage:"Full access to the newest Claude models including Opus",id:"message_limit_benefit_models"},"message_limit"===m&&{defaultMessage:"Extended thinking for complex work",id:"message_limit_benefit_thinking"},"message_limit"!==m&&{defaultMessage:"Ability to search the web",id:"dl29r7OlXE"},"message_limit"!==m&&{defaultMessage:"Extended thinking for complex work",id:"mENE7vJhVQ"},"message_limit"!==m&&{defaultMessage:"Connect Google Workspace: email, calendar, and docs",id:"WwXweMd3IE"},"message_limit"!==m&&{defaultMessage:"Ability to use more Claude models",id:"Qpr1Da1f7N"}].filter(Boolean);return(0,r.jsx)(d.bL,{open:t,onOpenChange:n,children:(0,r.jsx)(d.ZL,{children:(0,r.jsx)(d.hJ,{className:"fixed inset-0 bg-always-black/50 backdrop-brightness-75 z-modal flex items-center justify-center data-[state=open]:animate-[fade_250ms_ease-in_forwards] data-[state=closed]:animate-[fade_125ms_ease-out_reverse_forwards]",children:(0,r.jsxs)(d.UC,{className:"z-modal w-full max-w-sm bg-bg-000 rounded-2xl shadow-xl overflow-hidden focus:outline-none data-[state=open]:animate-[zoom_250ms_ease-in_forwards] data-[state=closed]:animate-[zoom_125ms_ease-out_reverse_forwards]",onEscapeKeyDown:e=>{e.preventDefault(),n()},onInteractOutside:e=>{e.preventDefault(),n()},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-5 pt-4",children:[(0,r.jsx)(c.M,{}),(0,r.jsx)(d.bm,{asChild:!0,children:(0,r.jsx)(a.$,{variant:"ghost",size:"icon_sm",className:"text-text-400 hover:text-text-200",children:(0,r.jsx)(s.X,{size:20,weight:"regular"})})})]}),(0,r.jsxs)("div",{className:"px-5 pb-4 pt-2",children:[(0,r.jsx)("h2",{className:"text-[24px] leading-tight font-medium mb-2 text-text-000",children:f||("opus"===m?(0,r.jsx)(u.A,{defaultMessage:"More Opus with Pro and Max plans",id:"//ixi/rP/O"}):"message_limit"===m?(0,r.jsx)(u.A,{defaultMessage:"Keep chatting with Claude",id:"u3sKHTmxou"}):(0,r.jsx)(u.A,{defaultMessage:"Unlimited projects with Pro and Max plans",id:"RKBJDiWP1p"}))}),(0,r.jsx)("p",{className:"".concat("message_limit"===m?"text-sm":"text-base"," text-text-300 mb-3"),children:g||("opus"===m?(0,r.jsx)(u.A,{defaultMessage:"Free plans only get 3 Opus messages per week. Try again after {date}, or upgrade now to get:",id:"IIJcLbtXZK",values:{date:new Date(Date.now()+6048e5).toLocaleDateString("en-US",{month:"long",day:"numeric"})}}):"message_limit"===m?(0,r.jsx)(u.A,{defaultMessage:"You just hit your free message limit. Upgrade to Pro (or Max) to send more messages. You also get:",id:"vXAAoQRvRg"}):(0,r.jsx)(u.A,{defaultMessage:"Free plans only get access to one Project. Upgrade now to get:",id:"NOiyw9Bber"}))}),(0,r.jsx)("div",{className:"space-y-1.5 mb-6",children:h.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start gap-2.5",children:[(0,r.jsx)(o.J,{className:"text-text-400 mt-0.5 flex-shrink-0",size:18,weight:"regular"}),(0,r.jsx)("span",{className:"text-sm text-text-200",children:(0,r.jsx)(u.A,{...e})})]},"benefit-".concat(t)))}),("opus"===m||"projects"===m)&&(0,r.jsx)("p",{className:"text-xs text-text-400 mb-4",children:(0,r.jsx)(i.Y,{href:"https://support.anthropic.com/en/articles/11049762-choosing-a-claude-ai-plan",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(u.A,{defaultMessage:"*Usage limits apply",id:"HFRZOFWXCf"})})}),(0,r.jsx)(a.$,{variant:"primary",size:"lg",className:"w-full text-base font-medium",onClick:()=>{n(),p.push("/upgrade")},children:(0,r.jsx)(u.A,{defaultMessage:"See plans",id:"vbFKkTYpN+"})})]})]})})})})}let f=m},0xdd4f13c7:(e,t,n)=>{n.d(t,{F:()=>l});var r=n(0xac309a83),a=n(0x20892a038),i=n(0xfc89b4a4),s=n(0x226530adf),o=n(0x14a6d5f1);let l=()=>{let e="sticky-model-selector",t=(0,r.fS)("sticky_model_selector"),n=(0,r.fS)("model_selector_enabled"),{activeModelOptions:l}=(0,o.A9)(),d=(0,s.Z3)(null),u=(0,a.useQuery)({queryKey:[e],queryFn:()=>{if(!t||!n)return null;let r=localStorage.getItem(e);return r===d?null:r&&l.find(e=>e.model===r)?r:null},initialData:null}),c=(0,i.useCallback)(t=>{t&&localStorage.setItem(e,t),u.refetch()},[u]);return{stickyModelPreference:u.data,setStickyModelPreference:c}}},0xe885efe2:(e,t,n)=>{n.d(t,{OpusRateLimitModalProvider:()=>l,T:()=>o});var r=n(0x22102fd88),a=n(0xfc89b4a4),i=n(0xd96dfc62);let s=null;function o(){s&&s(!0)}function l(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>(s=t,()=>{s=null}),[]),(0,r.jsx)(i.v,{isOpen:e,onClose:()=>t(!1),limitType:"opus"})}},0x15be5d623:(e,t,n)=>{n.d(t,{m:()=>a});var r=n(0xac309a83);function a(){return(0,r.fS)("aka_manto")}},0x16b1d0c0f:(e,t,n)=>{n.d(t,{f:()=>r});let r=(0,n(0x394ef833).v)(e=>({isLoadingMentionData:!1,loadingCount:0,incrementLoading:()=>e(e=>({loadingCount:e.loadingCount+1,isLoadingMentionData:!0})),decrementLoading:()=>e(e=>{let t=Math.max(0,e.loadingCount-1);return{loadingCount:t,isLoadingMentionData:t>0}})}))},0x187ab14f6:(e,t,n)=>{n.d(t,{Ac:()=>i,D8:()=>o,bI:()=>s});let r="recentDriveDocs";function a(e){return"object"==typeof e&&null!==e&&"string"==typeof e.uri&&("string"==typeof e.title||void 0===e.title)}function i(e){localStorage.setItem(r,JSON.stringify(e))}function s(){if("undefined"==typeof localStorage)return[];let e=localStorage.getItem(r);if(e){let t=JSON.parse(e);if(t&&Array.isArray(t)&&t.every(a))return t}return[]}function o(e){let t=s();i(t=t.filter(t=>t.uri!==e))}},0x1984f30f9:(e,t,n)=>{var r=n(0x22102fd88);n(0xb91ccc43),n(0x1b370f49d),n(0x1b813d90);var a=n(0xfc89b4a4);n(0x1c12b3087),n(0xf8bd7957),n(0xf32c56dd),n(0x17185943),n(0x2295263fc),n(0x183548b63),n(0x78b33fbd);var i=n(0x1e7bd7c93),s=n(0x1a1f6dda6),o=n(0x1dc411c0f);let l={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4,ease:[.25,.46,.45,.94]}}};(0,a.memo)(e=>{let{useCase:t,onClick:n}=e,d=(0,a.useCallback)(()=>{n(t)},[n,t]);return(0,r.jsxs)(o.P.button,{variants:l,onClick:d,className:(0,s.A)("relative w-full p-4 rounded-xl border-0.5 border-border-300","bg-bg-100 hover:bg-bg-000 hover:border-border-200","text-left transition-all cursor-pointer","group hover:shadow-sm"),type:"button",children:[(0,r.jsx)("p",{className:"text-sm text-text-300 group-hover:text-text-200 transition-colors pr-3",children:t.description}),(0,r.jsx)("div",{className:(0,s.A)("absolute bottom-3 right-3","text-text-400 opacity-0 group-hover:opacity-70","transition-all duration-200","transform translate-y-1 -translate-x-1","group-hover:translate-y-0 group-hover:translate-x-0"),children:(0,r.jsx)(i.t,{size:16,weight:"regular",className:"transform rotate-90 scale-x-[-1]"})})]})}).displayName="UseCaseCard",(0,a.memo)(e=>null).displayName="UseCasesSection"},0x19ae67eb1:(e,t,n)=>{n.d(t,{S4:()=>s});var r=n(0x394ef833),a=n(0x16784b660);let i=(0,r.v)()((0,a.Zr)(e=>({pendingInitialMessages:{},setPendingInitialMessage:(t,n)=>{e(e=>({pendingInitialMessages:{...e.pendingInitialMessages,[t]:n}}))},clearPendingInitialMessage:t=>{e(e=>{let{[t]:n,...r}=e.pendingInitialMessages;return{pendingInitialMessages:r}})}}),{name:"session-pending-initial-messages",storage:(0,a.KU)(()=>sessionStorage)})),s=()=>i(e=>e.setPendingInitialMessage)},0x1e841cc7d:(e,t,n)=>{n.d(t,{EF:()=>f,NY:()=>c,Ql:()=>p,VA:()=>g,qJ:()=>m});var r=n(0x12c9046cd),a=n(0x14de19ae8);n(0x20e00cddd);var i=n(0x49fac030),s=n(0x1b813d90),o=n(0x17e725145),l=n(0xfc89b4a4),d=n(0x18175ce17),u=n(0x187ab14f6);let c=e=>{let{activeOrganization:t}=(0,a.YL)(),n=null==t?void 0:t.uuid,s=!!(t&&e.length>0),o=(0,l.useMemo)(()=>e.map(e=>"/api/organizations/".concat(n,"/sync/chat/").concat(e)),[n,e]),u=(0,l.useMemo)(()=>({queryKey:e.map(e=>[i.GC,{orgUuid:n,syncSourceUuid:e}]),enabled:s,refetchInterval:e=>!!(e.state.data&&(0,d.z3)(e.state.data))&&5e3,meta:{noToast:!0}}),[s,n,e]);return(0,r._i)(o,u)},m=e=>!!e.some(e=>e.isLoading)||e.some(e=>e.data&&(0,d.z3)(e.data)),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:t,activeOrganization:n}=(0,a.YL)(),l=null==t?void 0:t.uuid,c=null==n?void 0:n.uuid,m=(0,o.useQueryClient)(),f=(0,d.eL)();return(0,r.L2)(()=>"/api/organizations/".concat(c,"/sync/chat"),"POST",{enabled:!!n,...e,onSuccess:function(){for(var t,n,r,a,o,d=arguments.length,u=Array(d),f=0;f<d;f++)u[f]=arguments[f];let[g]=u;m.setQueryData([i.GC,{orgUuid:c,syncSourceUuid:g.uuid}],g),g.type===s.v8.GDRIVE&&g.config.uri&&(null==(t=g.status)?void 0:t.extra)&&(null==(n=g.status)?void 0:n.current_size_bytes)&&m.setQueryData([i.QB,{accountUuid:l,orgUuid:c,documentId:g.config.uri}],{uri:"drive:///".concat(g.config.uri),title:null==(a=g.status)?void 0:a.extra,size:null==(o=g.status)?void 0:o.current_size_bytes}),null==(r=e.onSuccess)||r.call(e,...u)},onError:function(){for(var t,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];null==(t=e.onError)||t.call(e,...r);let[i,o]=r;f(i,o),o.sync_source_type===s.v8.GDRIVE&&(0,u.D8)(o.sync_source_config.uri)}})},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,a.YL)(),n=null==t?void 0:t.uuid,s=(0,o.useQueryClient)();return(0,r.L2)(()=>"/api/organizations/".concat(n,"/sync/chat"),"PUT",{enabled:!!t,...e,onSuccess:function(){for(var t,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];let[l]=a;s.setQueryData([i.GC,{orgUuid:n,syncSourceUuid:l.uuid}],l),null==(t=e.onSuccess)||t.call(e,...a)}})},p=()=>{let{activeOrganization:e}=(0,a.YL)(),t=null==e?void 0:e.uuid;return(0,r.L2)(e=>"/api/organizations/".concat(t,"/sync/chat/").concat(e),"DELETE",{enabled:!!e})}},0x1f22b8dda:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(0x628a9a0b);function a(e){var t,n;return null!=(n=null==(t=(0,r.$z)(null!=e?e:null).data)?void 0:t.session_id)&&!!n}},0x1fb2770f2:(e,t,n)=>{n.d(t,{p:()=>s});var r=n(0xb804d868),a=n(0xac309a83),i=n(0xc9dabb82);let s=()=>{let e=(0,a.fS)("concise_mode_enabled"),{data:t,isLoading:n}=(0,i.O5)(),s=(null==t?void 0:t.defaultStyles)||[],o=[...s,...((null==t?void 0:t.customStyles)||[]).map(e=>({...e,key:e.key||e.uuid}))],[l,d,u]=(0,r.Vc)("claude_personalized_style",null);if(n||!(null==o?void 0:o.length))return{personalizedStyleOptions:[],defaultStyle:null,storedStyle:null,setStoredStyle:d,clearStoredStyle:u,conciseModeEnabled:e};let c=s.length?s.find(e=>!0===e.isDefault)||s[0]:null;if(e&&(c=s.find(e=>"Concise"===e.key)||c),!l)return{personalizedStyleOptions:o,defaultStyle:c,storedStyle:l,setStoredStyle:d,clearStoredStyle:u,conciseModeEnabled:e};let m=o.find(e=>((e,t)=>"default"===e.type&&e.key===t||"custom"===e.type&&e.uuid===t)(e,l.styleKey)),f=Date.now()-new Date(l.timestamp).getTime()>432e5;return{personalizedStyleOptions:o,storedStyle:m&&!f?m:null,defaultStyle:c,setStoredStyle:d,clearStoredStyle:u,conciseModeEnabled:e}}},0x21fb79560:(e,t,n)=>{n.d(t,{M:()=>s});var r=n(0x22102fd88),a=n(0x1a1f6dda6),i=n(0x38e6572);function s(e){let{className:t,onClick:n,as:s="span"}=e;return(0,r.jsx)(s,{className:(0,a.A)("border-0.5 border-border-400 text-accent-secondary-000 px-1.5 py-px rounded-3xl font-small",n&&"cursor-pointer hover:border-border-300 transition-colors",t),onClick:n,children:(0,r.jsx)(i.A,{defaultMessage:"Upgrade",id:"0h/lPMeYkq"})})}},0x24b0d7515:(e,t,n)=>{n.d(t,{TA:()=>u,_x:()=>d,eI:()=>l,p9:()=>o});var r=n(0x20e00cddd),a=n(0x19405b970),i=n(0x9845e38c);let s="".concat(r.sn,".statsig.");function o(e){return"".concat(s).concat(e)}function l(e,t,n,r){let s=o(e),l=null!=r?r:t(e,n);try{(0,a.ul)().setItem(s,String(l))}catch(t){i.v.warn(i.u.LOCAL_STORAGE,"[persistValue failed]:",{name:e,label:s,error:t})}}function d(e,t,n){let r=o(e),i=(0,a.ul)().getItem(r);if("true"===i)return!0;if("false"===i)return!1;let s=t(e,n);return l(e,t,n,s),s}function u(e,t){if(t)for(let n of Object.keys((0,a.ul)()).filter(e=>e.startsWith(s)).map(e=>e.replace(s,"")))l(n,e,t,e(n,t))}},0x2504fdeeb:(e,t,n)=>{n.d(t,{PerformanceMetricsProvider:()=>_,B:()=>S});var r=n(0x22102fd88),a=n(0x9845e38c);class i extends Error{}class s{add(e){this.buffer[this.head]=e,this.head=(this.head+1)%this.maxSize,this.currentSize<this.maxSize&&this.currentSize++}addAll(e){for(let t of e)this.add(t)}flush(){this.head=0,this.currentSize=0,this.buffer=Array(this.maxSize)}get size(){return this.currentSize}get isEmpty(){return 0===this.currentSize}get isFull(){return this.currentSize===this.maxSize}*values(){if(0===this.currentSize)return;let e=this.isFull?this.head:0;for(let t=0;t<this.currentSize;t++){let n=(e+t)%this.maxSize;yield this.buffer[n]}}toArray(){return Array.from(this.values())}getLast(){if(0===this.currentSize)return;let e=(this.head-1+this.maxSize)%this.maxSize;return this.buffer[e]}getFirst(){if(0===this.currentSize)return;let e=this.isFull?this.head:0;return this.buffer[e]}constructor(e){if(this.maxSize=e,this.head=0,this.currentSize=0,e<1)throw new i("RingBuffer maxSize must be 1 or more");this.buffer=Array(e)}}var o=n(0x13d66e7d3),l=n(0x1e10d8e8);class d{get mean(){return this.count>0?this._mean:0}get variance(){return this.count>1?this._m2/(this.count-1):0}get stdDev(){return Math.sqrt(this.variance)}calculate(){let e=this._tail-this._mean;this._mean+=e/this.count;let t=this._tail-this._mean;this._m2+=e*t}getSummary(){return{count:this.count,sum:this.sum,min:this.min,max:this.max,mean:this.mean,variance:this.variance,stdDev:this.stdDev}}reset(){this.count=0,this.sum=0,this.min=1/0,this.max=-1/0,this._mean=0,this._m2=0}add(e){this.count+=1,this.sum+=e,this.min=Math.min(this.min,e),this.max=Math.max(this.max,e),this._tail=e,this.calculate()}constructor(){this.count=0,this.sum=0,this.min=1/0,this.max=-1/0,this._tail=0,this._mean=0,this._m2=0,this.reset()}}class u{init(){if(this.shouldReportMemory=(0,o.Y)(),"PerformanceLongTaskTiming"in window)try{this.events.longTask.observer=this.initLongTaskObserver()}catch(e){a.v.error(a.u.O11Y_INTERNALS,"PerfMon LongTaskObserver failed to init")}if("PerformanceEventTiming"in window)try{this.events.inputDelay.observer=this.initInputDelayObserver()}catch(e){a.v.error(a.u.O11Y_INTERNALS,"PerfMon EventTimingObserver failed to init")}if("PerformanceLongAnimationFrameTiming"in window)try{this.events.longAnimationFrame.observer=this.initLongAnimationFrameObserver()}catch(e){a.v.error(a.u.O11Y_INTERNALS,"PerfMon EventTimingObserver failed to init")}this.startReportMetricsInterval(),this.registerVisibilityHandlers()}initLongTaskObserver(){let e=new PerformanceObserver(e=>{for(let n of e.getEntries()){let{attribution:e}=n;if(this.events.longTask.stats.add(n.duration),n.duration>=250){var t;this.events.longTask.buffer.add({start_time:n.startTime,duration_ms:n.duration,attribution_count:null!=(t=null==e?void 0:e.length)?t:0})}}});return e.observe({entryTypes:["longtask"]}),e}initInputDelayObserver(){let e=new PerformanceObserver(e=>{for(let n of e.getEntries()){let e=n.processingStart?n.processingStart-n.startTime:0;if(e>100){this.events.inputDelay.stats.add(n.duration);let r=Number(n.processingEnd)-Number(n.processingStart);if(e>250||r>250){var t;this.events.inputDelay.buffer.add({start_time:n.startTime,duration_ms:e,processing_duration_ms:r,inp_duration_ms:n.duration,event_name:n.name,event_target_id:(null==(t=n.target)?void 0:t.id)||"unknown_target",is_fid:"first-input"===n.entryType})}}}});return e.observe({entryTypes:["event","first-input"]}),e}initLongAnimationFrameObserver(){let e=new PerformanceObserver(e=>{for(let t of e.getEntries()){let{blockingDuration:e}=t;if(this.events.longAnimationFrame.stats.add(t.duration),t.duration>=250){let n={start_time:t.startTime,duration_ms:t.duration,blocking_duration_ms:e||0};this.events.longAnimationFrame.buffer.add(n)}}});return e.observe({entryTypes:["long-animation-frame"]}),e}startReportMetricsInterval(){let e=()=>{this.reportMetricsTimeoutId=window.setTimeout(()=>{this.reportMetrics(),this.isActive&&e()},12e4)};e()}registerVisibilityHandlers(){document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&this.reportMetrics()},{passive:!0}),window.addEventListener("pagehide",()=>this.reportMetrics(),{passive:!0})}reportNavigationTiming(){try{let e=performance.getEntriesByType("navigation");if(0===e.length)return;let t=e[0],n={time_to_dom_interactive_ms:Math.round(t.domInteractive-t.fetchStart),time_to_dom_content_loaded_ms:Math.round(t.domContentLoadedEventEnd-t.fetchStart),time_to_load_complete_ms:Math.round(t.loadEventEnd-t.fetchStart),dns_lookup_duration_ms:Math.round(t.domainLookupEnd-t.domainLookupStart),tcp_connection_duration_ms:Math.round(t.connectEnd-t.connectStart),request_duration_ms:Math.round(t.responseStart-t.requestStart),response_download_duration_ms:Math.round(t.responseEnd-t.responseStart),document_processing_duration_ms:Math.round(t.domComplete-t.responseEnd),dom_content_loaded_duration_ms:Math.round(t.domContentLoadedEventEnd-t.domContentLoadedEventStart),load_event_duration_ms:Math.round(t.loadEventEnd-t.loadEventStart),unload_duration_ms:Math.round(t.unloadEventEnd-t.unloadEventStart),redirect_duration_ms:Math.round(t.redirectEnd-t.redirectStart),redirect_count:t.redirectCount,navigation_type:t.type};t.secureConnectionStart>0&&(n.tls_duration_ms=Math.round(t.connectEnd-t.secureConnectionStart)),t.workerStart>0&&(n.service_worker_duration_ms=Math.round(t.fetchStart-t.workerStart)),(0,l.r)("page.navigation_timing",{metricType:"navigation_timing",performanceAttributes:n})}catch(e){a.v.error(a.u.O11Y_INTERNALS,"Failed to report navigation timing")}}reportMetrics(){this.isActive&&(this.shouldReportMemory&&(0,l.r)("events.memory_snapshot",{metricType:"memory_snapshot"}),Object.values(this.events).forEach(e=>{let{name:t,stats:n,buffer:r}=e;0!==n.mean&&((0,l.r)("events.".concat(t,".summary"),{metricType:"".concat(t,"_summary"),performanceAttributes:{...n.getSummary()}}),r.toArray().forEach(e=>{let{duration_ms:n,...r}=e;(0,l.r)("events.".concat(t),{metricType:"".concat(t,"_event"),duration:n,performanceAttributes:{...r}})}),n.reset(),r.flush())}))}destroy(){this.isActive=!1,Object.values(this.events).forEach(e=>{var t;null==(t=e.observer)||t.disconnect(),e.observer=void 0}),clearTimeout(this.reportMetricsTimeoutId),this.reportMetricsTimeoutId=void 0,this.reportMetrics()}forceReport(){this.reportMetrics()}constructor(){this.isActive=!0,this.shouldReportMemory=!1,this.events={longTask:{name:"long_task",stats:new d,buffer:new s(100)},inputDelay:{name:"input_delay",stats:new d,buffer:new s(100)},longAnimationFrame:{name:"loaf",stats:new d,buffer:new s(100)}},this.init(),this.reportNavigationTiming()}}var c=n(0x1cd6706d8);class m{initPerfMon(){this.perfMon||(this.perfMon=new u)}trackNewChatInputReady(e){(0,l.r)("page.new_chat_input_ready",{duration:e.duration,attributes:{is_first_load:e.isFirstLoad,is_prog_chat_input:e.isProgChatInput,prog_chat_input_perf_mark_missing:e.progChatInputPerfMarkMissing}}),c.C.clearParentContext()}trackTTFT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};t.model&&(n["chat.model"]=t.model),t.integrations&&(n["chat.integrations"]=t.integrations),(0,l.r)("chat.time_to_first_token",{metricType:"ttft",duration:e,attributes:n})}trackProjectConversationsReady(e){(0,l.r)("page.project_conversations_ready",{duration:e})}trackMembersListReady(e){(0,l.r)("page.members_list_ready",{duration:e})}constructor(){this.perfMon=null}}let f=new m;var g=n(0x19405b970),p=n(0x4d348f95),h=n(0xfc89b4a4),v=n(0x24b0d7515);let b="prog_chat_input_ready",x=(0,v.p9)("progressively_enhanced_chat_input"),y=(0,h.createContext)(null);function _(e){let{children:t}=e,n=(0,p.usePathname)(),a=(0,h.useRef)(!0),i=(0,h.useRef)(null),s=(0,h.useRef)(!1),o=(0,h.useRef)(null),l=(0,h.useRef)(!1),d=(0,h.useRef)(null),u=(0,h.useRef)(!1),c=(0,h.useRef)(null),m=(0,h.useRef)(!1);(0,h.useEffect)(()=>{f.initPerfMon()},[]),(0,h.useEffect)(()=>{"/new"===n?(i.current=a.current?0:performance.now(),s.current=!1):(null==n?void 0:n.startsWith("/project/"))?(d.current=performance.now(),u.current=!1):"/settings/members"===n&&(c.current=performance.now(),m.current=!1),a.current=!1},[n]);let v=(0,h.useCallback)(()=>{if(s.current||null===i.current)return;s.current=!0;let e=0===i.current,{duration:t,isProgChatInput:n,progChatInputPerfMarkMissing:r}=function(e,t){let n,r=performance.getEntriesByName(b,"mark")[0],a="true"===(0,g.ul)().getItem(x),i=!1;return r&&t?(n=r.startTime,performance.clearMarks(b)):(n=performance.now()-e,a&&t&&(i=!0)),{duration:n,isProgChatInput:a,progChatInputPerfMarkMissing:i}}(i.current,e);f.trackNewChatInputReady({duration:t,isFirstLoad:e,isProgChatInput:n,progChatInputPerfMarkMissing:r}),i.current=null},[]),_=(0,h.useCallback)(()=>{o.current=performance.now(),l.current=!1},[]),S=(0,h.useCallback)(e=>{if(null===o.current||l.current)return;l.current=!0;let t=performance.now()-o.current;f.trackTTFT(t,e),o.current=null},[]),k=(0,h.useCallback)(()=>{if(u.current||null===d.current)return;u.current=!0;let e=performance.now()-d.current;f.trackProjectConversationsReady(e),d.current=null},[]),M=(0,h.useCallback)(()=>{if(m.current||null===c.current)return;m.current=!0;let e=performance.now()-c.current;f.trackMembersListReady(e),c.current=null},[]),w=(0,h.useMemo)(()=>({markEditorReady:v,markMessageSent:_,markFirstTokenReceived:S,markProjectConversationsReady:k,markMembersListReady:M}),[v,_,S,k,M]);return(0,r.jsx)(y.Provider,{value:w,children:t})}function S(){let e=(0,h.useContext)(y);if(!e)throw Error("usePerformanceMetrics must be used within a PerformanceMetricsProvider");return e}}}]);