try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="023f2083-4db1-4f0c-8141-32d3f285c2d4",e._sentryDebugIdIdentifier="sentry-dbid-023f2083-4db1-4f0c-8141-32d3f285c2d4")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33291],{0x14a6d5f1:(e,a,t)=>{t.d(a,{A9:()=>p,Wq:()=>m,fC:()=>f,qv:()=>y});var n=t(0x12c9046cd),l=t(0x14de19ae8),o=t(0x49fac030),r=t(0xac309a83),s=t(0x17f3a2521),i=t(0x78b33fbd),d=t(0x156c4e43b);let u={image_in:!0,pdf_in:!1},c=d.YO(r.xR),f=e=>{let{activeOrganization:a}=(0,l.YL)(),t=null==a?void 0:a.uuid,{data:r,isLoading:s,isPlaceholderData:i}=(0,n.Sk)("/api/organizations/".concat(t,"/model_configs/").concat(e),{queryKey:[o.yV,t,e],enabled:!!t,staleTime:3e5,meta:{noToast:!0}});return{isLoading:s,modelConfig:!i&&r||u}},g=[],p=()=>{var e;let a=(0,r.fS)("backend_model_config"),{activeOrganization:t}=(0,l.YL)(),n=(0,l.h0)(),o=(0,r.T9)("claude_ai_models","models",g,s.KQ),d=a?null!=(e=null==t?void 0:t.claude_ai_bootstrap_models_config)?e:g:o,u=(0,i.useLayer)("frontend").get("use_obfuscated_model_names",!1),c=(0,r.T9)("claude_ai_model_selector_obfuscated_names","models",null,s.KQ.nullable()),f=!n&&u&&c?c:d,p=f.filter(e=>!e.inactive),m=p.filter(e=>!e.overflow),y=p.filter(e=>e.overflow);return{allModelOptions:f,activeModelOptions:p,mainModels:m,overflowModels:y}},m=()=>{let{allModelOptions:e}=p();return(a,t)=>{let n=e.find(e=>e.model===a);if(!n)return!1;let l=null==n?void 0:n.capabilities;return!l||!1!==l[t]}},y=()=>{let e=(0,l.h0)(),a=(0,i.useLayer)("frontend").get("free_tier_available_models",[]),t=(0,r.T9)("claude_ai_free_tier_available_models","models",[],c);return e?[]:a.length>0?a:t}},0x87b1176c:(e,a,t)=>{t.d(a,{Bg:()=>d,fR:()=>f,iV:()=>c,ih:()=>u,nI:()=>g});var n=t(0x12c9046cd),l=t(0x14de19ae8),o=t(0x139b5e710),r=t(0x49fac030),s=t(0x1b813d90),i=t(0x17e725145);let d=()=>{let{account:e,activeOrganization:a}=(0,l.YL)(),t=null==e?void 0:e.uuid,o=null==a?void 0:a.uuid,d=(0,i.useQueryClient)();return(0,n.L2)("/api/organizations/".concat(o,"/sync/mcp/drive/ingest"),"POST",{onSuccess:()=>{setTimeout(()=>{d.invalidateQueries({queryKey:[r.hx,{orgUuid:o,accountUuid:t,syncSourceType:s.v8.GDRIVE}]})},300)}})},u=()=>{let{activeOrganization:e}=(0,l.YL)(),a=null==e?void 0:e.uuid,{addError:t}=(0,o.Y)(),d=(0,i.useQueryClient)();return(0,n.L2)("/api/organizations/".concat(a,"/sync/ingestion/gdrive/clean_up"),"POST",{onSuccess:()=>{d.invalidateQueries({queryKey:[r.hx,{orgUuid:a,syncSourceType:s.v8.GDRIVE}]})},onError:e=>{t(e.message,{error:e,errorContext:{tags:{source:"knowledge_cleanup_ingestion"}}})}})},c=e=>{let{activeOrganization:a}=(0,l.YL)(),t=null==a?void 0:a.uuid,o=(0,i.useQueryClient)();return(0,n.L2)("/api/organizations/".concat(t,"/projects/").concat(e,"/kb/resync"),"POST",{enabled:!!e,meta:{noToast:!0},onSuccess:a=>{"done"===a.status&&o.invalidateQueries({queryKey:[r.qz,{orgUuid:t,projectUuid:e}]}),e&&a.gdrive_resource_backfill_triggered&&o.invalidateQueries({queryKey:[r.LV,{orgUuid:t,projectUuid:e}]})}})},f=function(e){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{activeOrganization:t}=(0,l.YL)(),o=null==t?void 0:t.uuid;return(0,n.Sk)("/api/organizations/".concat(o,"/projects/").concat(e,"/kb/stats"),{queryKey:[r.qz,{orgUuid:o,projectUuid:e}],enabled:!!e&&a})},g=()=>{let{activeOrganization:e}=(0,l.YL)(),a=null==e?void 0:e.uuid;return(0,n.L2)("/api/organizations/".concat(a,"/conversation/backfill"),"POST",{})}},0x101fa1001:(e,a,t)=>{t.d(a,{Si:()=>S,i1:()=>E,vV:()=>q,fU:()=>F});var n=t(0x52e2618c),l=t(0x22102fd88),o=t(0x597e433e),r=t(0x1139502dd),s=t(0x14aef0225),i=t(0x226530adf),d=t(0x14a6d5f1),u=t(0xfd34bc37),c=t(0xf32c56dd),f=t(0x12c9046cd),g=t(0x14de19ae8),p=t(0x139b5e710),m=t(0x14fe1b2a5),y=t(0x1b370f49d),x=t(0x1016c6ed2),h=t(0x20e00cddd),b=t(0x49fac030),v=t(0xac309a83),_=t(0x214c6246e),w=t(0x20b796df9),M=t(0x17e725145),j=t(0xfc89b4a4),C=t(0x38e6572),k=t(0x1ab0d1ca1),A=t(0x5267d157),z=t(0x15b1a866a),T=t(0x25d59887);let L=[{matcher:e=>e.message.toLowerCase().includes("failed to fetch")||e.message.toLowerCase().includes("load failed")||e.message.toLowerCase().includes("networkerror"),createMessage:()=>(0,l.jsx)(C.A,{defaultMessage:"Upload failed due to a network issue. Check your internet connection and try again.",id:"1bxKaj0pKU"})},{matcher:e=>e.message.includes("password protected")||e.message.includes("document_password_protected"),createMessage:()=>(0,l.jsx)(C.A,{defaultMessage:"The document you uploaded is password protected. Please remove the password and try again.",id:"DHwwKwuaCR"})},{matcher:e=>e.message.includes("https://docs.claude.com/en/docs/build-with-claude/files#error-handling"),createMessage:()=>(0,l.jsx)(C.A,{defaultMessage:'The title of the document you uploaded is too long, or includes forbidden characters (<, >, :, ", |, ?, *, \\, /, or unicode characters 0-31)',id:"NdLqN5Z3bE"})},{matcher:e=>e.message.includes("Code execution and file creation"),extractor:e=>[...new Set(e.map(e=>(0,o.QC)(e.file.name)))],createMessage:e=>(0,l.jsx)(C.A,{defaultMessage:"Files of the following {count, plural, one {format} other {formats}} require 'Code execution and file creation'. Go to Settings > Capabilities to enable: {formats}",id:"o/NOFEuWmE",values:{count:e.length,formats:(0,l.jsx)(z.dT,{type:"conjunction",value:e})}})},{matcher:e=>e.message.includes("not supported"),extractor:e=>[...new Set(e.map(e=>(0,o.QC)(e.file.name)))],createMessage:e=>(0,l.jsx)(C.A,{defaultMessage:"Files of the following {count, plural, one {format is} other {formats are}} not supported: {formats}",id:"9JcWWPAZoB",values:{count:e.length,formats:(0,l.jsx)(z.dT,{type:"conjunction",value:e})}})},{matcher:e=>e.message.includes("exceeds maximum size")||e.message.includes("File too large"),extractor:e=>e.map(e=>({file_type:e.file.type,file_size:e.file.size})),createMessage:()=>{let e=Math.floor(r.gZ/1048576);return(0,l.jsx)(C.A,{defaultMessage:"You may not upload files larger than {sizeLimit}mb.",id:"nW3gZD88Va",values:{sizeLimit:e}})},trackAnalytics:(e,a)=>{e.track({event_key:"file_upload_too_large",large_files:a})}}];function P(){let e=(0,n._)(["\n  relative\n  grid\n  place-content-center\n  aspect-square\n  rounded-xl\n  cursor-pointer\n  transition\n  [fieldset:not(:disabled)_&]:hover:bg-bg-400\n  [fieldset:disabled_&]:opacity-50\n  [fieldset:disabled_&]:pointer-events-none\n  focus-within:ring\n  inline-flex\n  items-center\n  justify-center\n  relative\n  shrink-0\n  ring-offset-2\n  ring-offset-bg-300\n  ring-accent-main-100\n  focus-visible:outline-none\n  focus-visible:ring-1\n  disabled:pointer-events-none\n  disabled:opacity-50\n  disabled:shadow-none\n  disabled:drop-shadow-none\n  bg-[radial-gradient(ellipse,_var(--tw-gradient-stops))]\n  from-bg-500/10\n  from-50%\n  to-bg-500/30\n  border-0.5\n  border-border-400\n  font-medium\n  font-ui\n  text-text-100/90\n  transition-colors\n  active:bg-bg-500/50\n  hover:text-text-000\n  hover:bg-bg-500/60\n"]);return P=function(){return e},e}function S(e){let{syncSourceCount:a,files:t,setFiles:n,numExistingConversationFiles:s,attachments:u,setAttachments:c,numExistingConversationAttachments:f,detectSameAttachment:g,selectedModel:m,blobFileUploadsEnabled:x,conversationUuid:h,wiggleEnabled:b}=e,{addError:v}=(0,p.Y)(),M=(0,i.Z3)(null);return function(e){let{syncSourceCount:a,onUploadComplete:t,existingAttachments:n,existingFiles:s,numExistingConversationAttachments:i,numExistingConversationFiles:u,selectedModel:c,blobFileUploadsEnabled:f,conversationUuid:g,wiggleEnabled:p}=e,m=(0,k.A)(),{modelConfig:x}=(0,d.fC)(c),h=x.image_in,[b,v,M,A]=function(e){let{syncSourceCount:a,onUploadComplete:t,existingAttachments:n,existingFiles:o,numExistingConversationFiles:s,selectedModel:i,blobFileUploadsEnabled:u,conversationUuid:c,wiggleEnabled:f}=e,{modelConfig:g}=(0,d.fC)(i),p=g.image_in,m=E()&&g.pdf_in,{isUploading:y,setIsUploading:x,handleError:h,handleUpload:b}=q({imagesEnabled:p,blobFileUploadsEnabled:u,onUploadComplete:t,rasterizePdfUploadsEnabled:m,conversationUuid:c,wiggleEnabled:f}),v=(0,j.useCallback)(e=>{let{newUploads:t=[],numNewPotentialAttachments:i=0,showError:d=!0}=e;if(i+t.length+(n.length+o.length+a)>r.XA.maxTotalUploadsPerMessage)return d&&h((0,l.jsx)(C.A,{defaultMessage:"You can add at most {count, plural, one {# attachment} other {# attachments}} to a message. Please select fewer attachments.",id:"qxV00r12ob",values:{count:r.XA.maxTotalUploadsPerMessage}})),!1;let c=s||0,{messageFileCount:f}=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=0,n=0,l=0;for(let o of e){let{willBecomeMessageFile:e,category:s}=function(e){var a;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(null==(a=e.name.split(".").pop())?void 0:a.toLowerCase())||"";return r.h8.includes(n)?{category:"image",willBecomeMessageFile:!!t.imagesEnabled}:r.Ap.includes(n)?{category:"pdf",willBecomeMessageFile:!!t.rasterizePdfUploadsEnabled,requiresFeatureGate:"janus_claude-ai"}:r.PC.includes(n)?{category:"out-of-context",willBecomeMessageFile:!!t.blobFileUploadsEnabled,requiresFeatureGate:"ooc_attachments"}:r.BA.includes(n)?{category:"text",willBecomeMessageFile:!1}:r.pH.includes(n)?{category:"document",willBecomeMessageFile:!1}:{category:"unsupported",willBecomeMessageFile:!1}}(o,a);"unsupported"===s?l++:e?t++:n++}return{messageFileCount:t,messageAttachmentCount:n,unsupportedCount:l}}(t,{blobFileUploadsEnabled:u,imagesEnabled:p,rasterizePdfUploadsEnabled:m});if(c+f>r.XA.maxFilesPerConversation){var g;return d&&h((g=r.XA.maxFilesPerConversation,(0,l.jsx)(C.A,{defaultMessage:"You can add at most {count, plural, one {# file} other {# files}} to a chat. {suggestion}",id:"QyrCxYs5Jy",values:{count:g,suggestion:c<g?(0,l.jsx)(C.A,{defaultMessage:"Please select fewer files.",id:"a6KVizNPLe"}):(0,l.jsx)(C.A,{defaultMessage:"Please consider starting a new chat.",id:"oN0R8lZNm6"})}}))),!1}return!0},[n,o,a,h,u,s,p,m]);return[y,x,v,(0,j.useCallback)(async e=>{v({newUploads:e})&&await b(e)},[b,v])]}({syncSourceCount:a,onUploadComplete:t,existingFiles:s,existingAttachments:n,numExistingConversationFiles:u,numExistingConversationAttachments:i,selectedModel:c,blobFileUploadsEnabled:f,conversationUuid:g,wiggleEnabled:p}),z=function(e){let{handleUpload:a}=e,t=(0,j.useRef)({ready:0,total:0}),n=(0,j.useCallback)(()=>{t.current={ready:0,total:0}},[]),l=(0,j.useCallback)(e=>{t.current.ready+=1,t.current.total===t.current.ready&&a(e)},[a]),o=(0,j.useCallback)((e,a)=>{let n=e.length;for(let r=0;r<n;r++){let n=e[r];n.isFile?(t.current.total+=1,n.file(e=>{a.push(e),l(a)})):n.isDirectory&&n.createReader().readEntries(e=>{o(e,a)})}},[l]);return(0,j.useCallback)(e=>{var a;e.preventDefault(),n();let t=null==(a=e.dataTransfer)?void 0:a.items;if(!t)return;let l=[];for(let e=0;e<(null==t?void 0:t.length);e++){let a=t[e].webkitGetAsEntry();a&&l.push(a)}o(l,[])},[o,n])}({handleUpload:A}),T=(0,j.useCallback)(async e=>{let a=Array.from(e).map(e=>new File([e],"".concat(Date.now(),"_").concat(e.name),{type:e.type,lastModified:e.lastModified}));await A(a)},[A]),L=(0,j.useCallback)(async e=>{let a=e.target.files;a&&await A(Array.from(a)),e.target.value=""},[A]),P=Math.floor(r.XA.maxFileSize/1048576),S=h?(0,l.jsx)(C.A,{defaultMessage:"Upload docs or images to Claude\\n(Max {maxUploads}, {maxSize}mb each)",id:"TGYeob9u0b",values:{maxUploads:r.XA.maxTotalUploadsPerMessage,maxSize:P}}):(0,l.jsx)(C.A,{defaultMessage:"Add content ({maxUploads} max, {maxSize}mb each)\\nAccepts pdf, txt, csv, etc.",id:"rW/kw78ou7",values:{maxUploads:r.XA.maxTotalUploadsPerMessage,maxSize:P}}),F=(0,j.useCallback)(e=>{L(e)},[L]),K=(0,j.useMemo)(()=>({type:"file",accept:p?"":(0,o.cm)({imagesEnabled:h,outOfContextFilesEnabled:f}).join(","),onChange:F,multiple:!0,"aria-label":m.formatMessage({defaultMessage:"Upload files",id:"2jjdVzJX0c"})}),[h,f,p,F,m]);return[b,v,M,z,T,A,(0,l.jsx)(y.Tooltip,{className:"text-center",tooltipContent:S,children:(0,l.jsxs)(Y,{children:[(0,l.jsx)("input",{"data-testid":"file-upload",className:"absolute inset-0 -z-10 overflow-hidden rounded-xl opacity-0",...K}),b?(0,l.jsx)(_.N,{className:"animate-spin",size:18}):(0,l.jsx)(w.x,{size:18,weight:"light"})]})},"upload-tooltip"),K]}({syncSourceCount:a,onUploadComplete:(0,j.useCallback)(async(e,a)=>{if(g&&e.find(e=>g(e.extracted_content)))return void v((0,l.jsx)(C.A,{defaultMessage:"The same attachment was already added earlier. Claude sees the full conversation when replying, so there’s no need to re-upload.",id:"Uo3qvhGn7z"}));c(a=>[...a,...e]),n(e=>[...e,...a]),await Promise.resolve()},[g,v,c,n]),existingAttachments:u,existingFiles:t,numExistingConversationAttachments:f,numExistingConversationFiles:s,selectedModel:null!=m?m:M,blobFileUploadsEnabled:x,conversationUuid:h,wiggleEnabled:b})}let F=()=>{let e=(0,f.mn)(),a=(0,M.useQueryClient)();return async(t,n,l)=>{let o=new FormData;o.append("file",t);let r=l?"/api/organizations/".concat(n,"/projects/").concat(l,"/upload"):"/api/".concat(n,"/upload"),s=await e(r,{method:"POST",body:o}),i=await s.json();if(s.ok)return l&&a.invalidateQueries({queryKey:[b.qz,{orgUuid:n,projectUuid:l}]}),i;throw(0,x.a5)({status:s.status,response:i,fallbackMessage:"File upload failed",headers:s.headers,endpoint:r,method:"POST"})}},q=e=>{var a;let{imagesEnabled:t,blobFileUploadsEnabled:n,rasterizePdfUploadsEnabled:o,onUploadComplete:i,onError:d,projectUuid:f,conversationUuid:m,wiggleEnabled:y}=e,{activeOrganization:b}=(0,g.YL)(),v=null!=(a=null==b?void 0:b.uuid)?a:"",[_]=(0,u.d)(),w=m||_,[M,k]=(0,j.useState)(!1),{addError:z}=(0,p.Y)(),P=(()=>{let{addError:e}=(0,p.Y)();return(0,j.useCallback)((a,t)=>{if(a instanceof x.LG){if("rate_limit_error"===a.type)return void e((0,l.jsxs)("p",{children:[(0,l.jsx)(C.A,{defaultMessage:"You’ve reached your limit for {resourceType} uploads. Please try again later.",id:"M88GeEDB7r",values:{resourceType:t}}),(0,l.jsx)(T.W,{})]}),{error:a});if("document_password_protected"===a.errorCode)return void e((0,l.jsx)("p",{children:(0,l.jsx)(C.A,{defaultMessage:"The document you uploaded is password protected. Please remove the password and try again.",id:"DHwwKwuaCR"})}),{error:a})}if(a instanceof x.LG&&"Image is too large"===a.message)return void e((0,l.jsx)("p",{children:(0,l.jsx)(C.A,{defaultMessage:"Image is too large. <link>Learn more</link>",id:"SFbt+MAvby",values:{link:e=>(0,l.jsx)("a",{href:"https://support.anthropic.com/en/articles/9002500-what-kinds-of-images-can-i-upload-to-claude-ai",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-accent-main-100",children:e})}})}),{error:a});e((0,l.jsx)("p",{children:(0,l.jsx)(C.A,{defaultMessage:"Your {resourceType} upload failed. Please try again.",id:"ymWsV10Pz1",values:{resourceType:t}})}),{error:a})},[e])})(),S=(0,j.useCallback)(e=>{k(!1),z(e,{errorContext:{tags:{source:"file_upload"}}}),d&&d()},[z,d,k]),F=(0,c.st)(),q=(0,j.useCallback)(async(e,a)=>{k(!0);try{if(!v)throw Error("Organization not loaded. Please try again.");let d=(0,s.e)(),u=(0,s.O)(e),c=function(e){let{orgUuid:a,projectUuid:t,conversationUuid:n,imagesEnabled:l,rasterizePdfUploadsEnabled:o,blobFileUploadsEnabled:s,wiggleEnabled:i}=e;return{orgUuid:a,projectUuid:t,conversationUuid:n,modelConfig:{image_in:l,pdf_in:o},featureGates:{janus_claude_ai:o,ooc_attachments:s,use_canvas_resize:!0,wiggleEnabled:i},limits:r.XA}}({orgUuid:v,projectUuid:f,conversationUuid:w,imagesEnabled:t,rasterizePdfUploadsEnabled:o,blobFileUploadsEnabled:n,wiggleEnabled:y}),g=await d.processFiles(u,c),{attachments:p,files:m,errors:x}=function(e){let a=[],t=[],n=[];for(let n of e.successful){let e=n.data;"attachment"===n.type?"extracted_content"in e&&a.push(e):"file_kind"in e&&t.push(e)}for(let a of e.failed)n.push({file:a.file,error:a.error});return{attachments:a,files:t,errors:n}}(g);if(function(e,a,t){if(0===e.length)return!1;for(let n of L){let l=e.filter(e=>n.matcher(e.error));if(l.length>0){let e=n.extractor?n.extractor(l):l;return n.trackAnalytics&&n.trackAnalytics(t,e),a(n.createMessage(e)),!0}}for(let t of e)if(t.error instanceof A.o)return a((0,A.B)(t.error)),!0;return e.forEach(e=>a(e.error.message)),!0}(x,S,F))return;let b=function(e,a,t){if(void 0===a||0===e.length)return e;let n=0,o=[];for(let r of e){if((n+=new Blob([r.extracted_content]).size/h.t2)>a)return t((0,l.jsx)(C.A,{defaultMessage:"Failed to upload file {filename}. Project knowledge exceeds maximum. Remove files to continue.",id:"MbvF6K3PJd",values:{filename:r.file_name}})),[];o.push(r)}return o}(p,a,S);if(0===b.length&&p.length>0)return;(b.length>0||m.length>0)&&await i(b,m)}catch(a){if(function(e,a){return e instanceof Error?(e.isRateLimit?a((0,l.jsx)(C.A,{defaultMessage:"Too many file upload attempts. Please wait and try again later.",id:"h/6cMHSn1V"})):413===e.statusCode||"file_too_large"===e.errorType?a((0,l.jsx)(C.A,{defaultMessage:"Uploaded file is too large. Try uploading a smaller part of the document, or copy/pasting an excerpt from the file.",id:"/mCoauj3Ws"})):"extraction_failed"===e.errorType?a((0,l.jsx)(C.A,{defaultMessage:"The file format may not be supported or the file may be corrupted.",id:"CvPTXPZIw8"})):a((0,l.jsx)(C.A,{defaultMessage:"One or more file uploads have failed. Please try again.",id:"FIwcYDeyIC"})),!0):(a((0,l.jsx)(C.A,{defaultMessage:"One or more file uploads have failed. Please try again.",id:"FIwcYDeyIC"})),!0)}(a,S))return;let e="file";a instanceof Error&&a.message.includes("image")&&(e="image"),P(a,e)}finally{k(!1)}},[n,i,t,w,S,P,v,F,o,f,y]);return{isUploading:M,setIsUploading:k,handleError:S,handleUpload:q}},Y=m.J.label(P()),E=()=>(0,v.fS)("janus_claude-ai")},0x1bd42f6d2:(e,a,t)=>{t.d(a,{CO:()=>f,M3:()=>d,bG:()=>u,ks:()=>p,pz:()=>i,z_:()=>c});var n=t(0x12c9046cd),l=t(0x14de19ae8),o=t(0x49fac030),r=t(0x17e725145),s=t(0x18175ce17);let i=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:t}=(0,l.YL)(),o=null==t?void 0:t.uuid,r=g(),i=(0,s.eL)();return(0,n.L2)(()=>"/api/organizations/".concat(o,"/projects/").concat(e,"/syncs"),"POST",{enabled:!!(t&&e),...a,onSuccess:function(){for(var t,n=arguments.length,l=Array(n),o=0;o<n;o++)l[o]=arguments[o];r(e),null==(t=a.onSuccess)||t.call(a,...l)},onError:function(){for(var e,t=arguments.length,n=Array(t),l=0;l<t;l++)n[l]=arguments[l];null==(e=a.onError)||e.call(a,...n);let[o,r]=n;i(o,r)}})},d=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:t}=(0,l.YL)(),o=null==t?void 0:t.uuid,r=g();return(0,n.L2)(()=>"/api/organizations/".concat(o,"/projects/").concat(e,"/syncs"),"PUT",{enabled:!!(t&&e),...a,onSuccess:function(){for(var t,n=arguments.length,l=Array(n),o=0;o<n;o++)l[o]=arguments[o];r(e),null==(t=a.onSuccess)||t.call(a,...l)}})},u=e=>{let{activeOrganization:a}=(0,l.YL)(),t=null==a?void 0:a.uuid,r=g();return(0,n.Qv)(a=>"/api/organizations/".concat(t,"/projects/").concat(e,"/syncs/").concat(a),"DELETE",(e,a)=>a?a.filter(a=>a.uuid!==e):a,{queryKey:[o.LV,{orgUuid:t,projectUuid:e}],enabled:!!a,onSuccess:()=>{r(e)}})},c=e=>{let{activeOrganization:a}=(0,l.YL)(),t=null==a?void 0:a.uuid,r=g();return(0,n.Qv)(()=>"/api/organizations/".concat(t,"/projects/").concat(e,"/syncs/delete_many"),"POST",(e,a)=>a?a.filter(a=>!e.sync_source_uuids.includes(a.uuid)):a,{queryKey:[o.LV,{orgUuid:t,projectUuid:e}],enabled:!!a,onSuccess:()=>{r(e)}})},f=function(e,a){let t=!(arguments.length>2)||void 0===arguments[2]||arguments[2],{activeOrganization:i}=(0,l.YL)(),d=null==i?void 0:i.uuid,u=(0,r.useQueryClient)(),c=!!(i&&e&&t),{data:f,isLoading:g}=(0,n.Sk)("/api/organizations/".concat(d,"/projects/").concat(e,"/syncs?calculate_size=").concat(null!=a&&a),{queryKey:[o.LV,{orgUuid:d,projectUuid:e,calculateSize:a}],enabled:c,refetchInterval:e=>{var a;return(null==(a=e.state.data)?void 0:a.some(s.z3))?5e3:3e5},structuralSharing:(a,t)=>{let n=void 0!==a&&a.some(s.z3),l=void 0!==t&&t.some(s.z3);return n&&!l&&u.invalidateQueries({queryKey:[o.qz,{orgUuid:d,projectUuid:e}]}),t}});return{data:f,isLoading:!!c&&g}},g=()=>{let{activeOrganization:e}=(0,l.YL)(),a=null==e?void 0:e.uuid,t=(0,r.useQueryClient)();return e=>{t.invalidateQueries({queryKey:[o.LV,{orgUuid:a,projectUuid:e}]}),t.invalidateQueries({queryKey:[o._G,{orgUuid:a,projectUuid:e}]}),t.invalidateQueries({queryKey:[o.qz,{orgUuid:a,projectUuid:e}]})}},p=e=>{let{data:a}=f(e);return!!(null==a?void 0:a.some(s.z3))}}}]);